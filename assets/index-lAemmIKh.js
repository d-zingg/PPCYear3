(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))c(f);new MutationObserver(f=>{for(const m of f)if(m.type==="childList")for(const h of m.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&c(h)}).observe(document,{childList:!0,subtree:!0});function o(f){const m={};return f.integrity&&(m.integrity=f.integrity),f.referrerPolicy&&(m.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?m.credentials="include":f.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function c(f){if(f.ep)return;f.ep=!0;const m=o(f);fetch(f.href,m)}})();function tf(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var va={exports:{}},ss={},ya={exports:{}},ge={};var Nc;function nf(){if(Nc)return ge;Nc=1;var i=Symbol.for("react.element"),a=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),h=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),y=Symbol.iterator;function k(N){return N===null||typeof N!="object"?null:(N=y&&N[y]||N["@@iterator"],typeof N=="function"?N:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,w={};function C(N,M,O){this.props=N,this.context=M,this.refs=w,this.updater=O||A}C.prototype.isReactComponent={},C.prototype.setState=function(N,M){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,M,"setState")},C.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function D(){}D.prototype=C.prototype;function L(N,M,O){this.props=N,this.context=M,this.refs=w,this.updater=O||A}var T=L.prototype=new D;T.constructor=L,W(T,C.prototype),T.isPureReactComponent=!0;var se=Array.isArray,de=Object.prototype.hasOwnProperty,oe={current:null},me={key:!0,ref:!0,__self:!0,__source:!0};function xe(N,M,O){var Q,Y={},re=null,ve=null;if(M!=null)for(Q in M.ref!==void 0&&(ve=M.ref),M.key!==void 0&&(re=""+M.key),M)de.call(M,Q)&&!me.hasOwnProperty(Q)&&(Y[Q]=M[Q]);var G=arguments.length-2;if(G===1)Y.children=O;else if(1<G){for(var he=Array(G),$e=0;$e<G;$e++)he[$e]=arguments[$e+2];Y.children=he}if(N&&N.defaultProps)for(Q in G=N.defaultProps,G)Y[Q]===void 0&&(Y[Q]=G[Q]);return{$$typeof:i,type:N,key:re,ref:ve,props:Y,_owner:oe.current}}function ye(N,M){return{$$typeof:i,type:N.type,key:M,ref:N.ref,props:N.props,_owner:N._owner}}function pe(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function ze(N){var M={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(O){return M[O]})}var Se=/\/+/g;function ke(N,M){return typeof N=="object"&&N!==null&&N.key!=null?ze(""+N.key):M.toString(36)}function Pe(N,M,O,Q,Y){var re=typeof N;(re==="undefined"||re==="boolean")&&(N=null);var ve=!1;if(N===null)ve=!0;else switch(re){case"string":case"number":ve=!0;break;case"object":switch(N.$$typeof){case i:case a:ve=!0}}if(ve)return ve=N,Y=Y(ve),N=Q===""?"."+ke(ve,0):Q,se(Y)?(O="",N!=null&&(O=N.replace(Se,"$&/")+"/"),Pe(Y,M,O,"",function($e){return $e})):Y!=null&&(pe(Y)&&(Y=ye(Y,O+(!Y.key||ve&&ve.key===Y.key?"":(""+Y.key).replace(Se,"$&/")+"/")+N)),M.push(Y)),1;if(ve=0,Q=Q===""?".":Q+":",se(N))for(var G=0;G<N.length;G++){re=N[G];var he=Q+ke(re,G);ve+=Pe(re,M,O,he,Y)}else if(he=k(N),typeof he=="function")for(N=he.call(N),G=0;!(re=N.next()).done;)re=re.value,he=Q+ke(re,G++),ve+=Pe(re,M,O,he,Y);else if(re==="object")throw M=String(N),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return ve}function ae(N,M,O){if(N==null)return N;var Q=[],Y=0;return Pe(N,Q,"","",function(re){return M.call(O,re,Y++)}),Q}function ee(N){if(N._status===-1){var M=N._result;M=M(),M.then(function(O){(N._status===0||N._status===-1)&&(N._status=1,N._result=O)},function(O){(N._status===0||N._status===-1)&&(N._status=2,N._result=O)}),N._status===-1&&(N._status=0,N._result=M)}if(N._status===1)return N._result.default;throw N._result}var ue={current:null},B={transition:null},q={ReactCurrentDispatcher:ue,ReactCurrentBatchConfig:B,ReactCurrentOwner:oe};function I(){throw Error("act(...) is not supported in production builds of React.")}return ge.Children={map:ae,forEach:function(N,M,O){ae(N,function(){M.apply(this,arguments)},O)},count:function(N){var M=0;return ae(N,function(){M++}),M},toArray:function(N){return ae(N,function(M){return M})||[]},only:function(N){if(!pe(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},ge.Component=C,ge.Fragment=o,ge.Profiler=f,ge.PureComponent=L,ge.StrictMode=c,ge.Suspense=v,ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,ge.act=I,ge.cloneElement=function(N,M,O){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var Q=W({},N.props),Y=N.key,re=N.ref,ve=N._owner;if(M!=null){if(M.ref!==void 0&&(re=M.ref,ve=oe.current),M.key!==void 0&&(Y=""+M.key),N.type&&N.type.defaultProps)var G=N.type.defaultProps;for(he in M)de.call(M,he)&&!me.hasOwnProperty(he)&&(Q[he]=M[he]===void 0&&G!==void 0?G[he]:M[he])}var he=arguments.length-2;if(he===1)Q.children=O;else if(1<he){G=Array(he);for(var $e=0;$e<he;$e++)G[$e]=arguments[$e+2];Q.children=G}return{$$typeof:i,type:N.type,key:Y,ref:re,props:Q,_owner:ve}},ge.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:m,_context:N},N.Consumer=N},ge.createElement=xe,ge.createFactory=function(N){var M=xe.bind(null,N);return M.type=N,M},ge.createRef=function(){return{current:null}},ge.forwardRef=function(N){return{$$typeof:j,render:N}},ge.isValidElement=pe,ge.lazy=function(N){return{$$typeof:S,_payload:{_status:-1,_result:N},_init:ee}},ge.memo=function(N,M){return{$$typeof:p,type:N,compare:M===void 0?null:M}},ge.startTransition=function(N){var M=B.transition;B.transition={};try{N()}finally{B.transition=M}},ge.unstable_act=I,ge.useCallback=function(N,M){return ue.current.useCallback(N,M)},ge.useContext=function(N){return ue.current.useContext(N)},ge.useDebugValue=function(){},ge.useDeferredValue=function(N){return ue.current.useDeferredValue(N)},ge.useEffect=function(N,M){return ue.current.useEffect(N,M)},ge.useId=function(){return ue.current.useId()},ge.useImperativeHandle=function(N,M,O){return ue.current.useImperativeHandle(N,M,O)},ge.useInsertionEffect=function(N,M){return ue.current.useInsertionEffect(N,M)},ge.useLayoutEffect=function(N,M){return ue.current.useLayoutEffect(N,M)},ge.useMemo=function(N,M){return ue.current.useMemo(N,M)},ge.useReducer=function(N,M,O){return ue.current.useReducer(N,M,O)},ge.useRef=function(N){return ue.current.useRef(N)},ge.useState=function(N){return ue.current.useState(N)},ge.useSyncExternalStore=function(N,M,O){return ue.current.useSyncExternalStore(N,M,O)},ge.useTransition=function(){return ue.current.useTransition()},ge.version="18.3.1",ge}var bc;function Ea(){return bc||(bc=1,ya.exports=nf()),ya.exports}var Sc;function rf(){if(Sc)return ss;Sc=1;var i=Ea(),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,f=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m={key:!0,ref:!0,__self:!0,__source:!0};function h(j,v,p){var S,y={},k=null,A=null;p!==void 0&&(k=""+p),v.key!==void 0&&(k=""+v.key),v.ref!==void 0&&(A=v.ref);for(S in v)c.call(v,S)&&!m.hasOwnProperty(S)&&(y[S]=v[S]);if(j&&j.defaultProps)for(S in v=j.defaultProps,v)y[S]===void 0&&(y[S]=v[S]);return{$$typeof:a,type:j,key:k,ref:A,props:y,_owner:f.current}}return ss.Fragment=o,ss.jsx=h,ss.jsxs=h,ss}var Cc;function sf(){return Cc||(Cc=1,va.exports=rf()),va.exports}var r=sf(),g=Ea();const bl=tf(g);var kc="popstate";function lf(i={}){function a(f,m){let{pathname:h="/",search:j="",hash:v=""}=Hn(f.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),ka("",{pathname:h,search:j,hash:v},m.state&&m.state.usr||null,m.state&&m.state.key||"default")}function o(f,m){let h=f.document.querySelector("base"),j="";if(h&&h.getAttribute("href")){let v=f.location.href,p=v.indexOf("#");j=p===-1?v:v.slice(0,p)}return j+"#"+(typeof m=="string"?m:is(m))}function c(f,m){gt(f.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(m)})`)}return of(a,o,c,i)}function De(i,a){if(i===!1||i===null||typeof i>"u")throw new Error(a)}function gt(i,a){if(!i){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function af(){return Math.random().toString(36).substring(2,10)}function Pc(i,a){return{usr:i.state,key:i.key,idx:a}}function ka(i,a,o=null,c){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof a=="string"?Hn(a):a,state:o,key:a&&a.key||c||af()}}function is({pathname:i="/",search:a="",hash:o=""}){return a&&a!=="?"&&(i+=a.charAt(0)==="?"?a:"?"+a),o&&o!=="#"&&(i+=o.charAt(0)==="#"?o:"#"+o),i}function Hn(i){let a={};if(i){let o=i.indexOf("#");o>=0&&(a.hash=i.substring(o),i=i.substring(0,o));let c=i.indexOf("?");c>=0&&(a.search=i.substring(c),i=i.substring(0,c)),i&&(a.pathname=i)}return a}function of(i,a,o,c={}){let{window:f=document.defaultView,v5Compat:m=!1}=c,h=f.history,j="POP",v=null,p=S();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function S(){return(h.state||{idx:null}).idx}function y(){j="POP";let C=S(),D=C==null?null:C-p;p=C,v&&v({action:j,location:w.location,delta:D})}function k(C,D){j="PUSH";let L=ka(w.location,C,D);o&&o(L,C),p=S()+1;let T=Pc(L,p),se=w.createHref(L);try{h.pushState(T,"",se)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;f.location.assign(se)}m&&v&&v({action:j,location:w.location,delta:1})}function A(C,D){j="REPLACE";let L=ka(w.location,C,D);o&&o(L,C),p=S();let T=Pc(L,p),se=w.createHref(L);h.replaceState(T,"",se),m&&v&&v({action:j,location:w.location,delta:0})}function W(C){return uf(C)}let w={get action(){return j},get location(){return i(f,h)},listen(C){if(v)throw new Error("A history only accepts one active listener");return f.addEventListener(kc,y),v=C,()=>{f.removeEventListener(kc,y),v=null}},createHref(C){return a(f,C)},createURL:W,encodeLocation(C){let D=W(C);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:k,replace:A,go(C){return h.go(C)}};return w}function uf(i,a=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),De(o,"No window.location.(origin|href) available to create URL");let c=typeof i=="string"?i:is(i);return c=c.replace(/ $/,"%20"),!a&&c.startsWith("//")&&(c=o+c),new URL(c,o)}function Oc(i,a,o="/"){return cf(i,a,o,!1)}function cf(i,a,o,c){let f=typeof a=="string"?Hn(a):a,m=sn(f.pathname||"/",o);if(m==null)return null;let h=zc(i);df(h);let j=null;for(let v=0;j==null&&v<h.length;++v){let p=Nf(m);j=wf(h[v],p,c)}return j}function zc(i,a=[],o=[],c="",f=!1){let m=(h,j,v=f,p)=>{let S={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:j,route:h};if(S.relativePath.startsWith("/")){if(!S.relativePath.startsWith(c)&&v)return;De(S.relativePath.startsWith(c),`Absolute route path "${S.relativePath}" nested under path "${c}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),S.relativePath=S.relativePath.slice(c.length)}let y=rn([c,S.relativePath]),k=o.concat(S);h.children&&h.children.length>0&&(De(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),zc(h.children,a,k,y,v)),!(h.path==null&&!h.index)&&a.push({path:y,score:vf(y,h.index),routesMeta:k})};return i.forEach((h,j)=>{if(h.path===""||!h.path?.includes("?"))m(h,j);else for(let v of Fc(h.path))m(h,j,!0,v)}),a}function Fc(i){let a=i.split("/");if(a.length===0)return[];let[o,...c]=a,f=o.endsWith("?"),m=o.replace(/\?$/,"");if(c.length===0)return f?[m,""]:[m];let h=Fc(c.join("/")),j=[];return j.push(...h.map(v=>v===""?m:[m,v].join("/"))),f&&j.push(...h),j.map(v=>i.startsWith("/")&&v===""?"/":v)}function df(i){i.sort((a,o)=>a.score!==o.score?o.score-a.score:yf(a.routesMeta.map(c=>c.childrenIndex),o.routesMeta.map(c=>c.childrenIndex)))}var mf=/^:[\w-]+$/,ff=3,hf=2,pf=1,gf=10,xf=-2,Ec=i=>i==="*";function vf(i,a){let o=i.split("/"),c=o.length;return o.some(Ec)&&(c+=xf),a&&(c+=hf),o.filter(f=>!Ec(f)).reduce((f,m)=>f+(mf.test(m)?ff:m===""?pf:gf),c)}function yf(i,a){return i.length===a.length&&i.slice(0,-1).every((c,f)=>c===a[f])?i[i.length-1]-a[a.length-1]:0}function wf(i,a,o=!1){let{routesMeta:c}=i,f={},m="/",h=[];for(let j=0;j<c.length;++j){let v=c[j],p=j===c.length-1,S=m==="/"?a:a.slice(m.length)||"/",y=Sl({path:v.relativePath,caseSensitive:v.caseSensitive,end:p},S),k=v.route;if(!y&&p&&o&&!c[c.length-1].route.index&&(y=Sl({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},S)),!y)return null;Object.assign(f,y.params),h.push({params:f,pathname:rn([m,y.pathname]),pathnameBase:kf(rn([m,y.pathnameBase])),route:k}),y.pathnameBase!=="/"&&(m=rn([m,y.pathnameBase]))}return h}function Sl(i,a){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[o,c]=jf(i.path,i.caseSensitive,i.end),f=a.match(o);if(!f)return null;let m=f[0],h=m.replace(/(.)\/+$/,"$1"),j=f.slice(1);return{params:c.reduce((p,{paramName:S,isOptional:y},k)=>{if(S==="*"){let W=j[k]||"";h=m.slice(0,m.length-W.length).replace(/(.)\/+$/,"$1")}const A=j[k];return y&&!A?p[S]=void 0:p[S]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:m,pathnameBase:h,pattern:i}}function jf(i,a=!1,o=!0){gt(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let c=[],f="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,j,v)=>(c.push({paramName:j,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(c.push({paramName:"*"}),f+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?f+="\\/*$":i!==""&&i!=="/"&&(f+="(?:(?=\\/|$))"),[new RegExp(f,a?void 0:"i"),c]}function Nf(i){try{return i.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return gt(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),i}}function sn(i,a){if(a==="/")return i;if(!i.toLowerCase().startsWith(a.toLowerCase()))return null;let o=a.endsWith("/")?a.length-1:a.length,c=i.charAt(o);return c&&c!=="/"?null:i.slice(o)||"/"}var $c=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bf=i=>$c.test(i);function Sf(i,a="/"){let{pathname:o,search:c="",hash:f=""}=typeof i=="string"?Hn(i):i,m;if(o)if(bf(o))m=o;else{if(o.includes("//")){let h=o;o=o.replace(/\/\/+/g,"/"),gt(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${o}`)}o.startsWith("/")?m=Rc(o.substring(1),"/"):m=Rc(o,a)}else m=a;return{pathname:m,search:Pf(c),hash:Ef(f)}}function Rc(i,a){let o=a.replace(/\/+$/,"").split("/");return i.split("/").forEach(f=>{f===".."?o.length>1&&o.pop():f!=="."&&o.push(f)}),o.length>1?o.join("/"):"/"}function wa(i,a,o,c){return`Cannot include a '${i}' character in a manually specified \`to.${a}\` field [${JSON.stringify(c)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Cf(i){return i.filter((a,o)=>o===0||a.route.path&&a.route.path.length>0)}function Ra(i){let a=Cf(i);return a.map((o,c)=>c===a.length-1?o.pathname:o.pathnameBase)}function Ia(i,a,o,c=!1){let f;typeof i=="string"?f=Hn(i):(f={...i},De(!f.pathname||!f.pathname.includes("?"),wa("?","pathname","search",f)),De(!f.pathname||!f.pathname.includes("#"),wa("#","pathname","hash",f)),De(!f.search||!f.search.includes("#"),wa("#","search","hash",f)));let m=i===""||f.pathname==="",h=m?"/":f.pathname,j;if(h==null)j=o;else{let y=a.length-1;if(!c&&h.startsWith("..")){let k=h.split("/");for(;k[0]==="..";)k.shift(),y-=1;f.pathname=k.join("/")}j=y>=0?a[y]:"/"}let v=Sf(f,j),p=h&&h!=="/"&&h.endsWith("/"),S=(m||h===".")&&o.endsWith("/");return!v.pathname.endsWith("/")&&(p||S)&&(v.pathname+="/"),v}var rn=i=>i.join("/").replace(/\/\/+/g,"/"),kf=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Pf=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Ef=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,Rf=class{constructor(i,a,o,c=!1){this.status=i,this.statusText=a||"",this.internal=c,o instanceof Error?(this.data=o.toString(),this.error=o):this.data=o}};function If(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function _f(i){return i.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Bc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Vc(i,a){let o=i;if(typeof o!="string"||!$c.test(o))return{absoluteURL:void 0,isExternal:!1,to:o};let c=o,f=!1;if(Bc)try{let m=new URL(window.location.href),h=o.startsWith("//")?new URL(m.protocol+o):new URL(o),j=sn(h.pathname,a);h.origin===m.origin&&j!=null?o=j+h.search+h.hash:f=!0}catch{gt(!1,`<Link to="${o}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:c,isExternal:f,to:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Wc=["POST","PUT","PATCH","DELETE"];new Set(Wc);var Lf=["GET",...Wc];new Set(Lf);var vr=g.createContext(null);vr.displayName="DataRouter";var kl=g.createContext(null);kl.displayName="DataRouterState";var Df=g.createContext(!1),Hc=g.createContext({isTransitioning:!1});Hc.displayName="ViewTransition";var Af=g.createContext(new Map);Af.displayName="Fetchers";var Uf=g.createContext(null);Uf.displayName="Await";var xt=g.createContext(null);xt.displayName="Navigation";var as=g.createContext(null);as.displayName="Location";var Ut=g.createContext({outlet:null,matches:[],isDataRoute:!1});Ut.displayName="Route";var _a=g.createContext(null);_a.displayName="RouteError";var Qc="REACT_ROUTER_ERROR",Mf="REDIRECT",Tf="ROUTE_ERROR_RESPONSE";function Of(i){if(i.startsWith(`${Qc}:${Mf}:{`))try{let a=JSON.parse(i.slice(28));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.location=="string"&&typeof a.reloadDocument=="boolean"&&typeof a.replace=="boolean")return a}catch{}}function zf(i){if(i.startsWith(`${Qc}:${Tf}:{`))try{let a=JSON.parse(i.slice(40));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string")return new Rf(a.status,a.statusText,a.data)}catch{}}function Ff(i,{relative:a}={}){De(yr(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:c}=g.useContext(xt),{hash:f,pathname:m,search:h}=os(i,{relative:a}),j=m;return o!=="/"&&(j=m==="/"?o:rn([o,m])),c.createHref({pathname:j,search:h,hash:f})}function yr(){return g.useContext(as)!=null}function Rn(){return De(yr(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(as).location}var Yc="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Kc(i){g.useContext(xt).static||g.useLayoutEffect(i)}function In(){let{isDataRoute:i}=g.useContext(Ut);return i?eh():$f()}function $f(){De(yr(),"useNavigate() may be used only in the context of a <Router> component.");let i=g.useContext(vr),{basename:a,navigator:o}=g.useContext(xt),{matches:c}=g.useContext(Ut),{pathname:f}=Rn(),m=JSON.stringify(Ra(c)),h=g.useRef(!1);return Kc(()=>{h.current=!0}),g.useCallback((v,p={})=>{if(gt(h.current,Yc),!h.current)return;if(typeof v=="number"){o.go(v);return}let S=Ia(v,JSON.parse(m),f,p.relative==="path");i==null&&a!=="/"&&(S.pathname=S.pathname==="/"?a:rn([a,S.pathname])),(p.replace?o.replace:o.push)(S,p.state,p)},[a,o,m,f,i])}g.createContext(null);function Bf(){let{matches:i}=g.useContext(Ut),a=i[i.length-1];return a?a.params:{}}function os(i,{relative:a}={}){let{matches:o}=g.useContext(Ut),{pathname:c}=Rn(),f=JSON.stringify(Ra(o));return g.useMemo(()=>Ia(i,JSON.parse(f),c,a==="path"),[i,f,c,a])}function Vf(i,a){return Gc(i,a)}function Gc(i,a,o,c,f){De(yr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:m}=g.useContext(xt),{matches:h}=g.useContext(Ut),j=h[h.length-1],v=j?j.params:{},p=j?j.pathname:"/",S=j?j.pathnameBase:"/",y=j&&j.route;{let L=y&&y.path||"";qc(p,!y||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let k=Rn(),A;if(a){let L=typeof a=="string"?Hn(a):a;De(S==="/"||L.pathname?.startsWith(S),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${S}" but pathname "${L.pathname}" was given in the \`location\` prop.`),A=L}else A=k;let W=A.pathname||"/",w=W;if(S!=="/"){let L=S.replace(/^\//,"").split("/");w="/"+W.replace(/^\//,"").split("/").slice(L.length).join("/")}let C=Oc(i,{pathname:w});gt(y||C!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),gt(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=Kf(C&&C.map(L=>Object.assign({},L,{params:Object.assign({},v,L.params),pathname:rn([S,m.encodeLocation?m.encodeLocation(L.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?S:rn([S,m.encodeLocation?m.encodeLocation(L.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathnameBase])})),h,o,c,f);return a&&D?g.createElement(as.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},D):D}function Wf(){let i=Zf(),a=If(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),o=i instanceof Error?i.stack:null,c="rgba(200,200,200, 0.5)",f={padding:"0.5rem",backgroundColor:c},m={padding:"2px 4px",backgroundColor:c},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=g.createElement(g.Fragment,null,g.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:m},"ErrorBoundary")," or"," ",g.createElement("code",{style:m},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},a),o?g.createElement("pre",{style:f},o):null,h)}var Hf=g.createElement(Wf,null),Jc=class extends g.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,a){return a.location!==i.location||a.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:a.error,location:a.location,revalidation:i.revalidation||a.revalidation}}componentDidCatch(i,a){this.props.onError?this.props.onError(i,a):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const o=zf(i.digest);o&&(i=o)}let a=i!==void 0?g.createElement(Ut.Provider,{value:this.props.routeContext},g.createElement(_a.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?g.createElement(Qf,{error:i},a):a}};Jc.contextType=Df;var ja=new WeakMap;function Qf({children:i,error:a}){let{basename:o}=g.useContext(xt);if(typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){let c=Of(a.digest);if(c){let f=ja.get(a);if(f)throw f;let m=Vc(c.location,o);if(Bc&&!ja.get(a))if(m.isExternal||c.reloadDocument)window.location.href=m.absoluteURL||m.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(m.to,{replace:c.replace}));throw ja.set(a,h),h}return g.createElement("meta",{httpEquiv:"refresh",content:`0;url=${m.absoluteURL||m.to}`})}}return i}function Yf({routeContext:i,match:a,children:o}){let c=g.useContext(vr);return c&&c.static&&c.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=a.route.id),g.createElement(Ut.Provider,{value:i},o)}function Kf(i,a=[],o=null,c=null,f=null){if(i==null){if(!o)return null;if(o.errors)i=o.matches;else if(a.length===0&&!o.initialized&&o.matches.length>0)i=o.matches;else return null}let m=i,h=o?.errors;if(h!=null){let S=m.findIndex(y=>y.route.id&&h?.[y.route.id]!==void 0);De(S>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),m=m.slice(0,Math.min(m.length,S+1))}let j=!1,v=-1;if(o)for(let S=0;S<m.length;S++){let y=m[S];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(v=S),y.route.id){let{loaderData:k,errors:A}=o,W=y.route.loader&&!k.hasOwnProperty(y.route.id)&&(!A||A[y.route.id]===void 0);if(y.route.lazy||W){j=!0,v>=0?m=m.slice(0,v+1):m=[m[0]];break}}}let p=o&&c?(S,y)=>{c(S,{location:o.location,params:o.matches?.[0]?.params??{},unstable_pattern:_f(o.matches),errorInfo:y})}:void 0;return m.reduceRight((S,y,k)=>{let A,W=!1,w=null,C=null;o&&(A=h&&y.route.id?h[y.route.id]:void 0,w=y.route.errorElement||Hf,j&&(v<0&&k===0?(qc("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),W=!0,C=null):v===k&&(W=!0,C=y.route.hydrateFallbackElement||null)));let D=a.concat(m.slice(0,k+1)),L=()=>{let T;return A?T=w:W?T=C:y.route.Component?T=g.createElement(y.route.Component,null):y.route.element?T=y.route.element:T=S,g.createElement(Yf,{match:y,routeContext:{outlet:S,matches:D,isDataRoute:o!=null},children:T})};return o&&(y.route.ErrorBoundary||y.route.errorElement||k===0)?g.createElement(Jc,{location:o.location,revalidation:o.revalidation,component:w,error:A,children:L(),routeContext:{outlet:null,matches:D,isDataRoute:!0},onError:p}):L()},null)}function La(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gf(i){let a=g.useContext(vr);return De(a,La(i)),a}function Jf(i){let a=g.useContext(kl);return De(a,La(i)),a}function qf(i){let a=g.useContext(Ut);return De(a,La(i)),a}function Da(i){let a=qf(i),o=a.matches[a.matches.length-1];return De(o.route.id,`${i} can only be used on routes that contain a unique "id"`),o.route.id}function Xf(){return Da("useRouteId")}function Zf(){let i=g.useContext(_a),a=Jf("useRouteError"),o=Da("useRouteError");return i!==void 0?i:a.errors?.[o]}function eh(){let{router:i}=Gf("useNavigate"),a=Da("useNavigate"),o=g.useRef(!1);return Kc(()=>{o.current=!0}),g.useCallback(async(f,m={})=>{gt(o.current,Yc),o.current&&(typeof f=="number"?await i.navigate(f):await i.navigate(f,{fromRouteId:a,...m}))},[i,a])}var Ic={};function qc(i,a,o){!a&&!Ic[i]&&(Ic[i]=!0,gt(!1,o))}g.memo(th);function th({routes:i,future:a,state:o,onError:c}){return Gc(i,void 0,o,c,a)}function Cl({to:i,replace:a,state:o,relative:c}){De(yr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:f}=g.useContext(xt);gt(!f,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:m}=g.useContext(Ut),{pathname:h}=Rn(),j=In(),v=Ia(i,Ra(m),h,c==="path"),p=JSON.stringify(v);return g.useEffect(()=>{j(JSON.parse(p),{replace:a,state:o,relative:c})},[j,p,c,a,o]),null}function tn(i){De(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nh({basename:i="/",children:a=null,location:o,navigationType:c="POP",navigator:f,static:m=!1,unstable_useTransitions:h}){De(!yr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let j=i.replace(/^\/*/,"/"),v=g.useMemo(()=>({basename:j,navigator:f,static:m,unstable_useTransitions:h,future:{}}),[j,f,m,h]);typeof o=="string"&&(o=Hn(o));let{pathname:p="/",search:S="",hash:y="",state:k=null,key:A="default"}=o,W=g.useMemo(()=>{let w=sn(p,j);return w==null?null:{location:{pathname:w,search:S,hash:y,state:k,key:A},navigationType:c}},[j,p,S,y,k,A,c]);return gt(W!=null,`<Router basename="${j}"> is not able to match the URL "${p}${S}${y}" because it does not start with the basename, so the <Router> won't render anything.`),W==null?null:g.createElement(xt.Provider,{value:v},g.createElement(as.Provider,{children:a,value:W}))}function rh({children:i,location:a}){return Vf(Pa(i),a)}function Pa(i,a=[]){let o=[];return g.Children.forEach(i,(c,f)=>{if(!g.isValidElement(c))return;let m=[...a,f];if(c.type===g.Fragment){o.push.apply(o,Pa(c.props.children,m));return}De(c.type===tn,`[${typeof c.type=="string"?c.type:c.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),De(!c.props.index||!c.props.children,"An index route cannot have child routes.");let h={id:c.props.id||m.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,middleware:c.props.middleware,loader:c.props.loader,action:c.props.action,hydrateFallbackElement:c.props.hydrateFallbackElement,HydrateFallback:c.props.HydrateFallback,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.hasErrorBoundary===!0||c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(h.children=Pa(c.props.children,m)),o.push(h)}),o}var jl="get",Nl="application/x-www-form-urlencoded";function Pl(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function sh(i){return Pl(i)&&i.tagName.toLowerCase()==="button"}function lh(i){return Pl(i)&&i.tagName.toLowerCase()==="form"}function ih(i){return Pl(i)&&i.tagName.toLowerCase()==="input"}function ah(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function oh(i,a){return i.button===0&&(!a||a==="_self")&&!ah(i)}var vl=null;function uh(){if(vl===null)try{new FormData(document.createElement("form"),0),vl=!1}catch{vl=!0}return vl}var ch=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Na(i){return i!=null&&!ch.has(i)?(gt(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nl}"`),null):i}function dh(i,a){let o,c,f,m,h;if(lh(i)){let j=i.getAttribute("action");c=j?sn(j,a):null,o=i.getAttribute("method")||jl,f=Na(i.getAttribute("enctype"))||Nl,m=new FormData(i)}else if(sh(i)||ih(i)&&(i.type==="submit"||i.type==="image")){let j=i.form;if(j==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=i.getAttribute("formaction")||j.getAttribute("action");if(c=v?sn(v,a):null,o=i.getAttribute("formmethod")||j.getAttribute("method")||jl,f=Na(i.getAttribute("formenctype"))||Na(j.getAttribute("enctype"))||Nl,m=new FormData(j,i),!uh()){let{name:p,type:S,value:y}=i;if(S==="image"){let k=p?`${p}.`:"";m.append(`${k}x`,"0"),m.append(`${k}y`,"0")}else p&&m.append(p,y)}}else{if(Pl(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=jl,c=null,f=Nl,h=i}return m&&f==="text/plain"&&(h=m,m=void 0),{action:c,method:o.toLowerCase(),encType:f,formData:m,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Aa(i,a){if(i===!1||i===null||typeof i>"u")throw new Error(a)}function mh(i,a,o,c){let f=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return o?f.pathname.endsWith("/")?f.pathname=`${f.pathname}_.${c}`:f.pathname=`${f.pathname}.${c}`:f.pathname==="/"?f.pathname=`_root.${c}`:a&&sn(f.pathname,a)==="/"?f.pathname=`${a.replace(/\/$/,"")}/_root.${c}`:f.pathname=`${f.pathname.replace(/\/$/,"")}.${c}`,f}async function fh(i,a){if(i.id in a)return a[i.id];try{let o=await import(i.module);return a[i.id]=o,o}catch(o){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hh(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function ph(i,a,o){let c=await Promise.all(i.map(async f=>{let m=a.routes[f.route.id];if(m){let h=await fh(m,o);return h.links?h.links():[]}return[]}));return yh(c.flat(1).filter(hh).filter(f=>f.rel==="stylesheet"||f.rel==="preload").map(f=>f.rel==="stylesheet"?{...f,rel:"prefetch",as:"style"}:{...f,rel:"prefetch"}))}function _c(i,a,o,c,f,m){let h=(v,p)=>o[p]?v.route.id!==o[p].route.id:!0,j=(v,p)=>o[p].pathname!==v.pathname||o[p].route.path?.endsWith("*")&&o[p].params["*"]!==v.params["*"];return m==="assets"?a.filter((v,p)=>h(v,p)||j(v,p)):m==="data"?a.filter((v,p)=>{let S=c.routes[v.route.id];if(!S||!S.hasLoader)return!1;if(h(v,p)||j(v,p))return!0;if(v.route.shouldRevalidate){let y=v.route.shouldRevalidate({currentUrl:new URL(f.pathname+f.search+f.hash,window.origin),currentParams:o[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function gh(i,a,{includeHydrateFallback:o}={}){return xh(i.map(c=>{let f=a.routes[c.route.id];if(!f)return[];let m=[f.module];return f.clientActionModule&&(m=m.concat(f.clientActionModule)),f.clientLoaderModule&&(m=m.concat(f.clientLoaderModule)),o&&f.hydrateFallbackModule&&(m=m.concat(f.hydrateFallbackModule)),f.imports&&(m=m.concat(f.imports)),m}).flat(1))}function xh(i){return[...new Set(i)]}function vh(i){let a={},o=Object.keys(i).sort();for(let c of o)a[c]=i[c];return a}function yh(i,a){let o=new Set;return new Set(a),i.reduce((c,f)=>{let m=JSON.stringify(vh(f));return o.has(m)||(o.add(m),c.push({key:m,link:f})),c},[])}function Xc(){let i=g.useContext(vr);return Aa(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function wh(){let i=g.useContext(kl);return Aa(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Ua=g.createContext(void 0);Ua.displayName="FrameworkContext";function Zc(){let i=g.useContext(Ua);return Aa(i,"You must render this element inside a <HydratedRouter> element"),i}function jh(i,a){let o=g.useContext(Ua),[c,f]=g.useState(!1),[m,h]=g.useState(!1),{onFocus:j,onBlur:v,onMouseEnter:p,onMouseLeave:S,onTouchStart:y}=a,k=g.useRef(null);g.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let w=D=>{D.forEach(L=>{h(L.isIntersecting)})},C=new IntersectionObserver(w,{threshold:.5});return k.current&&C.observe(k.current),()=>{C.disconnect()}}},[i]),g.useEffect(()=>{if(c){let w=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(w)}}},[c]);let A=()=>{f(!0)},W=()=>{f(!1),h(!1)};return o?i!=="intent"?[m,k,{}]:[m,k,{onFocus:ls(j,A),onBlur:ls(v,W),onMouseEnter:ls(p,A),onMouseLeave:ls(S,W),onTouchStart:ls(y,A)}]:[!1,k,{}]}function ls(i,a){return o=>{i&&i(o),o.defaultPrevented||a(o)}}function Nh({page:i,...a}){let{router:o}=Xc(),c=g.useMemo(()=>Oc(o.routes,i,o.basename),[o.routes,i,o.basename]);return c?g.createElement(Sh,{page:i,matches:c,...a}):null}function bh(i){let{manifest:a,routeModules:o}=Zc(),[c,f]=g.useState([]);return g.useEffect(()=>{let m=!1;return ph(i,a,o).then(h=>{m||f(h)}),()=>{m=!0}},[i,a,o]),c}function Sh({page:i,matches:a,...o}){let c=Rn(),{future:f,manifest:m,routeModules:h}=Zc(),{basename:j}=Xc(),{loaderData:v,matches:p}=wh(),S=g.useMemo(()=>_c(i,a,p,m,c,"data"),[i,a,p,m,c]),y=g.useMemo(()=>_c(i,a,p,m,c,"assets"),[i,a,p,m,c]),k=g.useMemo(()=>{if(i===c.pathname+c.search+c.hash)return[];let w=new Set,C=!1;if(a.forEach(L=>{let T=m.routes[L.route.id];!T||!T.hasLoader||(!S.some(se=>se.route.id===L.route.id)&&L.route.id in v&&h[L.route.id]?.shouldRevalidate||T.hasClientLoader?C=!0:w.add(L.route.id))}),w.size===0)return[];let D=mh(i,j,f.unstable_trailingSlashAwareDataRequests,"data");return C&&w.size>0&&D.searchParams.set("_routes",a.filter(L=>w.has(L.route.id)).map(L=>L.route.id).join(",")),[D.pathname+D.search]},[j,f.unstable_trailingSlashAwareDataRequests,v,c,m,S,a,i,h]),A=g.useMemo(()=>gh(y,m),[y,m]),W=bh(y);return g.createElement(g.Fragment,null,k.map(w=>g.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...o})),A.map(w=>g.createElement("link",{key:w,rel:"modulepreload",href:w,...o})),W.map(({key:w,link:C})=>g.createElement("link",{key:w,nonce:o.nonce,...C})))}function Ch(...i){return a=>{i.forEach(o=>{typeof o=="function"?o(a):o!=null&&(o.current=a)})}}var kh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kh&&(window.__reactRouterVersion="7.12.0")}catch{}function Ph({basename:i,children:a,unstable_useTransitions:o,window:c}){let f=g.useRef();f.current==null&&(f.current=lf({window:c,v5Compat:!0}));let m=f.current,[h,j]=g.useState({action:m.action,location:m.location}),v=g.useCallback(p=>{o===!1?j(p):g.startTransition(()=>j(p))},[o]);return g.useLayoutEffect(()=>m.listen(v),[m,v]),g.createElement(nh,{basename:i,children:a,location:h.location,navigationType:h.action,navigator:m,unstable_useTransitions:o})}var ed=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,El=g.forwardRef(function({onClick:a,discover:o="render",prefetch:c="none",relative:f,reloadDocument:m,replace:h,state:j,target:v,to:p,preventScrollReset:S,viewTransition:y,unstable_defaultShouldRevalidate:k,...A},W){let{basename:w,unstable_useTransitions:C}=g.useContext(xt),D=typeof p=="string"&&ed.test(p),L=Vc(p,w);p=L.to;let T=Ff(p,{relative:f}),[se,de,oe]=jh(c,A),me=_h(p,{replace:h,state:j,target:v,preventScrollReset:S,relative:f,viewTransition:y,unstable_defaultShouldRevalidate:k,unstable_useTransitions:C});function xe(pe){a&&a(pe),pe.defaultPrevented||me(pe)}let ye=g.createElement("a",{...A,...oe,href:L.absoluteURL||T,onClick:L.isExternal||m?a:xe,ref:Ch(W,de),target:v,"data-discover":!D&&o==="render"?"true":void 0});return se&&!D?g.createElement(g.Fragment,null,ye,g.createElement(Nh,{page:T})):ye});El.displayName="Link";var Eh=g.forwardRef(function({"aria-current":a="page",caseSensitive:o=!1,className:c="",end:f=!1,style:m,to:h,viewTransition:j,children:v,...p},S){let y=os(h,{relative:p.relative}),k=Rn(),A=g.useContext(kl),{navigator:W,basename:w}=g.useContext(xt),C=A!=null&&Mh(y)&&j===!0,D=W.encodeLocation?W.encodeLocation(y).pathname:y.pathname,L=k.pathname,T=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;o||(L=L.toLowerCase(),T=T?T.toLowerCase():null,D=D.toLowerCase()),T&&w&&(T=sn(T,w)||T);const se=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let de=L===D||!f&&L.startsWith(D)&&L.charAt(se)==="/",oe=T!=null&&(T===D||!f&&T.startsWith(D)&&T.charAt(D.length)==="/"),me={isActive:de,isPending:oe,isTransitioning:C},xe=de?a:void 0,ye;typeof c=="function"?ye=c(me):ye=[c,de?"active":null,oe?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let pe=typeof m=="function"?m(me):m;return g.createElement(El,{...p,"aria-current":xe,className:ye,ref:S,style:pe,to:h,viewTransition:j},typeof v=="function"?v(me):v)});Eh.displayName="NavLink";var Rh=g.forwardRef(({discover:i="render",fetcherKey:a,navigate:o,reloadDocument:c,replace:f,state:m,method:h=jl,action:j,onSubmit:v,relative:p,preventScrollReset:S,viewTransition:y,unstable_defaultShouldRevalidate:k,...A},W)=>{let{unstable_useTransitions:w}=g.useContext(xt),C=Ah(),D=Uh(j,{relative:p}),L=h.toLowerCase()==="get"?"get":"post",T=typeof j=="string"&&ed.test(j),se=de=>{if(v&&v(de),de.defaultPrevented)return;de.preventDefault();let oe=de.nativeEvent.submitter,me=oe?.getAttribute("formmethod")||h,xe=()=>C(oe||de.currentTarget,{fetcherKey:a,method:me,navigate:o,replace:f,state:m,relative:p,preventScrollReset:S,viewTransition:y,unstable_defaultShouldRevalidate:k});w&&o!==!1?g.startTransition(()=>xe()):xe()};return g.createElement("form",{ref:W,method:L,action:D,onSubmit:c?v:se,...A,"data-discover":!T&&i==="render"?"true":void 0})});Rh.displayName="Form";function Ih(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function td(i){let a=g.useContext(vr);return De(a,Ih(i)),a}function _h(i,{target:a,replace:o,state:c,preventScrollReset:f,relative:m,viewTransition:h,unstable_defaultShouldRevalidate:j,unstable_useTransitions:v}={}){let p=In(),S=Rn(),y=os(i,{relative:m});return g.useCallback(k=>{if(oh(k,a)){k.preventDefault();let A=o!==void 0?o:is(S)===is(y),W=()=>p(i,{replace:A,state:c,preventScrollReset:f,relative:m,viewTransition:h,unstable_defaultShouldRevalidate:j});v?g.startTransition(()=>W()):W()}},[S,p,y,o,c,a,i,f,m,h,j,v])}var Lh=0,Dh=()=>`__${String(++Lh)}__`;function Ah(){let{router:i}=td("useSubmit"),{basename:a}=g.useContext(xt),o=Xf(),c=i.fetch,f=i.navigate;return g.useCallback(async(m,h={})=>{let{action:j,method:v,encType:p,formData:S,body:y}=dh(m,a);if(h.navigate===!1){let k=h.fetcherKey||Dh();await c(k,o,h.action||j,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:S,body:y,formMethod:h.method||v,formEncType:h.encType||p,flushSync:h.flushSync})}else await f(h.action||j,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:S,body:y,formMethod:h.method||v,formEncType:h.encType||p,replace:h.replace,state:h.state,fromRouteId:o,flushSync:h.flushSync,viewTransition:h.viewTransition})},[c,f,a,o])}function Uh(i,{relative:a}={}){let{basename:o}=g.useContext(xt),c=g.useContext(Ut);De(c,"useFormAction must be used inside a RouteContext");let[f]=c.matches.slice(-1),m={...os(i||".",{relative:a})},h=Rn();if(i==null){m.search=h.search;let j=new URLSearchParams(m.search),v=j.getAll("index");if(v.some(S=>S==="")){j.delete("index"),v.filter(y=>y).forEach(y=>j.append("index",y));let S=j.toString();m.search=S?`?${S}`:""}}return(!i||i===".")&&f.route.index&&(m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(m.pathname=m.pathname==="/"?o:rn([o,m.pathname])),is(m)}function Mh(i,{relative:a}={}){let o=g.useContext(Hc);De(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:c}=td("useViewTransitionState"),f=os(i,{relative:a});if(!o.isTransitioning)return!1;let m=sn(o.currentLocation.pathname,c)||o.currentLocation.pathname,h=sn(o.nextLocation.pathname,c)||o.nextLocation.pathname;return Sl(f.pathname,h)!=null||Sl(f.pathname,m)!=null}var ba={exports:{}},ct={},Sa={exports:{}},Ca={};var Lc;function Th(){return Lc||(Lc=1,(function(i){function a(B,q){var I=B.length;B.push(q);e:for(;0<I;){var N=I-1>>>1,M=B[N];if(0<f(M,q))B[N]=q,B[I]=M,I=N;else break e}}function o(B){return B.length===0?null:B[0]}function c(B){if(B.length===0)return null;var q=B[0],I=B.pop();if(I!==q){B[0]=I;e:for(var N=0,M=B.length,O=M>>>1;N<O;){var Q=2*(N+1)-1,Y=B[Q],re=Q+1,ve=B[re];if(0>f(Y,I))re<M&&0>f(ve,Y)?(B[N]=ve,B[re]=I,N=re):(B[N]=Y,B[Q]=I,N=Q);else if(re<M&&0>f(ve,I))B[N]=ve,B[re]=I,N=re;else break e}}return q}function f(B,q){var I=B.sortIndex-q.sortIndex;return I!==0?I:B.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var m=performance;i.unstable_now=function(){return m.now()}}else{var h=Date,j=h.now();i.unstable_now=function(){return h.now()-j}}var v=[],p=[],S=1,y=null,k=3,A=!1,W=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(B){for(var q=o(p);q!==null;){if(q.callback===null)c(p);else if(q.startTime<=B)c(p),q.sortIndex=q.expirationTime,a(v,q);else break;q=o(p)}}function se(B){if(w=!1,T(B),!W)if(o(v)!==null)W=!0,ee(de);else{var q=o(p);q!==null&&ue(se,q.startTime-B)}}function de(B,q){W=!1,w&&(w=!1,D(xe),xe=-1),A=!0;var I=k;try{for(T(q),y=o(v);y!==null&&(!(y.expirationTime>q)||B&&!ze());){var N=y.callback;if(typeof N=="function"){y.callback=null,k=y.priorityLevel;var M=N(y.expirationTime<=q);q=i.unstable_now(),typeof M=="function"?y.callback=M:y===o(v)&&c(v),T(q)}else c(v);y=o(v)}if(y!==null)var O=!0;else{var Q=o(p);Q!==null&&ue(se,Q.startTime-q),O=!1}return O}finally{y=null,k=I,A=!1}}var oe=!1,me=null,xe=-1,ye=5,pe=-1;function ze(){return!(i.unstable_now()-pe<ye)}function Se(){if(me!==null){var B=i.unstable_now();pe=B;var q=!0;try{q=me(!0,B)}finally{q?ke():(oe=!1,me=null)}}else oe=!1}var ke;if(typeof L=="function")ke=function(){L(Se)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,ae=Pe.port2;Pe.port1.onmessage=Se,ke=function(){ae.postMessage(null)}}else ke=function(){C(Se,0)};function ee(B){me=B,oe||(oe=!0,ke())}function ue(B,q){xe=C(function(){B(i.unstable_now())},q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(B){B.callback=null},i.unstable_continueExecution=function(){W||A||(W=!0,ee(de))},i.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ye=0<B?Math.floor(1e3/B):5},i.unstable_getCurrentPriorityLevel=function(){return k},i.unstable_getFirstCallbackNode=function(){return o(v)},i.unstable_next=function(B){switch(k){case 1:case 2:case 3:var q=3;break;default:q=k}var I=k;k=q;try{return B()}finally{k=I}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(B,q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var I=k;k=B;try{return q()}finally{k=I}},i.unstable_scheduleCallback=function(B,q,I){var N=i.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?N+I:N):I=N,B){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=I+M,B={id:S++,callback:q,priorityLevel:B,startTime:I,expirationTime:M,sortIndex:-1},I>N?(B.sortIndex=I,a(p,B),o(v)===null&&B===o(p)&&(w?(D(xe),xe=-1):w=!0,ue(se,I-N))):(B.sortIndex=M,a(v,B),W||A||(W=!0,ee(de))),B},i.unstable_shouldYield=ze,i.unstable_wrapCallback=function(B){var q=k;return function(){var I=k;k=q;try{return B.apply(this,arguments)}finally{k=I}}}})(Ca)),Ca}var Dc;function Oh(){return Dc||(Dc=1,Sa.exports=Th()),Sa.exports}var Ac;function zh(){if(Ac)return ct;Ac=1;var i=Ea(),a=Oh();function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=new Set,f={};function m(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(f[e]=t,e=0;e<t.length;e++)c.add(t[e])}var j=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S={},y={};function k(e){return v.call(y,e)?!0:v.call(S,e)?!1:p.test(e)?y[e]=!0:(S[e]=!0,!1)}function A(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function W(e,t,n,s){if(t===null||typeof t>"u"||A(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function w(e,t,n,s,l,u,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=d}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){C[e]=new w(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];C[t]=new w(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){C[e]=new w(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){C[e]=new w(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){C[e]=new w(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){C[e]=new w(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){C[e]=new w(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){C[e]=new w(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){C[e]=new w(e,5,!1,e.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function L(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(D,L);C[t]=new w(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(D,L);C[t]=new w(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(D,L);C[t]=new w(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){C[e]=new w(e,1,!1,e.toLowerCase(),null,!1,!1)}),C.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){C[e]=new w(e,1,!1,e.toLowerCase(),null,!0,!0)});function T(e,t,n,s){var l=C.hasOwnProperty(t)?C[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(W(t,n,l,s)&&(n=null),s||l===null?k(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,s=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var se=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,de=Symbol.for("react.element"),oe=Symbol.for("react.portal"),me=Symbol.for("react.fragment"),xe=Symbol.for("react.strict_mode"),ye=Symbol.for("react.profiler"),pe=Symbol.for("react.provider"),ze=Symbol.for("react.context"),Se=Symbol.for("react.forward_ref"),ke=Symbol.for("react.suspense"),Pe=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),ue=Symbol.for("react.offscreen"),B=Symbol.iterator;function q(e){return e===null||typeof e!="object"?null:(e=B&&e[B]||e["@@iterator"],typeof e=="function"?e:null)}var I=Object.assign,N;function M(e){if(N===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);N=t&&t[1]||""}return`
`+N+e}var O=!1;function Q(e,t){if(!e||O)return"";O=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(_){var s=_}Reflect.construct(e,[],t)}else{try{t.call()}catch(_){s=_}e.call(t.prototype)}else{try{throw Error()}catch(_){s=_}e()}}catch(_){if(_&&s&&typeof _.stack=="string"){for(var l=_.stack.split(`
`),u=s.stack.split(`
`),d=l.length-1,x=u.length-1;1<=d&&0<=x&&l[d]!==u[x];)x--;for(;1<=d&&0<=x;d--,x--)if(l[d]!==u[x]){if(d!==1||x!==1)do if(d--,x--,0>x||l[d]!==u[x]){var b=`
`+l[d].replace(" at new "," at ");return e.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",e.displayName)),b}while(1<=d&&0<=x);break}}}finally{O=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function Y(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=Q(e.type,!1),e;case 11:return e=Q(e.type.render,!1),e;case 1:return e=Q(e.type,!0),e;default:return""}}function re(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case me:return"Fragment";case oe:return"Portal";case ye:return"Profiler";case xe:return"StrictMode";case ke:return"Suspense";case Pe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ze:return(e.displayName||"Context")+".Consumer";case pe:return(e._context.displayName||"Context")+".Provider";case Se:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ae:return t=e.displayName||null,t!==null?t:re(e.type)||"Memo";case ee:t=e._payload,e=e._init;try{return re(e(t))}catch{}}return null}function ve(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return re(t);case 8:return t===xe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function he(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $e(e){var t=he(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(d){s=""+d,u.call(this,d)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(d){s=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function We(e){e._valueTracker||(e._valueTracker=$e(e))}function ln(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=he(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function an(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qt(e,t){var n=t.checked;return I({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function z(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=G(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fe(e,t){t=t.checked,t!=null&&T(e,"checked",t,!1)}function Ee(e,t){fe(e,t);var n=G(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ct(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ct(e,t.type,G(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function vt(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ct(e,t,n){(t!=="number"||an(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var on=Array.isArray;function U(e,t,n,s){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&s&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function K(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(o(91));return I({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ne(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(o(92));if(on(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function He(e,t){var n=G(t.value),s=G(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function qe(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Qn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tt(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Qn(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var un,be=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,l)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(un=un||document.createElement("div"),un.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=un.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ot={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rl=["Webkit","ms","Moz","O"];Object.keys(Ot).forEach(function(e){Rl.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ot[t]=Ot[e]})});function cs(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ot.hasOwnProperty(e)&&Ot[e]?(""+t).trim():t+"px"}function Ta(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,l=cs(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,l):e[n]=l}}var id=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Il(e,t){if(t){if(id[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(o(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(t.style!=null&&typeof t.style!="object")throw Error(o(62))}}function _l(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ll=null;function Dl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Al=null,Yn=null,Kn=null;function Oa(e){if(e=Vr(e)){if(typeof Al!="function")throw Error(o(280));var t=e.stateNode;t&&(t=Ds(t),Al(e.stateNode,e.type,t))}}function za(e){Yn?Kn?Kn.push(e):Kn=[e]:Yn=e}function Fa(){if(Yn){var e=Yn,t=Kn;if(Kn=Yn=null,Oa(e),t)for(e=0;e<t.length;e++)Oa(t[e])}}function $a(e,t){return e(t)}function Ba(){}var Ul=!1;function Va(e,t,n){if(Ul)return e(t,n);Ul=!0;try{return $a(e,t,n)}finally{Ul=!1,(Yn!==null||Kn!==null)&&(Ba(),Fa())}}function Nr(e,t){var n=e.stateNode;if(n===null)return null;var s=Ds(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var Ml=!1;if(j)try{var br={};Object.defineProperty(br,"passive",{get:function(){Ml=!0}}),window.addEventListener("test",br,br),window.removeEventListener("test",br,br)}catch{Ml=!1}function ad(e,t,n,s,l,u,d,x,b){var _=Array.prototype.slice.call(arguments,3);try{t.apply(n,_)}catch($){this.onError($)}}var Sr=!1,ds=null,ms=!1,Tl=null,od={onError:function(e){Sr=!0,ds=e}};function ud(e,t,n,s,l,u,d,x,b){Sr=!1,ds=null,ad.apply(od,arguments)}function cd(e,t,n,s,l,u,d,x,b){if(ud.apply(this,arguments),Sr){if(Sr){var _=ds;Sr=!1,ds=null}else throw Error(o(198));ms||(ms=!0,Tl=_)}}function _n(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Wa(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ha(e){if(_n(e)!==e)throw Error(o(188))}function dd(e){var t=e.alternate;if(!t){if(t=_n(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,s=t;;){var l=n.return;if(l===null)break;var u=l.alternate;if(u===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===u.child){for(u=l.child;u;){if(u===n)return Ha(l),e;if(u===s)return Ha(l),t;u=u.sibling}throw Error(o(188))}if(n.return!==s.return)n=l,s=u;else{for(var d=!1,x=l.child;x;){if(x===n){d=!0,n=l,s=u;break}if(x===s){d=!0,s=l,n=u;break}x=x.sibling}if(!d){for(x=u.child;x;){if(x===n){d=!0,n=u,s=l;break}if(x===s){d=!0,s=u,n=l;break}x=x.sibling}if(!d)throw Error(o(189))}}if(n.alternate!==s)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function Qa(e){return e=dd(e),e!==null?Ya(e):null}function Ya(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ya(e);if(t!==null)return t;e=e.sibling}return null}var Ka=a.unstable_scheduleCallback,Ga=a.unstable_cancelCallback,md=a.unstable_shouldYield,fd=a.unstable_requestPaint,Te=a.unstable_now,hd=a.unstable_getCurrentPriorityLevel,Ol=a.unstable_ImmediatePriority,Ja=a.unstable_UserBlockingPriority,fs=a.unstable_NormalPriority,pd=a.unstable_LowPriority,qa=a.unstable_IdlePriority,hs=null,zt=null;function gd(e){if(zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(hs,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:yd,xd=Math.log,vd=Math.LN2;function yd(e){return e>>>=0,e===0?32:31-(xd(e)/vd|0)|0}var ps=64,gs=4194304;function Cr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xs(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,l=e.suspendedLanes,u=e.pingedLanes,d=n&268435455;if(d!==0){var x=d&~l;x!==0?s=Cr(x):(u&=d,u!==0&&(s=Cr(u)))}else d=n&~l,d!==0?s=Cr(d):u!==0&&(s=Cr(u));if(s===0)return 0;if(t!==0&&t!==s&&(t&l)===0&&(l=s&-s,u=t&-t,l>=u||l===16&&(u&4194240)!==0))return t;if((s&4)!==0&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Pt(t),l=1<<n,s|=e[n],t&=~l;return s}function wd(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jd(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,u=e.pendingLanes;0<u;){var d=31-Pt(u),x=1<<d,b=l[d];b===-1?((x&n)===0||(x&s)!==0)&&(l[d]=wd(x,t)):b<=t&&(e.expiredLanes|=x),u&=~x}}function zl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xa(){var e=ps;return ps<<=1,(ps&4194240)===0&&(ps=64),e}function Fl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function kr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pt(t),e[t]=n}function Nd(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Pt(n),u=1<<l;t[l]=0,s[l]=-1,e[l]=-1,n&=~u}}function $l(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Pt(n),l=1<<s;l&t|e[s]&t&&(e[s]|=t),n&=~l}}var Ce=0;function Za(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var eo,Bl,to,no,ro,Vl=!1,vs=[],cn=null,dn=null,mn=null,Pr=new Map,Er=new Map,fn=[],bd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function so(e,t){switch(e){case"focusin":case"focusout":cn=null;break;case"dragenter":case"dragleave":dn=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":Pr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Er.delete(t.pointerId)}}function Rr(e,t,n,s,l,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:u,targetContainers:[l]},t!==null&&(t=Vr(t),t!==null&&Bl(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Sd(e,t,n,s,l){switch(t){case"focusin":return cn=Rr(cn,e,t,n,s,l),!0;case"dragenter":return dn=Rr(dn,e,t,n,s,l),!0;case"mouseover":return mn=Rr(mn,e,t,n,s,l),!0;case"pointerover":var u=l.pointerId;return Pr.set(u,Rr(Pr.get(u)||null,e,t,n,s,l)),!0;case"gotpointercapture":return u=l.pointerId,Er.set(u,Rr(Er.get(u)||null,e,t,n,s,l)),!0}return!1}function lo(e){var t=Ln(e.target);if(t!==null){var n=_n(t);if(n!==null){if(t=n.tag,t===13){if(t=Wa(n),t!==null){e.blockedOn=t,ro(e.priority,function(){to(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ys(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Hl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Ll=s,n.target.dispatchEvent(s),Ll=null}else return t=Vr(n),t!==null&&Bl(t),e.blockedOn=n,!1;t.shift()}return!0}function io(e,t,n){ys(e)&&n.delete(t)}function Cd(){Vl=!1,cn!==null&&ys(cn)&&(cn=null),dn!==null&&ys(dn)&&(dn=null),mn!==null&&ys(mn)&&(mn=null),Pr.forEach(io),Er.forEach(io)}function Ir(e,t){e.blockedOn===t&&(e.blockedOn=null,Vl||(Vl=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Cd)))}function _r(e){function t(l){return Ir(l,e)}if(0<vs.length){Ir(vs[0],e);for(var n=1;n<vs.length;n++){var s=vs[n];s.blockedOn===e&&(s.blockedOn=null)}}for(cn!==null&&Ir(cn,e),dn!==null&&Ir(dn,e),mn!==null&&Ir(mn,e),Pr.forEach(t),Er.forEach(t),n=0;n<fn.length;n++)s=fn[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<fn.length&&(n=fn[0],n.blockedOn===null);)lo(n),n.blockedOn===null&&fn.shift()}var Gn=se.ReactCurrentBatchConfig,ws=!0;function kd(e,t,n,s){var l=Ce,u=Gn.transition;Gn.transition=null;try{Ce=1,Wl(e,t,n,s)}finally{Ce=l,Gn.transition=u}}function Pd(e,t,n,s){var l=Ce,u=Gn.transition;Gn.transition=null;try{Ce=4,Wl(e,t,n,s)}finally{Ce=l,Gn.transition=u}}function Wl(e,t,n,s){if(ws){var l=Hl(e,t,n,s);if(l===null)oi(e,t,s,js,n),so(e,s);else if(Sd(l,e,t,n,s))s.stopPropagation();else if(so(e,s),t&4&&-1<bd.indexOf(e)){for(;l!==null;){var u=Vr(l);if(u!==null&&eo(u),u=Hl(e,t,n,s),u===null&&oi(e,t,s,js,n),u===l)break;l=u}l!==null&&s.stopPropagation()}else oi(e,t,s,null,n)}}var js=null;function Hl(e,t,n,s){if(js=null,e=Dl(s),e=Ln(e),e!==null)if(t=_n(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Wa(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return js=e,null}function ao(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hd()){case Ol:return 1;case Ja:return 4;case fs:case pd:return 16;case qa:return 536870912;default:return 16}default:return 16}}var hn=null,Ql=null,Ns=null;function oo(){if(Ns)return Ns;var e,t=Ql,n=t.length,s,l="value"in hn?hn.value:hn.textContent,u=l.length;for(e=0;e<n&&t[e]===l[e];e++);var d=n-e;for(s=1;s<=d&&t[n-s]===l[u-s];s++);return Ns=l.slice(e,1<s?1-s:void 0)}function bs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ss(){return!0}function uo(){return!1}function dt(e){function t(n,s,l,u,d){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=u,this.target=d,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(n=e[x],this[x]=n?n(u):u[x]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Ss:uo,this.isPropagationStopped=uo,this}return I(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),t}var Jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yl=dt(Jn),Lr=I({},Jn,{view:0,detail:0}),Ed=dt(Lr),Kl,Gl,Dr,Cs=I({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ql,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Dr&&(Dr&&e.type==="mousemove"?(Kl=e.screenX-Dr.screenX,Gl=e.screenY-Dr.screenY):Gl=Kl=0,Dr=e),Kl)},movementY:function(e){return"movementY"in e?e.movementY:Gl}}),co=dt(Cs),Rd=I({},Cs,{dataTransfer:0}),Id=dt(Rd),_d=I({},Lr,{relatedTarget:0}),Jl=dt(_d),Ld=I({},Jn,{animationName:0,elapsedTime:0,pseudoElement:0}),Dd=dt(Ld),Ad=I({},Jn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ud=dt(Ad),Md=I({},Jn,{data:0}),mo=dt(Md),Td={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Od={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fd(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zd[e])?!!t[e]:!1}function ql(){return Fd}var $d=I({},Lr,{key:function(e){if(e.key){var t=Td[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Od[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ql,charCode:function(e){return e.type==="keypress"?bs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Bd=dt($d),Vd=I({},Cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fo=dt(Vd),Wd=I({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ql}),Hd=dt(Wd),Qd=I({},Jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yd=dt(Qd),Kd=I({},Cs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gd=dt(Kd),Jd=[9,13,27,32],Xl=j&&"CompositionEvent"in window,Ar=null;j&&"documentMode"in document&&(Ar=document.documentMode);var qd=j&&"TextEvent"in window&&!Ar,ho=j&&(!Xl||Ar&&8<Ar&&11>=Ar),po=" ",go=!1;function xo(e,t){switch(e){case"keyup":return Jd.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qn=!1;function Xd(e,t){switch(e){case"compositionend":return vo(t);case"keypress":return t.which!==32?null:(go=!0,po);case"textInput":return e=t.data,e===po&&go?null:e;default:return null}}function Zd(e,t){if(qn)return e==="compositionend"||!Xl&&xo(e,t)?(e=oo(),Ns=Ql=hn=null,qn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ho&&t.locale!=="ko"?null:t.data;default:return null}}var em={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!em[e.type]:t==="textarea"}function wo(e,t,n,s){za(s),t=Is(t,"onChange"),0<t.length&&(n=new Yl("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Ur=null,Mr=null;function tm(e){Oo(e,0)}function ks(e){var t=nr(e);if(ln(t))return e}function nm(e,t){if(e==="change")return t}var jo=!1;if(j){var Zl;if(j){var ei="oninput"in document;if(!ei){var No=document.createElement("div");No.setAttribute("oninput","return;"),ei=typeof No.oninput=="function"}Zl=ei}else Zl=!1;jo=Zl&&(!document.documentMode||9<document.documentMode)}function bo(){Ur&&(Ur.detachEvent("onpropertychange",So),Mr=Ur=null)}function So(e){if(e.propertyName==="value"&&ks(Mr)){var t=[];wo(t,Mr,e,Dl(e)),Va(tm,t)}}function rm(e,t,n){e==="focusin"?(bo(),Ur=t,Mr=n,Ur.attachEvent("onpropertychange",So)):e==="focusout"&&bo()}function sm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ks(Mr)}function lm(e,t){if(e==="click")return ks(t)}function im(e,t){if(e==="input"||e==="change")return ks(t)}function am(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:am;function Tr(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!v.call(t,l)||!Et(e[l],t[l]))return!1}return!0}function Co(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ko(e,t){var n=Co(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Co(n)}}function Po(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Po(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Eo(){for(var e=window,t=an();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=an(e.document)}return t}function ti(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function om(e){var t=Eo(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Po(n.ownerDocument.documentElement,n)){if(s!==null&&ti(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,u=Math.min(s.start,l);s=s.end===void 0?u:Math.min(s.end,l),!e.extend&&u>s&&(l=s,s=u,u=l),l=ko(n,u);var d=ko(n,s);l&&d&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),u>s?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var um=j&&"documentMode"in document&&11>=document.documentMode,Xn=null,ni=null,Or=null,ri=!1;function Ro(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ri||Xn==null||Xn!==an(s)||(s=Xn,"selectionStart"in s&&ti(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Or&&Tr(Or,s)||(Or=s,s=Is(ni,"onSelect"),0<s.length&&(t=new Yl("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Xn)))}function Ps(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Zn={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionend:Ps("Transition","TransitionEnd")},si={},Io={};j&&(Io=document.createElement("div").style,"AnimationEvent"in window||(delete Zn.animationend.animation,delete Zn.animationiteration.animation,delete Zn.animationstart.animation),"TransitionEvent"in window||delete Zn.transitionend.transition);function Es(e){if(si[e])return si[e];if(!Zn[e])return e;var t=Zn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Io)return si[e]=t[n];return e}var _o=Es("animationend"),Lo=Es("animationiteration"),Do=Es("animationstart"),Ao=Es("transitionend"),Uo=new Map,Mo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pn(e,t){Uo.set(e,t),m(t,[e])}for(var li=0;li<Mo.length;li++){var ii=Mo[li],cm=ii.toLowerCase(),dm=ii[0].toUpperCase()+ii.slice(1);pn(cm,"on"+dm)}pn(_o,"onAnimationEnd"),pn(Lo,"onAnimationIteration"),pn(Do,"onAnimationStart"),pn("dblclick","onDoubleClick"),pn("focusin","onFocus"),pn("focusout","onBlur"),pn(Ao,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),m("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),m("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),m("onBeforeInput",["compositionend","keypress","textInput","paste"]),m("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mm=new Set("cancel close invalid load scroll toggle".split(" ").concat(zr));function To(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,cd(s,t,void 0,e),e.currentTarget=null}function Oo(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],l=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var d=s.length-1;0<=d;d--){var x=s[d],b=x.instance,_=x.currentTarget;if(x=x.listener,b!==u&&l.isPropagationStopped())break e;To(l,x,_),u=b}else for(d=0;d<s.length;d++){if(x=s[d],b=x.instance,_=x.currentTarget,x=x.listener,b!==u&&l.isPropagationStopped())break e;To(l,x,_),u=b}}}if(ms)throw e=Tl,ms=!1,Tl=null,e}function Ie(e,t){var n=t[hi];n===void 0&&(n=t[hi]=new Set);var s=e+"__bubble";n.has(s)||(zo(t,e,2,!1),n.add(s))}function ai(e,t,n){var s=0;t&&(s|=4),zo(n,e,s,t)}var Rs="_reactListening"+Math.random().toString(36).slice(2);function Fr(e){if(!e[Rs]){e[Rs]=!0,c.forEach(function(n){n!=="selectionchange"&&(mm.has(n)||ai(n,!1,e),ai(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Rs]||(t[Rs]=!0,ai("selectionchange",!1,t))}}function zo(e,t,n,s){switch(ao(t)){case 1:var l=kd;break;case 4:l=Pd;break;default:l=Wl}n=l.bind(null,t,n,e),l=void 0,!Ml||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function oi(e,t,n,s,l){var u=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var d=s.tag;if(d===3||d===4){var x=s.stateNode.containerInfo;if(x===l||x.nodeType===8&&x.parentNode===l)break;if(d===4)for(d=s.return;d!==null;){var b=d.tag;if((b===3||b===4)&&(b=d.stateNode.containerInfo,b===l||b.nodeType===8&&b.parentNode===l))return;d=d.return}for(;x!==null;){if(d=Ln(x),d===null)return;if(b=d.tag,b===5||b===6){s=u=d;continue e}x=x.parentNode}}s=s.return}Va(function(){var _=u,$=Dl(n),V=[];e:{var F=Uo.get(e);if(F!==void 0){var J=Yl,Z=e;switch(e){case"keypress":if(bs(n)===0)break e;case"keydown":case"keyup":J=Bd;break;case"focusin":Z="focus",J=Jl;break;case"focusout":Z="blur",J=Jl;break;case"beforeblur":case"afterblur":J=Jl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Id;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Hd;break;case _o:case Lo:case Do:J=Dd;break;case Ao:J=Yd;break;case"scroll":J=Ed;break;case"wheel":J=Gd;break;case"copy":case"cut":case"paste":J=Ud;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=fo}var te=(t&4)!==0,Oe=!te&&e==="scroll",E=te?F!==null?F+"Capture":null:F;te=[];for(var P=_,R;P!==null;){R=P;var H=R.stateNode;if(R.tag===5&&H!==null&&(R=H,E!==null&&(H=Nr(P,E),H!=null&&te.push($r(P,H,R)))),Oe)break;P=P.return}0<te.length&&(F=new J(F,Z,null,n,$),V.push({event:F,listeners:te}))}}if((t&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",J=e==="mouseout"||e==="pointerout",F&&n!==Ll&&(Z=n.relatedTarget||n.fromElement)&&(Ln(Z)||Z[Yt]))break e;if((J||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,J?(Z=n.relatedTarget||n.toElement,J=_,Z=Z?Ln(Z):null,Z!==null&&(Oe=_n(Z),Z!==Oe||Z.tag!==5&&Z.tag!==6)&&(Z=null)):(J=null,Z=_),J!==Z)){if(te=co,H="onMouseLeave",E="onMouseEnter",P="mouse",(e==="pointerout"||e==="pointerover")&&(te=fo,H="onPointerLeave",E="onPointerEnter",P="pointer"),Oe=J==null?F:nr(J),R=Z==null?F:nr(Z),F=new te(H,P+"leave",J,n,$),F.target=Oe,F.relatedTarget=R,H=null,Ln($)===_&&(te=new te(E,P+"enter",Z,n,$),te.target=R,te.relatedTarget=Oe,H=te),Oe=H,J&&Z)t:{for(te=J,E=Z,P=0,R=te;R;R=er(R))P++;for(R=0,H=E;H;H=er(H))R++;for(;0<P-R;)te=er(te),P--;for(;0<R-P;)E=er(E),R--;for(;P--;){if(te===E||E!==null&&te===E.alternate)break t;te=er(te),E=er(E)}te=null}else te=null;J!==null&&Fo(V,F,J,te,!1),Z!==null&&Oe!==null&&Fo(V,Oe,Z,te,!0)}}e:{if(F=_?nr(_):window,J=F.nodeName&&F.nodeName.toLowerCase(),J==="select"||J==="input"&&F.type==="file")var ne=nm;else if(yo(F))if(jo)ne=im;else{ne=sm;var le=rm}else(J=F.nodeName)&&J.toLowerCase()==="input"&&(F.type==="checkbox"||F.type==="radio")&&(ne=lm);if(ne&&(ne=ne(e,_))){wo(V,ne,n,$);break e}le&&le(e,F,_),e==="focusout"&&(le=F._wrapperState)&&le.controlled&&F.type==="number"&&Ct(F,"number",F.value)}switch(le=_?nr(_):window,e){case"focusin":(yo(le)||le.contentEditable==="true")&&(Xn=le,ni=_,Or=null);break;case"focusout":Or=ni=Xn=null;break;case"mousedown":ri=!0;break;case"contextmenu":case"mouseup":case"dragend":ri=!1,Ro(V,n,$);break;case"selectionchange":if(um)break;case"keydown":case"keyup":Ro(V,n,$)}var ie;if(Xl)e:{switch(e){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else qn?xo(e,n)&&(ce="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ce="onCompositionStart");ce&&(ho&&n.locale!=="ko"&&(qn||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&qn&&(ie=oo()):(hn=$,Ql="value"in hn?hn.value:hn.textContent,qn=!0)),le=Is(_,ce),0<le.length&&(ce=new mo(ce,e,null,n,$),V.push({event:ce,listeners:le}),ie?ce.data=ie:(ie=vo(n),ie!==null&&(ce.data=ie)))),(ie=qd?Xd(e,n):Zd(e,n))&&(_=Is(_,"onBeforeInput"),0<_.length&&($=new mo("onBeforeInput","beforeinput",null,n,$),V.push({event:$,listeners:_}),$.data=ie))}Oo(V,t)})}function $r(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Is(e,t){for(var n=t+"Capture",s=[];e!==null;){var l=e,u=l.stateNode;l.tag===5&&u!==null&&(l=u,u=Nr(e,n),u!=null&&s.unshift($r(e,u,l)),u=Nr(e,t),u!=null&&s.push($r(e,u,l))),e=e.return}return s}function er(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Fo(e,t,n,s,l){for(var u=t._reactName,d=[];n!==null&&n!==s;){var x=n,b=x.alternate,_=x.stateNode;if(b!==null&&b===s)break;x.tag===5&&_!==null&&(x=_,l?(b=Nr(n,u),b!=null&&d.unshift($r(n,b,x))):l||(b=Nr(n,u),b!=null&&d.push($r(n,b,x)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var fm=/\r\n?/g,hm=/\u0000|\uFFFD/g;function $o(e){return(typeof e=="string"?e:""+e).replace(fm,`
`).replace(hm,"")}function _s(e,t,n){if(t=$o(t),$o(e)!==t&&n)throw Error(o(425))}function Ls(){}var ui=null,ci=null;function di(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mi=typeof setTimeout=="function"?setTimeout:void 0,pm=typeof clearTimeout=="function"?clearTimeout:void 0,Bo=typeof Promise=="function"?Promise:void 0,gm=typeof queueMicrotask=="function"?queueMicrotask:typeof Bo<"u"?function(e){return Bo.resolve(null).then(e).catch(xm)}:mi;function xm(e){setTimeout(function(){throw e})}function fi(e,t){var n=t,s=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(s===0){e.removeChild(l),_r(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=l}while(n);_r(t)}function gn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Vo(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var tr=Math.random().toString(36).slice(2),Ft="__reactFiber$"+tr,Br="__reactProps$"+tr,Yt="__reactContainer$"+tr,hi="__reactEvents$"+tr,vm="__reactListeners$"+tr,ym="__reactHandles$"+tr;function Ln(e){var t=e[Ft];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Yt]||n[Ft]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Vo(e);e!==null;){if(n=e[Ft])return n;e=Vo(e)}return t}e=n,n=e.parentNode}return null}function Vr(e){return e=e[Ft]||e[Yt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function nr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function Ds(e){return e[Br]||null}var pi=[],rr=-1;function xn(e){return{current:e}}function _e(e){0>rr||(e.current=pi[rr],pi[rr]=null,rr--)}function Re(e,t){rr++,pi[rr]=e.current,e.current=t}var vn={},Xe=xn(vn),lt=xn(!1),Dn=vn;function sr(e,t){var n=e.type.contextTypes;if(!n)return vn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},u;for(u in n)l[u]=t[u];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function it(e){return e=e.childContextTypes,e!=null}function As(){_e(lt),_e(Xe)}function Wo(e,t,n){if(Xe.current!==vn)throw Error(o(168));Re(Xe,t),Re(lt,n)}function Ho(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(o(108,ve(e)||"Unknown",l));return I({},n,s)}function Us(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vn,Dn=Xe.current,Re(Xe,e),Re(lt,lt.current),!0}function Qo(e,t,n){var s=e.stateNode;if(!s)throw Error(o(169));n?(e=Ho(e,t,Dn),s.__reactInternalMemoizedMergedChildContext=e,_e(lt),_e(Xe),Re(Xe,e)):_e(lt),Re(lt,n)}var Kt=null,Ms=!1,gi=!1;function Yo(e){Kt===null?Kt=[e]:Kt.push(e)}function wm(e){Ms=!0,Yo(e)}function yn(){if(!gi&&Kt!==null){gi=!0;var e=0,t=Ce;try{var n=Kt;for(Ce=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Kt=null,Ms=!1}catch(l){throw Kt!==null&&(Kt=Kt.slice(e+1)),Ka(Ol,yn),l}finally{Ce=t,gi=!1}}return null}var lr=[],ir=0,Ts=null,Os=0,yt=[],wt=0,An=null,Gt=1,Jt="";function Un(e,t){lr[ir++]=Os,lr[ir++]=Ts,Ts=e,Os=t}function Ko(e,t,n){yt[wt++]=Gt,yt[wt++]=Jt,yt[wt++]=An,An=e;var s=Gt;e=Jt;var l=32-Pt(s)-1;s&=~(1<<l),n+=1;var u=32-Pt(t)+l;if(30<u){var d=l-l%5;u=(s&(1<<d)-1).toString(32),s>>=d,l-=d,Gt=1<<32-Pt(t)+l|n<<l|s,Jt=u+e}else Gt=1<<u|n<<l|s,Jt=e}function xi(e){e.return!==null&&(Un(e,1),Ko(e,1,0))}function vi(e){for(;e===Ts;)Ts=lr[--ir],lr[ir]=null,Os=lr[--ir],lr[ir]=null;for(;e===An;)An=yt[--wt],yt[wt]=null,Jt=yt[--wt],yt[wt]=null,Gt=yt[--wt],yt[wt]=null}var mt=null,ft=null,Le=!1,Rt=null;function Go(e,t){var n=St(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Jo(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mt=e,ft=gn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mt=e,ft=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=An!==null?{id:Gt,overflow:Jt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=St(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,mt=e,ft=null,!0):!1;default:return!1}}function yi(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wi(e){if(Le){var t=ft;if(t){var n=t;if(!Jo(e,t)){if(yi(e))throw Error(o(418));t=gn(n.nextSibling);var s=mt;t&&Jo(e,t)?Go(s,n):(e.flags=e.flags&-4097|2,Le=!1,mt=e)}}else{if(yi(e))throw Error(o(418));e.flags=e.flags&-4097|2,Le=!1,mt=e}}}function qo(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mt=e}function zs(e){if(e!==mt)return!1;if(!Le)return qo(e),Le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!di(e.type,e.memoizedProps)),t&&(t=ft)){if(yi(e))throw Xo(),Error(o(418));for(;t;)Go(e,t),t=gn(t.nextSibling)}if(qo(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ft=gn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ft=null}}else ft=mt?gn(e.stateNode.nextSibling):null;return!0}function Xo(){for(var e=ft;e;)e=gn(e.nextSibling)}function ar(){ft=mt=null,Le=!1}function ji(e){Rt===null?Rt=[e]:Rt.push(e)}var jm=se.ReactCurrentBatchConfig;function Wr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(o(309));var s=n.stateNode}if(!s)throw Error(o(147,e));var l=s,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(d){var x=l.refs;d===null?delete x[u]:x[u]=d},t._stringRef=u,t)}if(typeof e!="string")throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Fs(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zo(e){var t=e._init;return t(e._payload)}function eu(e){function t(E,P){if(e){var R=E.deletions;R===null?(E.deletions=[P],E.flags|=16):R.push(P)}}function n(E,P){if(!e)return null;for(;P!==null;)t(E,P),P=P.sibling;return null}function s(E,P){for(E=new Map;P!==null;)P.key!==null?E.set(P.key,P):E.set(P.index,P),P=P.sibling;return E}function l(E,P){return E=Pn(E,P),E.index=0,E.sibling=null,E}function u(E,P,R){return E.index=R,e?(R=E.alternate,R!==null?(R=R.index,R<P?(E.flags|=2,P):R):(E.flags|=2,P)):(E.flags|=1048576,P)}function d(E){return e&&E.alternate===null&&(E.flags|=2),E}function x(E,P,R,H){return P===null||P.tag!==6?(P=ma(R,E.mode,H),P.return=E,P):(P=l(P,R),P.return=E,P)}function b(E,P,R,H){var ne=R.type;return ne===me?$(E,P,R.props.children,H,R.key):P!==null&&(P.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===ee&&Zo(ne)===P.type)?(H=l(P,R.props),H.ref=Wr(E,P,R),H.return=E,H):(H=cl(R.type,R.key,R.props,null,E.mode,H),H.ref=Wr(E,P,R),H.return=E,H)}function _(E,P,R,H){return P===null||P.tag!==4||P.stateNode.containerInfo!==R.containerInfo||P.stateNode.implementation!==R.implementation?(P=fa(R,E.mode,H),P.return=E,P):(P=l(P,R.children||[]),P.return=E,P)}function $(E,P,R,H,ne){return P===null||P.tag!==7?(P=Vn(R,E.mode,H,ne),P.return=E,P):(P=l(P,R),P.return=E,P)}function V(E,P,R){if(typeof P=="string"&&P!==""||typeof P=="number")return P=ma(""+P,E.mode,R),P.return=E,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case de:return R=cl(P.type,P.key,P.props,null,E.mode,R),R.ref=Wr(E,null,P),R.return=E,R;case oe:return P=fa(P,E.mode,R),P.return=E,P;case ee:var H=P._init;return V(E,H(P._payload),R)}if(on(P)||q(P))return P=Vn(P,E.mode,R,null),P.return=E,P;Fs(E,P)}return null}function F(E,P,R,H){var ne=P!==null?P.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return ne!==null?null:x(E,P,""+R,H);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case de:return R.key===ne?b(E,P,R,H):null;case oe:return R.key===ne?_(E,P,R,H):null;case ee:return ne=R._init,F(E,P,ne(R._payload),H)}if(on(R)||q(R))return ne!==null?null:$(E,P,R,H,null);Fs(E,R)}return null}function J(E,P,R,H,ne){if(typeof H=="string"&&H!==""||typeof H=="number")return E=E.get(R)||null,x(P,E,""+H,ne);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case de:return E=E.get(H.key===null?R:H.key)||null,b(P,E,H,ne);case oe:return E=E.get(H.key===null?R:H.key)||null,_(P,E,H,ne);case ee:var le=H._init;return J(E,P,R,le(H._payload),ne)}if(on(H)||q(H))return E=E.get(R)||null,$(P,E,H,ne,null);Fs(P,H)}return null}function Z(E,P,R,H){for(var ne=null,le=null,ie=P,ce=P=0,Ke=null;ie!==null&&ce<R.length;ce++){ie.index>ce?(Ke=ie,ie=null):Ke=ie.sibling;var je=F(E,ie,R[ce],H);if(je===null){ie===null&&(ie=Ke);break}e&&ie&&je.alternate===null&&t(E,ie),P=u(je,P,ce),le===null?ne=je:le.sibling=je,le=je,ie=Ke}if(ce===R.length)return n(E,ie),Le&&Un(E,ce),ne;if(ie===null){for(;ce<R.length;ce++)ie=V(E,R[ce],H),ie!==null&&(P=u(ie,P,ce),le===null?ne=ie:le.sibling=ie,le=ie);return Le&&Un(E,ce),ne}for(ie=s(E,ie);ce<R.length;ce++)Ke=J(ie,E,ce,R[ce],H),Ke!==null&&(e&&Ke.alternate!==null&&ie.delete(Ke.key===null?ce:Ke.key),P=u(Ke,P,ce),le===null?ne=Ke:le.sibling=Ke,le=Ke);return e&&ie.forEach(function(En){return t(E,En)}),Le&&Un(E,ce),ne}function te(E,P,R,H){var ne=q(R);if(typeof ne!="function")throw Error(o(150));if(R=ne.call(R),R==null)throw Error(o(151));for(var le=ne=null,ie=P,ce=P=0,Ke=null,je=R.next();ie!==null&&!je.done;ce++,je=R.next()){ie.index>ce?(Ke=ie,ie=null):Ke=ie.sibling;var En=F(E,ie,je.value,H);if(En===null){ie===null&&(ie=Ke);break}e&&ie&&En.alternate===null&&t(E,ie),P=u(En,P,ce),le===null?ne=En:le.sibling=En,le=En,ie=Ke}if(je.done)return n(E,ie),Le&&Un(E,ce),ne;if(ie===null){for(;!je.done;ce++,je=R.next())je=V(E,je.value,H),je!==null&&(P=u(je,P,ce),le===null?ne=je:le.sibling=je,le=je);return Le&&Un(E,ce),ne}for(ie=s(E,ie);!je.done;ce++,je=R.next())je=J(ie,E,ce,je.value,H),je!==null&&(e&&je.alternate!==null&&ie.delete(je.key===null?ce:je.key),P=u(je,P,ce),le===null?ne=je:le.sibling=je,le=je);return e&&ie.forEach(function(ef){return t(E,ef)}),Le&&Un(E,ce),ne}function Oe(E,P,R,H){if(typeof R=="object"&&R!==null&&R.type===me&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case de:e:{for(var ne=R.key,le=P;le!==null;){if(le.key===ne){if(ne=R.type,ne===me){if(le.tag===7){n(E,le.sibling),P=l(le,R.props.children),P.return=E,E=P;break e}}else if(le.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===ee&&Zo(ne)===le.type){n(E,le.sibling),P=l(le,R.props),P.ref=Wr(E,le,R),P.return=E,E=P;break e}n(E,le);break}else t(E,le);le=le.sibling}R.type===me?(P=Vn(R.props.children,E.mode,H,R.key),P.return=E,E=P):(H=cl(R.type,R.key,R.props,null,E.mode,H),H.ref=Wr(E,P,R),H.return=E,E=H)}return d(E);case oe:e:{for(le=R.key;P!==null;){if(P.key===le)if(P.tag===4&&P.stateNode.containerInfo===R.containerInfo&&P.stateNode.implementation===R.implementation){n(E,P.sibling),P=l(P,R.children||[]),P.return=E,E=P;break e}else{n(E,P);break}else t(E,P);P=P.sibling}P=fa(R,E.mode,H),P.return=E,E=P}return d(E);case ee:return le=R._init,Oe(E,P,le(R._payload),H)}if(on(R))return Z(E,P,R,H);if(q(R))return te(E,P,R,H);Fs(E,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,P!==null&&P.tag===6?(n(E,P.sibling),P=l(P,R),P.return=E,E=P):(n(E,P),P=ma(R,E.mode,H),P.return=E,E=P),d(E)):n(E,P)}return Oe}var or=eu(!0),tu=eu(!1),$s=xn(null),Bs=null,ur=null,Ni=null;function bi(){Ni=ur=Bs=null}function Si(e){var t=$s.current;_e($s),e._currentValue=t}function Ci(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function cr(e,t){Bs=e,Ni=ur=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(at=!0),e.firstContext=null)}function jt(e){var t=e._currentValue;if(Ni!==e)if(e={context:e,memoizedValue:t,next:null},ur===null){if(Bs===null)throw Error(o(308));ur=e,Bs.dependencies={lanes:0,firstContext:e}}else ur=ur.next=e;return t}var Mn=null;function ki(e){Mn===null?Mn=[e]:Mn.push(e)}function nu(e,t,n,s){var l=t.interleaved;return l===null?(n.next=n,ki(t)):(n.next=l.next,l.next=n),t.interleaved=n,qt(e,s)}function qt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var wn=!1;function Pi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ru(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function jn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(we&2)!==0){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,qt(e,n)}return l=s.interleaved,l===null?(t.next=t,ki(s)):(t.next=l.next,l.next=t),s.interleaved=t,qt(e,n)}function Vs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,$l(e,n)}}function su(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var d={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};u===null?l=u=d:u=u.next=d,n=n.next}while(n!==null);u===null?l=u=t:u=u.next=t}else l=u=t;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:u,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ws(e,t,n,s){var l=e.updateQueue;wn=!1;var u=l.firstBaseUpdate,d=l.lastBaseUpdate,x=l.shared.pending;if(x!==null){l.shared.pending=null;var b=x,_=b.next;b.next=null,d===null?u=_:d.next=_,d=b;var $=e.alternate;$!==null&&($=$.updateQueue,x=$.lastBaseUpdate,x!==d&&(x===null?$.firstBaseUpdate=_:x.next=_,$.lastBaseUpdate=b))}if(u!==null){var V=l.baseState;d=0,$=_=b=null,x=u;do{var F=x.lane,J=x.eventTime;if((s&F)===F){$!==null&&($=$.next={eventTime:J,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var Z=e,te=x;switch(F=t,J=n,te.tag){case 1:if(Z=te.payload,typeof Z=="function"){V=Z.call(J,V,F);break e}V=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=te.payload,F=typeof Z=="function"?Z.call(J,V,F):Z,F==null)break e;V=I({},V,F);break e;case 2:wn=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,F=l.effects,F===null?l.effects=[x]:F.push(x))}else J={eventTime:J,lane:F,tag:x.tag,payload:x.payload,callback:x.callback,next:null},$===null?(_=$=J,b=V):$=$.next=J,d|=F;if(x=x.next,x===null){if(x=l.shared.pending,x===null)break;F=x,x=F.next,F.next=null,l.lastBaseUpdate=F,l.shared.pending=null}}while(!0);if($===null&&(b=V),l.baseState=b,l.firstBaseUpdate=_,l.lastBaseUpdate=$,t=l.shared.interleaved,t!==null){l=t;do d|=l.lane,l=l.next;while(l!==t)}else u===null&&(l.shared.lanes=0);zn|=d,e.lanes=d,e.memoizedState=V}}function lu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=n,typeof l!="function")throw Error(o(191,l));l.call(s)}}}var Hr={},$t=xn(Hr),Qr=xn(Hr),Yr=xn(Hr);function Tn(e){if(e===Hr)throw Error(o(174));return e}function Ei(e,t){switch(Re(Yr,t),Re(Qr,e),Re($t,Hr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Tt(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Tt(t,e)}_e($t),Re($t,t)}function dr(){_e($t),_e(Qr),_e(Yr)}function iu(e){Tn(Yr.current);var t=Tn($t.current),n=Tt(t,e.type);t!==n&&(Re(Qr,e),Re($t,n))}function Ri(e){Qr.current===e&&(_e($t),_e(Qr))}var Ae=xn(0);function Hs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ii=[];function _i(){for(var e=0;e<Ii.length;e++)Ii[e]._workInProgressVersionPrimary=null;Ii.length=0}var Qs=se.ReactCurrentDispatcher,Li=se.ReactCurrentBatchConfig,On=0,Ue=null,Be=null,Qe=null,Ys=!1,Kr=!1,Gr=0,Nm=0;function Ze(){throw Error(o(321))}function Di(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Et(e[n],t[n]))return!1;return!0}function Ai(e,t,n,s,l,u){if(On=u,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qs.current=e===null||e.memoizedState===null?km:Pm,e=n(s,l),Kr){u=0;do{if(Kr=!1,Gr=0,25<=u)throw Error(o(301));u+=1,Qe=Be=null,t.updateQueue=null,Qs.current=Em,e=n(s,l)}while(Kr)}if(Qs.current=Js,t=Be!==null&&Be.next!==null,On=0,Qe=Be=Ue=null,Ys=!1,t)throw Error(o(300));return e}function Ui(){var e=Gr!==0;return Gr=0,e}function Bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Ue.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function Nt(){if(Be===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=Qe===null?Ue.memoizedState:Qe.next;if(t!==null)Qe=t,Be=e;else{if(e===null)throw Error(o(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},Qe===null?Ue.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function Jr(e,t){return typeof t=="function"?t(e):t}function Mi(e){var t=Nt(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var s=Be,l=s.baseQueue,u=n.pending;if(u!==null){if(l!==null){var d=l.next;l.next=u.next,u.next=d}s.baseQueue=l=u,n.pending=null}if(l!==null){u=l.next,s=s.baseState;var x=d=null,b=null,_=u;do{var $=_.lane;if((On&$)===$)b!==null&&(b=b.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),s=_.hasEagerState?_.eagerState:e(s,_.action);else{var V={lane:$,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};b===null?(x=b=V,d=s):b=b.next=V,Ue.lanes|=$,zn|=$}_=_.next}while(_!==null&&_!==u);b===null?d=s:b.next=x,Et(s,t.memoizedState)||(at=!0),t.memoizedState=s,t.baseState=d,t.baseQueue=b,n.lastRenderedState=s}if(e=n.interleaved,e!==null){l=e;do u=l.lane,Ue.lanes|=u,zn|=u,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ti(e){var t=Nt(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var s=n.dispatch,l=n.pending,u=t.memoizedState;if(l!==null){n.pending=null;var d=l=l.next;do u=e(u,d.action),d=d.next;while(d!==l);Et(u,t.memoizedState)||(at=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,s]}function au(){}function ou(e,t){var n=Ue,s=Nt(),l=t(),u=!Et(s.memoizedState,l);if(u&&(s.memoizedState=l,at=!0),s=s.queue,Oi(du.bind(null,n,s,e),[e]),s.getSnapshot!==t||u||Qe!==null&&Qe.memoizedState.tag&1){if(n.flags|=2048,qr(9,cu.bind(null,n,s,l,t),void 0,null),Ye===null)throw Error(o(349));(On&30)!==0||uu(n,t,l)}return l}function uu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function cu(e,t,n,s){t.value=n,t.getSnapshot=s,mu(t)&&fu(e)}function du(e,t,n){return n(function(){mu(t)&&fu(e)})}function mu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Et(e,n)}catch{return!0}}function fu(e){var t=qt(e,1);t!==null&&Dt(t,e,1,-1)}function hu(e){var t=Bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:e},t.queue=e,e=e.dispatch=Cm.bind(null,Ue,e),[t.memoizedState,e]}function qr(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function pu(){return Nt().memoizedState}function Ks(e,t,n,s){var l=Bt();Ue.flags|=e,l.memoizedState=qr(1|t,n,void 0,s===void 0?null:s)}function Gs(e,t,n,s){var l=Nt();s=s===void 0?null:s;var u=void 0;if(Be!==null){var d=Be.memoizedState;if(u=d.destroy,s!==null&&Di(s,d.deps)){l.memoizedState=qr(t,n,u,s);return}}Ue.flags|=e,l.memoizedState=qr(1|t,n,u,s)}function gu(e,t){return Ks(8390656,8,e,t)}function Oi(e,t){return Gs(2048,8,e,t)}function xu(e,t){return Gs(4,2,e,t)}function vu(e,t){return Gs(4,4,e,t)}function yu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wu(e,t,n){return n=n!=null?n.concat([e]):null,Gs(4,4,yu.bind(null,t,e),n)}function zi(){}function ju(e,t){var n=Nt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Di(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Nu(e,t){var n=Nt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Di(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function bu(e,t,n){return(On&21)===0?(e.baseState&&(e.baseState=!1,at=!0),e.memoizedState=n):(Et(n,t)||(n=Xa(),Ue.lanes|=n,zn|=n,e.baseState=!0),t)}function bm(e,t){var n=Ce;Ce=n!==0&&4>n?n:4,e(!0);var s=Li.transition;Li.transition={};try{e(!1),t()}finally{Ce=n,Li.transition=s}}function Su(){return Nt().memoizedState}function Sm(e,t,n){var s=Cn(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Cu(e))ku(t,n);else if(n=nu(e,t,n,s),n!==null){var l=st();Dt(n,e,s,l),Pu(n,t,s)}}function Cm(e,t,n){var s=Cn(e),l={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Cu(e))ku(t,l);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var d=t.lastRenderedState,x=u(d,n);if(l.hasEagerState=!0,l.eagerState=x,Et(x,d)){var b=t.interleaved;b===null?(l.next=l,ki(t)):(l.next=b.next,b.next=l),t.interleaved=l;return}}catch{}n=nu(e,t,l,s),n!==null&&(l=st(),Dt(n,e,s,l),Pu(n,t,s))}}function Cu(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function ku(e,t){Kr=Ys=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Pu(e,t,n){if((n&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,$l(e,n)}}var Js={readContext:jt,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},km={readContext:jt,useCallback:function(e,t){return Bt().memoizedState=[e,t===void 0?null:t],e},useContext:jt,useEffect:gu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ks(4194308,4,yu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ks(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ks(4,2,e,t)},useMemo:function(e,t){var n=Bt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Bt();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Sm.bind(null,Ue,e),[s.memoizedState,e]},useRef:function(e){var t=Bt();return e={current:e},t.memoizedState=e},useState:hu,useDebugValue:zi,useDeferredValue:function(e){return Bt().memoizedState=e},useTransition:function(){var e=hu(!1),t=e[0];return e=bm.bind(null,e[1]),Bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=Ue,l=Bt();if(Le){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),Ye===null)throw Error(o(349));(On&30)!==0||uu(s,t,n)}l.memoizedState=n;var u={value:n,getSnapshot:t};return l.queue=u,gu(du.bind(null,s,u,e),[e]),s.flags|=2048,qr(9,cu.bind(null,s,u,n,t),void 0,null),n},useId:function(){var e=Bt(),t=Ye.identifierPrefix;if(Le){var n=Jt,s=Gt;n=(s&~(1<<32-Pt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Gr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Nm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Pm={readContext:jt,useCallback:ju,useContext:jt,useEffect:Oi,useImperativeHandle:wu,useInsertionEffect:xu,useLayoutEffect:vu,useMemo:Nu,useReducer:Mi,useRef:pu,useState:function(){return Mi(Jr)},useDebugValue:zi,useDeferredValue:function(e){var t=Nt();return bu(t,Be.memoizedState,e)},useTransition:function(){var e=Mi(Jr)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:au,useSyncExternalStore:ou,useId:Su,unstable_isNewReconciler:!1},Em={readContext:jt,useCallback:ju,useContext:jt,useEffect:Oi,useImperativeHandle:wu,useInsertionEffect:xu,useLayoutEffect:vu,useMemo:Nu,useReducer:Ti,useRef:pu,useState:function(){return Ti(Jr)},useDebugValue:zi,useDeferredValue:function(e){var t=Nt();return Be===null?t.memoizedState=e:bu(t,Be.memoizedState,e)},useTransition:function(){var e=Ti(Jr)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:au,useSyncExternalStore:ou,useId:Su,unstable_isNewReconciler:!1};function It(e,t){if(e&&e.defaultProps){t=I({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Fi(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:I({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var qs={isMounted:function(e){return(e=e._reactInternals)?_n(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=st(),l=Cn(e),u=Xt(s,l);u.payload=t,n!=null&&(u.callback=n),t=jn(e,u,l),t!==null&&(Dt(t,e,l,s),Vs(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=st(),l=Cn(e),u=Xt(s,l);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=jn(e,u,l),t!==null&&(Dt(t,e,l,s),Vs(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=st(),s=Cn(e),l=Xt(n,s);l.tag=2,t!=null&&(l.callback=t),t=jn(e,l,s),t!==null&&(Dt(t,e,s,n),Vs(t,e,s))}};function Eu(e,t,n,s,l,u,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,d):t.prototype&&t.prototype.isPureReactComponent?!Tr(n,s)||!Tr(l,u):!0}function Ru(e,t,n){var s=!1,l=vn,u=t.contextType;return typeof u=="object"&&u!==null?u=jt(u):(l=it(t)?Dn:Xe.current,s=t.contextTypes,u=(s=s!=null)?sr(e,l):vn),t=new t(n,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qs,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=u),t}function Iu(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&qs.enqueueReplaceState(t,t.state,null)}function $i(e,t,n,s){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Pi(e);var u=t.contextType;typeof u=="object"&&u!==null?l.context=jt(u):(u=it(t)?Dn:Xe.current,l.context=sr(e,u)),l.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(Fi(e,t,u,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&qs.enqueueReplaceState(l,l.state,null),Ws(e,n,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function mr(e,t){try{var n="",s=t;do n+=Y(s),s=s.return;while(s);var l=n}catch(u){l=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:l,digest:null}}function Bi(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Vi(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Rm=typeof WeakMap=="function"?WeakMap:Map;function _u(e,t,n){n=Xt(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){sl||(sl=!0,sa=s),Vi(e,t)},n}function Lu(e,t,n){n=Xt(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;n.payload=function(){return s(l)},n.callback=function(){Vi(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(n.callback=function(){Vi(e,t),typeof s!="function"&&(bn===null?bn=new Set([this]):bn.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),n}function Du(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Rm;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(n)||(l.add(n),e=Vm.bind(null,e,t,n),t.then(e,e))}function Au(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Uu(e,t,n,s,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Xt(-1,1),t.tag=2,jn(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var Im=se.ReactCurrentOwner,at=!1;function rt(e,t,n,s){t.child=e===null?tu(t,null,n,s):or(t,e.child,n,s)}function Mu(e,t,n,s,l){n=n.render;var u=t.ref;return cr(t,l),s=Ai(e,t,n,s,u,l),n=Ui(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Zt(e,t,l)):(Le&&n&&xi(t),t.flags|=1,rt(e,t,s,l),t.child)}function Tu(e,t,n,s,l){if(e===null){var u=n.type;return typeof u=="function"&&!da(u)&&u.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=u,Ou(e,t,u,s,l)):(e=cl(n.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,(e.lanes&l)===0){var d=u.memoizedProps;if(n=n.compare,n=n!==null?n:Tr,n(d,s)&&e.ref===t.ref)return Zt(e,t,l)}return t.flags|=1,e=Pn(u,s),e.ref=t.ref,e.return=t,t.child=e}function Ou(e,t,n,s,l){if(e!==null){var u=e.memoizedProps;if(Tr(u,s)&&e.ref===t.ref)if(at=!1,t.pendingProps=s=u,(e.lanes&l)!==0)(e.flags&131072)!==0&&(at=!0);else return t.lanes=e.lanes,Zt(e,t,l)}return Wi(e,t,n,s,l)}function zu(e,t,n){var s=t.pendingProps,l=s.children,u=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(hr,ht),ht|=n;else{if((n&1073741824)===0)return e=u!==null?u.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Re(hr,ht),ht|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=u!==null?u.baseLanes:n,Re(hr,ht),ht|=s}else u!==null?(s=u.baseLanes|n,t.memoizedState=null):s=n,Re(hr,ht),ht|=s;return rt(e,t,l,n),t.child}function Fu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Wi(e,t,n,s,l){var u=it(n)?Dn:Xe.current;return u=sr(t,u),cr(t,l),n=Ai(e,t,n,s,u,l),s=Ui(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Zt(e,t,l)):(Le&&s&&xi(t),t.flags|=1,rt(e,t,n,l),t.child)}function $u(e,t,n,s,l){if(it(n)){var u=!0;Us(t)}else u=!1;if(cr(t,l),t.stateNode===null)Zs(e,t),Ru(t,n,s),$i(t,n,s,l),s=!0;else if(e===null){var d=t.stateNode,x=t.memoizedProps;d.props=x;var b=d.context,_=n.contextType;typeof _=="object"&&_!==null?_=jt(_):(_=it(n)?Dn:Xe.current,_=sr(t,_));var $=n.getDerivedStateFromProps,V=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function";V||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x!==s||b!==_)&&Iu(t,d,s,_),wn=!1;var F=t.memoizedState;d.state=F,Ws(t,s,d,l),b=t.memoizedState,x!==s||F!==b||lt.current||wn?(typeof $=="function"&&(Fi(t,n,$,s),b=t.memoizedState),(x=wn||Eu(t,n,x,s,F,b,_))?(V||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=b),d.props=s,d.state=b,d.context=_,s=x):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{d=t.stateNode,ru(e,t),x=t.memoizedProps,_=t.type===t.elementType?x:It(t.type,x),d.props=_,V=t.pendingProps,F=d.context,b=n.contextType,typeof b=="object"&&b!==null?b=jt(b):(b=it(n)?Dn:Xe.current,b=sr(t,b));var J=n.getDerivedStateFromProps;($=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x!==V||F!==b)&&Iu(t,d,s,b),wn=!1,F=t.memoizedState,d.state=F,Ws(t,s,d,l);var Z=t.memoizedState;x!==V||F!==Z||lt.current||wn?(typeof J=="function"&&(Fi(t,n,J,s),Z=t.memoizedState),(_=wn||Eu(t,n,_,s,F,Z,b)||!1)?($||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(s,Z,b),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(s,Z,b)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||x===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=Z),d.props=s,d.state=Z,d.context=b,s=_):(typeof d.componentDidUpdate!="function"||x===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),s=!1)}return Hi(e,t,n,s,u,l)}function Hi(e,t,n,s,l,u){Fu(e,t);var d=(t.flags&128)!==0;if(!s&&!d)return l&&Qo(t,n,!1),Zt(e,t,u);s=t.stateNode,Im.current=t;var x=d&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&d?(t.child=or(t,e.child,null,u),t.child=or(t,null,x,u)):rt(e,t,x,u),t.memoizedState=s.state,l&&Qo(t,n,!0),t.child}function Bu(e){var t=e.stateNode;t.pendingContext?Wo(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Wo(e,t.context,!1),Ei(e,t.containerInfo)}function Vu(e,t,n,s,l){return ar(),ji(l),t.flags|=256,rt(e,t,n,s),t.child}var Qi={dehydrated:null,treeContext:null,retryLane:0};function Yi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Wu(e,t,n){var s=t.pendingProps,l=Ae.current,u=!1,d=(t.flags&128)!==0,x;if((x=d)||(x=e!==null&&e.memoizedState===null?!1:(l&2)!==0),x?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Re(Ae,l&1),e===null)return wi(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(d=s.children,e=s.fallback,u?(s=t.mode,u=t.child,d={mode:"hidden",children:d},(s&1)===0&&u!==null?(u.childLanes=0,u.pendingProps=d):u=dl(d,s,0,null),e=Vn(e,s,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Yi(n),t.memoizedState=Qi,e):Ki(t,d));if(l=e.memoizedState,l!==null&&(x=l.dehydrated,x!==null))return _m(e,t,d,s,x,l,n);if(u){u=s.fallback,d=t.mode,l=e.child,x=l.sibling;var b={mode:"hidden",children:s.children};return(d&1)===0&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=b,t.deletions=null):(s=Pn(l,b),s.subtreeFlags=l.subtreeFlags&14680064),x!==null?u=Pn(x,u):(u=Vn(u,d,n,null),u.flags|=2),u.return=t,s.return=t,s.sibling=u,t.child=s,s=u,u=t.child,d=e.child.memoizedState,d=d===null?Yi(n):{baseLanes:d.baseLanes|n,cachePool:null,transitions:d.transitions},u.memoizedState=d,u.childLanes=e.childLanes&~n,t.memoizedState=Qi,s}return u=e.child,e=u.sibling,s=Pn(u,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Ki(e,t){return t=dl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xs(e,t,n,s){return s!==null&&ji(s),or(t,e.child,null,n),e=Ki(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _m(e,t,n,s,l,u,d){if(n)return t.flags&256?(t.flags&=-257,s=Bi(Error(o(422))),Xs(e,t,d,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=s.fallback,l=t.mode,s=dl({mode:"visible",children:s.children},l,0,null),u=Vn(u,l,d,null),u.flags|=2,s.return=t,u.return=t,s.sibling=u,t.child=s,(t.mode&1)!==0&&or(t,e.child,null,d),t.child.memoizedState=Yi(d),t.memoizedState=Qi,u);if((t.mode&1)===0)return Xs(e,t,d,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var x=s.dgst;return s=x,u=Error(o(419)),s=Bi(u,s,void 0),Xs(e,t,d,s)}if(x=(d&e.childLanes)!==0,at||x){if(s=Ye,s!==null){switch(d&-d){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(s.suspendedLanes|d))!==0?0:l,l!==0&&l!==u.retryLane&&(u.retryLane=l,qt(e,l),Dt(s,e,l,-1))}return ca(),s=Bi(Error(o(421))),Xs(e,t,d,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Wm.bind(null,e),l._reactRetry=t,null):(e=u.treeContext,ft=gn(l.nextSibling),mt=t,Le=!0,Rt=null,e!==null&&(yt[wt++]=Gt,yt[wt++]=Jt,yt[wt++]=An,Gt=e.id,Jt=e.overflow,An=t),t=Ki(t,s.children),t.flags|=4096,t)}function Hu(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Ci(e.return,t,n)}function Gi(e,t,n,s,l){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=s,u.tail=n,u.tailMode=l)}function Qu(e,t,n){var s=t.pendingProps,l=s.revealOrder,u=s.tail;if(rt(e,t,s.children,n),s=Ae.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hu(e,n,t);else if(e.tag===19)Hu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Re(Ae,s),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Hs(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Gi(t,!1,l,n,u);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Hs(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Gi(t,!0,n,null,u);break;case"together":Gi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zs(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),zn|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=Pn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Pn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Lm(e,t,n){switch(t.tag){case 3:Bu(t),ar();break;case 5:iu(t);break;case 1:it(t.type)&&Us(t);break;case 4:Ei(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;Re($s,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Re(Ae,Ae.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Wu(e,t,n):(Re(Ae,Ae.current&1),e=Zt(e,t,n),e!==null?e.sibling:null);Re(Ae,Ae.current&1);break;case 19:if(s=(n&t.childLanes)!==0,(e.flags&128)!==0){if(s)return Qu(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Re(Ae,Ae.current),s)break;return null;case 22:case 23:return t.lanes=0,zu(e,t,n)}return Zt(e,t,n)}var Yu,Ji,Ku,Gu;Yu=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ji=function(){},Ku=function(e,t,n,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,Tn($t.current);var u=null;switch(n){case"input":l=Qt(e,l),s=Qt(e,s),u=[];break;case"select":l=I({},l,{value:void 0}),s=I({},s,{value:void 0}),u=[];break;case"textarea":l=K(e,l),s=K(e,s),u=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Ls)}Il(n,s);var d;n=null;for(_ in l)if(!s.hasOwnProperty(_)&&l.hasOwnProperty(_)&&l[_]!=null)if(_==="style"){var x=l[_];for(d in x)x.hasOwnProperty(d)&&(n||(n={}),n[d]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(f.hasOwnProperty(_)?u||(u=[]):(u=u||[]).push(_,null));for(_ in s){var b=s[_];if(x=l?.[_],s.hasOwnProperty(_)&&b!==x&&(b!=null||x!=null))if(_==="style")if(x){for(d in x)!x.hasOwnProperty(d)||b&&b.hasOwnProperty(d)||(n||(n={}),n[d]="");for(d in b)b.hasOwnProperty(d)&&x[d]!==b[d]&&(n||(n={}),n[d]=b[d])}else n||(u||(u=[]),u.push(_,n)),n=b;else _==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,x=x?x.__html:void 0,b!=null&&x!==b&&(u=u||[]).push(_,b)):_==="children"?typeof b!="string"&&typeof b!="number"||(u=u||[]).push(_,""+b):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(f.hasOwnProperty(_)?(b!=null&&_==="onScroll"&&Ie("scroll",e),u||x===b||(u=[])):(u=u||[]).push(_,b))}n&&(u=u||[]).push("style",n);var _=u;(t.updateQueue=_)&&(t.flags|=4)}},Gu=function(e,t,n,s){n!==s&&(t.flags|=4)};function Xr(e,t){if(!Le)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function et(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Dm(e,t,n){var s=t.pendingProps;switch(vi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(t),null;case 1:return it(t.type)&&As(),et(t),null;case 3:return s=t.stateNode,dr(),_e(lt),_e(Xe),_i(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(zs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Rt!==null&&(aa(Rt),Rt=null))),Ji(e,t),et(t),null;case 5:Ri(t);var l=Tn(Yr.current);if(n=t.type,e!==null&&t.stateNode!=null)Ku(e,t,n,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(o(166));return et(t),null}if(e=Tn($t.current),zs(t)){s=t.stateNode,n=t.type;var u=t.memoizedProps;switch(s[Ft]=t,s[Br]=u,e=(t.mode&1)!==0,n){case"dialog":Ie("cancel",s),Ie("close",s);break;case"iframe":case"object":case"embed":Ie("load",s);break;case"video":case"audio":for(l=0;l<zr.length;l++)Ie(zr[l],s);break;case"source":Ie("error",s);break;case"img":case"image":case"link":Ie("error",s),Ie("load",s);break;case"details":Ie("toggle",s);break;case"input":z(s,u),Ie("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!u.multiple},Ie("invalid",s);break;case"textarea":Ne(s,u),Ie("invalid",s)}Il(n,u),l=null;for(var d in u)if(u.hasOwnProperty(d)){var x=u[d];d==="children"?typeof x=="string"?s.textContent!==x&&(u.suppressHydrationWarning!==!0&&_s(s.textContent,x,e),l=["children",x]):typeof x=="number"&&s.textContent!==""+x&&(u.suppressHydrationWarning!==!0&&_s(s.textContent,x,e),l=["children",""+x]):f.hasOwnProperty(d)&&x!=null&&d==="onScroll"&&Ie("scroll",s)}switch(n){case"input":We(s),vt(s,u,!0);break;case"textarea":We(s),qe(s);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(s.onclick=Ls)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{d=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qn(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=d.createElement(n,{is:s.is}):(e=d.createElement(n),n==="select"&&(d=e,s.multiple?d.multiple=!0:s.size&&(d.size=s.size))):e=d.createElementNS(e,n),e[Ft]=t,e[Br]=s,Yu(e,t,!1,!1),t.stateNode=e;e:{switch(d=_l(n,s),n){case"dialog":Ie("cancel",e),Ie("close",e),l=s;break;case"iframe":case"object":case"embed":Ie("load",e),l=s;break;case"video":case"audio":for(l=0;l<zr.length;l++)Ie(zr[l],e);l=s;break;case"source":Ie("error",e),l=s;break;case"img":case"image":case"link":Ie("error",e),Ie("load",e),l=s;break;case"details":Ie("toggle",e),l=s;break;case"input":z(e,s),l=Qt(e,s),Ie("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=I({},s,{value:void 0}),Ie("invalid",e);break;case"textarea":Ne(e,s),l=K(e,s),Ie("invalid",e);break;default:l=s}Il(n,l),x=l;for(u in x)if(x.hasOwnProperty(u)){var b=x[u];u==="style"?Ta(e,b):u==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&be(e,b)):u==="children"?typeof b=="string"?(n!=="textarea"||b!=="")&&kt(e,b):typeof b=="number"&&kt(e,""+b):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(f.hasOwnProperty(u)?b!=null&&u==="onScroll"&&Ie("scroll",e):b!=null&&T(e,u,b,d))}switch(n){case"input":We(e),vt(e,s,!1);break;case"textarea":We(e),qe(e);break;case"option":s.value!=null&&e.setAttribute("value",""+G(s.value));break;case"select":e.multiple=!!s.multiple,u=s.value,u!=null?U(e,!!s.multiple,u,!1):s.defaultValue!=null&&U(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Ls)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return et(t),null;case 6:if(e&&t.stateNode!=null)Gu(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(o(166));if(n=Tn(Yr.current),Tn($t.current),zs(t)){if(s=t.stateNode,n=t.memoizedProps,s[Ft]=t,(u=s.nodeValue!==n)&&(e=mt,e!==null))switch(e.tag){case 3:_s(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_s(s.nodeValue,n,(e.mode&1)!==0)}u&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Ft]=t,t.stateNode=s}return et(t),null;case 13:if(_e(Ae),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Le&&ft!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Xo(),ar(),t.flags|=98560,u=!1;else if(u=zs(t),s!==null&&s.dehydrated!==null){if(e===null){if(!u)throw Error(o(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));u[Ft]=t}else ar(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;et(t),u=!1}else Rt!==null&&(aa(Rt),Rt=null),u=!0;if(!u)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ae.current&1)!==0?Ve===0&&(Ve=3):ca())),t.updateQueue!==null&&(t.flags|=4),et(t),null);case 4:return dr(),Ji(e,t),e===null&&Fr(t.stateNode.containerInfo),et(t),null;case 10:return Si(t.type._context),et(t),null;case 17:return it(t.type)&&As(),et(t),null;case 19:if(_e(Ae),u=t.memoizedState,u===null)return et(t),null;if(s=(t.flags&128)!==0,d=u.rendering,d===null)if(s)Xr(u,!1);else{if(Ve!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=Hs(e),d!==null){for(t.flags|=128,Xr(u,!1),s=d.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)u=n,e=s,u.flags&=14680066,d=u.alternate,d===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=d.childLanes,u.lanes=d.lanes,u.child=d.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=d.memoizedProps,u.memoizedState=d.memoizedState,u.updateQueue=d.updateQueue,u.type=d.type,e=d.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Re(Ae,Ae.current&1|2),t.child}e=e.sibling}u.tail!==null&&Te()>pr&&(t.flags|=128,s=!0,Xr(u,!1),t.lanes=4194304)}else{if(!s)if(e=Hs(d),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xr(u,!0),u.tail===null&&u.tailMode==="hidden"&&!d.alternate&&!Le)return et(t),null}else 2*Te()-u.renderingStartTime>pr&&n!==1073741824&&(t.flags|=128,s=!0,Xr(u,!1),t.lanes=4194304);u.isBackwards?(d.sibling=t.child,t.child=d):(n=u.last,n!==null?n.sibling=d:t.child=d,u.last=d)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=Te(),t.sibling=null,n=Ae.current,Re(Ae,s?n&1|2:n&1),t):(et(t),null);case 22:case 23:return ua(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(ht&1073741824)!==0&&(et(t),t.subtreeFlags&6&&(t.flags|=8192)):et(t),null;case 24:return null;case 25:return null}throw Error(o(156,t.tag))}function Am(e,t){switch(vi(t),t.tag){case 1:return it(t.type)&&As(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return dr(),_e(lt),_e(Xe),_i(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Ri(t),null;case 13:if(_e(Ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));ar()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(Ae),null;case 4:return dr(),null;case 10:return Si(t.type._context),null;case 22:case 23:return ua(),null;case 24:return null;default:return null}}var el=!1,tt=!1,Um=typeof WeakSet=="function"?WeakSet:Set,X=null;function fr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Me(e,t,s)}else n.current=null}function qi(e,t,n){try{n()}catch(s){Me(e,t,s)}}var Ju=!1;function Mm(e,t){if(ui=ws,e=Eo(),ti(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var d=0,x=-1,b=-1,_=0,$=0,V=e,F=null;t:for(;;){for(var J;V!==n||l!==0&&V.nodeType!==3||(x=d+l),V!==u||s!==0&&V.nodeType!==3||(b=d+s),V.nodeType===3&&(d+=V.nodeValue.length),(J=V.firstChild)!==null;)F=V,V=J;for(;;){if(V===e)break t;if(F===n&&++_===l&&(x=d),F===u&&++$===s&&(b=d),(J=V.nextSibling)!==null)break;V=F,F=V.parentNode}V=J}n=x===-1||b===-1?null:{start:x,end:b}}else n=null}n=n||{start:0,end:0}}else n=null;for(ci={focusedElem:e,selectionRange:n},ws=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var Z=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Z!==null){var te=Z.memoizedProps,Oe=Z.memoizedState,E=t.stateNode,P=E.getSnapshotBeforeUpdate(t.elementType===t.type?te:It(t.type,te),Oe);E.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var R=t.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(H){Me(t,t.return,H)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return Z=Ju,Ju=!1,Z}function Zr(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var u=l.destroy;l.destroy=void 0,u!==void 0&&qi(t,n,u)}l=l.next}while(l!==s)}}function tl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function Xi(e){var t=e.ref;if(t!==null){var n=e.stateNode;e.tag,e=n,typeof t=="function"?t(e):t.current=e}}function qu(e){var t=e.alternate;t!==null&&(e.alternate=null,qu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ft],delete t[Br],delete t[hi],delete t[vm],delete t[ym])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Xu(e){return e.tag===5||e.tag===3||e.tag===4}function Zu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zi(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ls));else if(s!==4&&(e=e.child,e!==null))for(Zi(e,t,n),e=e.sibling;e!==null;)Zi(e,t,n),e=e.sibling}function ea(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(ea(e,t,n),e=e.sibling;e!==null;)ea(e,t,n),e=e.sibling}var Ge=null,_t=!1;function Nn(e,t,n){for(n=n.child;n!==null;)ec(e,t,n),n=n.sibling}function ec(e,t,n){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(hs,n)}catch{}switch(n.tag){case 5:tt||fr(n,t);case 6:var s=Ge,l=_t;Ge=null,Nn(e,t,n),Ge=s,_t=l,Ge!==null&&(_t?(e=Ge,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ge.removeChild(n.stateNode));break;case 18:Ge!==null&&(_t?(e=Ge,n=n.stateNode,e.nodeType===8?fi(e.parentNode,n):e.nodeType===1&&fi(e,n),_r(e)):fi(Ge,n.stateNode));break;case 4:s=Ge,l=_t,Ge=n.stateNode.containerInfo,_t=!0,Nn(e,t,n),Ge=s,_t=l;break;case 0:case 11:case 14:case 15:if(!tt&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var u=l,d=u.destroy;u=u.tag,d!==void 0&&((u&2)!==0||(u&4)!==0)&&qi(n,t,d),l=l.next}while(l!==s)}Nn(e,t,n);break;case 1:if(!tt&&(fr(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(x){Me(n,t,x)}Nn(e,t,n);break;case 21:Nn(e,t,n);break;case 22:n.mode&1?(tt=(s=tt)||n.memoizedState!==null,Nn(e,t,n),tt=s):Nn(e,t,n);break;default:Nn(e,t,n)}}function tc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Um),t.forEach(function(s){var l=Hm.bind(null,e,s);n.has(s)||(n.add(s),s.then(l,l))})}}function Lt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];try{var u=e,d=t,x=d;e:for(;x!==null;){switch(x.tag){case 5:Ge=x.stateNode,_t=!1;break e;case 3:Ge=x.stateNode.containerInfo,_t=!0;break e;case 4:Ge=x.stateNode.containerInfo,_t=!0;break e}x=x.return}if(Ge===null)throw Error(o(160));ec(u,d,l),Ge=null,_t=!1;var b=l.alternate;b!==null&&(b.return=null),l.return=null}catch(_){Me(l,t,_)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)nc(t,e),t=t.sibling}function nc(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lt(t,e),Vt(e),s&4){try{Zr(3,e,e.return),tl(3,e)}catch(te){Me(e,e.return,te)}try{Zr(5,e,e.return)}catch(te){Me(e,e.return,te)}}break;case 1:Lt(t,e),Vt(e),s&512&&n!==null&&fr(n,n.return);break;case 5:if(Lt(t,e),Vt(e),s&512&&n!==null&&fr(n,n.return),e.flags&32){var l=e.stateNode;try{kt(l,"")}catch(te){Me(e,e.return,te)}}if(s&4&&(l=e.stateNode,l!=null)){var u=e.memoizedProps,d=n!==null?n.memoizedProps:u,x=e.type,b=e.updateQueue;if(e.updateQueue=null,b!==null)try{x==="input"&&u.type==="radio"&&u.name!=null&&fe(l,u),_l(x,d);var _=_l(x,u);for(d=0;d<b.length;d+=2){var $=b[d],V=b[d+1];$==="style"?Ta(l,V):$==="dangerouslySetInnerHTML"?be(l,V):$==="children"?kt(l,V):T(l,$,V,_)}switch(x){case"input":Ee(l,u);break;case"textarea":He(l,u);break;case"select":var F=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!u.multiple;var J=u.value;J!=null?U(l,!!u.multiple,J,!1):F!==!!u.multiple&&(u.defaultValue!=null?U(l,!!u.multiple,u.defaultValue,!0):U(l,!!u.multiple,u.multiple?[]:"",!1))}l[Br]=u}catch(te){Me(e,e.return,te)}}break;case 6:if(Lt(t,e),Vt(e),s&4){if(e.stateNode===null)throw Error(o(162));l=e.stateNode,u=e.memoizedProps;try{l.nodeValue=u}catch(te){Me(e,e.return,te)}}break;case 3:if(Lt(t,e),Vt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{_r(t.containerInfo)}catch(te){Me(e,e.return,te)}break;case 4:Lt(t,e),Vt(e);break;case 13:Lt(t,e),Vt(e),l=e.child,l.flags&8192&&(u=l.memoizedState!==null,l.stateNode.isHidden=u,!u||l.alternate!==null&&l.alternate.memoizedState!==null||(ra=Te())),s&4&&tc(e);break;case 22:if($=n!==null&&n.memoizedState!==null,e.mode&1?(tt=(_=tt)||$,Lt(t,e),tt=_):Lt(t,e),Vt(e),s&8192){if(_=e.memoizedState!==null,(e.stateNode.isHidden=_)&&!$&&(e.mode&1)!==0)for(X=e,$=e.child;$!==null;){for(V=X=$;X!==null;){switch(F=X,J=F.child,F.tag){case 0:case 11:case 14:case 15:Zr(4,F,F.return);break;case 1:fr(F,F.return);var Z=F.stateNode;if(typeof Z.componentWillUnmount=="function"){s=F,n=F.return;try{t=s,Z.props=t.memoizedProps,Z.state=t.memoizedState,Z.componentWillUnmount()}catch(te){Me(s,n,te)}}break;case 5:fr(F,F.return);break;case 22:if(F.memoizedState!==null){lc(V);continue}}J!==null?(J.return=F,X=J):lc(V)}$=$.sibling}e:for($=null,V=e;;){if(V.tag===5){if($===null){$=V;try{l=V.stateNode,_?(u=l.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(x=V.stateNode,b=V.memoizedProps.style,d=b!=null&&b.hasOwnProperty("display")?b.display:null,x.style.display=cs("display",d))}catch(te){Me(e,e.return,te)}}}else if(V.tag===6){if($===null)try{V.stateNode.nodeValue=_?"":V.memoizedProps}catch(te){Me(e,e.return,te)}}else if((V.tag!==22&&V.tag!==23||V.memoizedState===null||V===e)&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===e)break e;for(;V.sibling===null;){if(V.return===null||V.return===e)break e;$===V&&($=null),V=V.return}$===V&&($=null),V.sibling.return=V.return,V=V.sibling}}break;case 19:Lt(t,e),Vt(e),s&4&&tc(e);break;case 21:break;default:Lt(t,e),Vt(e)}}function Vt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Xu(n)){var s=n;break e}n=n.return}throw Error(o(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(kt(l,""),s.flags&=-33);var u=Zu(e);ea(e,u,l);break;case 3:case 4:var d=s.stateNode.containerInfo,x=Zu(e);Zi(e,x,d);break;default:throw Error(o(161))}}catch(b){Me(e,e.return,b)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Tm(e,t,n){X=e,rc(e)}function rc(e,t,n){for(var s=(e.mode&1)!==0;X!==null;){var l=X,u=l.child;if(l.tag===22&&s){var d=l.memoizedState!==null||el;if(!d){var x=l.alternate,b=x!==null&&x.memoizedState!==null||tt;x=el;var _=tt;if(el=d,(tt=b)&&!_)for(X=l;X!==null;)d=X,b=d.child,d.tag===22&&d.memoizedState!==null?ic(l):b!==null?(b.return=d,X=b):ic(l);for(;u!==null;)X=u,rc(u),u=u.sibling;X=l,el=x,tt=_}sc(e)}else(l.subtreeFlags&8772)!==0&&u!==null?(u.return=l,X=u):sc(e)}}function sc(e){for(;X!==null;){var t=X;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:tt||tl(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!tt)if(n===null)s.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:It(t.type,n.memoizedProps);s.componentDidUpdate(l,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&lu(t,u,s);break;case 3:var d=t.updateQueue;if(d!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}lu(t,d,n)}break;case 5:var x=t.stateNode;if(n===null&&t.flags&4){n=x;var b=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&n.focus();break;case"img":b.src&&(n.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var _=t.alternate;if(_!==null){var $=_.memoizedState;if($!==null){var V=$.dehydrated;V!==null&&_r(V)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}tt||t.flags&512&&Xi(t)}catch(F){Me(t,t.return,F)}}if(t===e){X=null;break}if(n=t.sibling,n!==null){n.return=t.return,X=n;break}X=t.return}}function lc(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var n=t.sibling;if(n!==null){n.return=t.return,X=n;break}X=t.return}}function ic(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{tl(4,t)}catch(b){Me(t,n,b)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(b){Me(t,l,b)}}var u=t.return;try{Xi(t)}catch(b){Me(t,u,b)}break;case 5:var d=t.return;try{Xi(t)}catch(b){Me(t,d,b)}}}catch(b){Me(t,t.return,b)}if(t===e){X=null;break}var x=t.sibling;if(x!==null){x.return=t.return,X=x;break}X=t.return}}var Om=Math.ceil,nl=se.ReactCurrentDispatcher,ta=se.ReactCurrentOwner,bt=se.ReactCurrentBatchConfig,we=0,Ye=null,Fe=null,Je=0,ht=0,hr=xn(0),Ve=0,es=null,zn=0,rl=0,na=0,ts=null,ot=null,ra=0,pr=1/0,en=null,sl=!1,sa=null,bn=null,ll=!1,Sn=null,il=0,ns=0,la=null,al=-1,ol=0;function st(){return(we&6)!==0?Te():al!==-1?al:al=Te()}function Cn(e){return(e.mode&1)===0?1:(we&2)!==0&&Je!==0?Je&-Je:jm.transition!==null?(ol===0&&(ol=Xa()),ol):(e=Ce,e!==0||(e=window.event,e=e===void 0?16:ao(e.type)),e)}function Dt(e,t,n,s){if(50<ns)throw ns=0,la=null,Error(o(185));kr(e,n,s),((we&2)===0||e!==Ye)&&(e===Ye&&((we&2)===0&&(rl|=n),Ve===4&&kn(e,Je)),ut(e,s),n===1&&we===0&&(t.mode&1)===0&&(pr=Te()+500,Ms&&yn()))}function ut(e,t){var n=e.callbackNode;jd(e,t);var s=xs(e,e===Ye?Je:0);if(s===0)n!==null&&Ga(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Ga(n),t===1)e.tag===0?wm(oc.bind(null,e)):Yo(oc.bind(null,e)),gm(function(){(we&6)===0&&yn()}),n=null;else{switch(Za(s)){case 1:n=Ol;break;case 4:n=Ja;break;case 16:n=fs;break;case 536870912:n=qa;break;default:n=fs}n=gc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(al=-1,ol=0,(we&6)!==0)throw Error(o(327));var n=e.callbackNode;if(gr()&&e.callbackNode!==n)return null;var s=xs(e,e===Ye?Je:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=ul(e,s);else{t=s;var l=we;we|=2;var u=cc();(Ye!==e||Je!==t)&&(en=null,pr=Te()+500,$n(e,t));do try{$m();break}catch(x){uc(e,x)}while(!0);bi(),nl.current=u,we=l,Fe!==null?t=0:(Ye=null,Je=0,t=Ve)}if(t!==0){if(t===2&&(l=zl(e),l!==0&&(s=l,t=ia(e,l))),t===1)throw n=es,$n(e,0),kn(e,s),ut(e,Te()),n;if(t===6)kn(e,s);else{if(l=e.current.alternate,(s&30)===0&&!zm(l)&&(t=ul(e,s),t===2&&(u=zl(e),u!==0&&(s=u,t=ia(e,u))),t===1))throw n=es,$n(e,0),kn(e,s),ut(e,Te()),n;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(o(345));case 2:Bn(e,ot,en);break;case 3:if(kn(e,s),(s&130023424)===s&&(t=ra+500-Te(),10<t)){if(xs(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){st(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=mi(Bn.bind(null,e,ot,en),t);break}Bn(e,ot,en);break;case 4:if(kn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var d=31-Pt(s);u=1<<d,d=t[d],d>l&&(l=d),s&=~u}if(s=l,s=Te()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Om(s/1960))-s,10<s){e.timeoutHandle=mi(Bn.bind(null,e,ot,en),s);break}Bn(e,ot,en);break;case 5:Bn(e,ot,en);break;default:throw Error(o(329))}}}return ut(e,Te()),e.callbackNode===n?ac.bind(null,e):null}function ia(e,t){var n=ts;return e.current.memoizedState.isDehydrated&&($n(e,t).flags|=256),e=ul(e,t),e!==2&&(t=ot,ot=n,t!==null&&aa(t)),e}function aa(e){ot===null?ot=e:ot.push.apply(ot,e)}function zm(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var l=n[s],u=l.getSnapshot;l=l.value;try{if(!Et(u(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kn(e,t){for(t&=~na,t&=~rl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Pt(t),s=1<<n;e[n]=-1,t&=~s}}function oc(e){if((we&6)!==0)throw Error(o(327));gr();var t=xs(e,0);if((t&1)===0)return ut(e,Te()),null;var n=ul(e,t);if(e.tag!==0&&n===2){var s=zl(e);s!==0&&(t=s,n=ia(e,s))}if(n===1)throw n=es,$n(e,0),kn(e,t),ut(e,Te()),n;if(n===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bn(e,ot,en),ut(e,Te()),null}function oa(e,t){var n=we;we|=1;try{return e(t)}finally{we=n,we===0&&(pr=Te()+500,Ms&&yn())}}function Fn(e){Sn!==null&&Sn.tag===0&&(we&6)===0&&gr();var t=we;we|=1;var n=bt.transition,s=Ce;try{if(bt.transition=null,Ce=1,e)return e()}finally{Ce=s,bt.transition=n,we=t,(we&6)===0&&yn()}}function ua(){ht=hr.current,_e(hr)}function $n(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,pm(n)),Fe!==null)for(n=Fe.return;n!==null;){var s=n;switch(vi(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&As();break;case 3:dr(),_e(lt),_e(Xe),_i();break;case 5:Ri(s);break;case 4:dr();break;case 13:_e(Ae);break;case 19:_e(Ae);break;case 10:Si(s.type._context);break;case 22:case 23:ua()}n=n.return}if(Ye=e,Fe=e=Pn(e.current,null),Je=ht=t,Ve=0,es=null,na=rl=zn=0,ot=ts=null,Mn!==null){for(t=0;t<Mn.length;t++)if(n=Mn[t],s=n.interleaved,s!==null){n.interleaved=null;var l=s.next,u=n.pending;if(u!==null){var d=u.next;u.next=l,s.next=d}n.pending=s}Mn=null}return e}function uc(e,t){do{var n=Fe;try{if(bi(),Qs.current=Js,Ys){for(var s=Ue.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}Ys=!1}if(On=0,Qe=Be=Ue=null,Kr=!1,Gr=0,ta.current=null,n===null||n.return===null){Ve=1,es=t,Fe=null;break}e:{var u=e,d=n.return,x=n,b=t;if(t=Je,x.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var _=b,$=x,V=$.tag;if(($.mode&1)===0&&(V===0||V===11||V===15)){var F=$.alternate;F?($.updateQueue=F.updateQueue,$.memoizedState=F.memoizedState,$.lanes=F.lanes):($.updateQueue=null,$.memoizedState=null)}var J=Au(d);if(J!==null){J.flags&=-257,Uu(J,d,x,u,t),J.mode&1&&Du(u,_,t),t=J,b=_;var Z=t.updateQueue;if(Z===null){var te=new Set;te.add(b),t.updateQueue=te}else Z.add(b);break e}else{if((t&1)===0){Du(u,_,t),ca();break e}b=Error(o(426))}}else if(Le&&x.mode&1){var Oe=Au(d);if(Oe!==null){(Oe.flags&65536)===0&&(Oe.flags|=256),Uu(Oe,d,x,u,t),ji(mr(b,x));break e}}u=b=mr(b,x),Ve!==4&&(Ve=2),ts===null?ts=[u]:ts.push(u),u=d;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var E=_u(u,b,t);su(u,E);break e;case 1:x=b;var P=u.type,R=u.stateNode;if((u.flags&128)===0&&(typeof P.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(bn===null||!bn.has(R)))){u.flags|=65536,t&=-t,u.lanes|=t;var H=Lu(u,x,t);su(u,H);break e}}u=u.return}while(u!==null)}mc(n)}catch(ne){t=ne,Fe===n&&n!==null&&(Fe=n=n.return);continue}break}while(!0)}function cc(){var e=nl.current;return nl.current=Js,e===null?Js:e}function ca(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),Ye===null||(zn&268435455)===0&&(rl&268435455)===0||kn(Ye,Je)}function ul(e,t){var n=we;we|=2;var s=cc();(Ye!==e||Je!==t)&&(en=null,$n(e,t));do try{Fm();break}catch(l){uc(e,l)}while(!0);if(bi(),we=n,nl.current=s,Fe!==null)throw Error(o(261));return Ye=null,Je=0,Ve}function Fm(){for(;Fe!==null;)dc(Fe)}function $m(){for(;Fe!==null&&!md();)dc(Fe)}function dc(e){var t=pc(e.alternate,e,ht);e.memoizedProps=e.pendingProps,t===null?mc(e):Fe=t,ta.current=null}function mc(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Dm(n,t,ht),n!==null){Fe=n;return}}else{if(n=Am(n,t),n!==null){n.flags&=32767,Fe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ve=6,Fe=null;return}}if(t=t.sibling,t!==null){Fe=t;return}Fe=t=e}while(t!==null);Ve===0&&(Ve=5)}function Bn(e,t,n){var s=Ce,l=bt.transition;try{bt.transition=null,Ce=1,Bm(e,t,n,s)}finally{bt.transition=l,Ce=s}return null}function Bm(e,t,n,s){do gr();while(Sn!==null);if((we&6)!==0)throw Error(o(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var u=n.lanes|n.childLanes;if(Nd(e,u),e===Ye&&(Fe=Ye=null,Je=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||ll||(ll=!0,gc(fs,function(){return gr(),null})),u=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||u){u=bt.transition,bt.transition=null;var d=Ce;Ce=1;var x=we;we|=4,ta.current=null,Mm(e,n),nc(n,e),om(ci),ws=!!ui,ci=ui=null,e.current=n,Tm(n),fd(),we=x,Ce=d,bt.transition=u}else e.current=n;if(ll&&(ll=!1,Sn=e,il=l),u=e.pendingLanes,u===0&&(bn=null),gd(n.stateNode),ut(e,Te()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],s(l.value,{componentStack:l.stack,digest:l.digest});if(sl)throw sl=!1,e=sa,sa=null,e;return(il&1)!==0&&e.tag!==0&&gr(),u=e.pendingLanes,(u&1)!==0?e===la?ns++:(ns=0,la=e):ns=0,yn(),null}function gr(){if(Sn!==null){var e=Za(il),t=bt.transition,n=Ce;try{if(bt.transition=null,Ce=16>e?16:e,Sn===null)var s=!1;else{if(e=Sn,Sn=null,il=0,(we&6)!==0)throw Error(o(331));var l=we;for(we|=4,X=e.current;X!==null;){var u=X,d=u.child;if((X.flags&16)!==0){var x=u.deletions;if(x!==null){for(var b=0;b<x.length;b++){var _=x[b];for(X=_;X!==null;){var $=X;switch($.tag){case 0:case 11:case 15:Zr(8,$,u)}var V=$.child;if(V!==null)V.return=$,X=V;else for(;X!==null;){$=X;var F=$.sibling,J=$.return;if(qu($),$===_){X=null;break}if(F!==null){F.return=J,X=F;break}X=J}}}var Z=u.alternate;if(Z!==null){var te=Z.child;if(te!==null){Z.child=null;do{var Oe=te.sibling;te.sibling=null,te=Oe}while(te!==null)}}X=u}}if((u.subtreeFlags&2064)!==0&&d!==null)d.return=u,X=d;else e:for(;X!==null;){if(u=X,(u.flags&2048)!==0)switch(u.tag){case 0:case 11:case 15:Zr(9,u,u.return)}var E=u.sibling;if(E!==null){E.return=u.return,X=E;break e}X=u.return}}var P=e.current;for(X=P;X!==null;){d=X;var R=d.child;if((d.subtreeFlags&2064)!==0&&R!==null)R.return=d,X=R;else e:for(d=P;X!==null;){if(x=X,(x.flags&2048)!==0)try{switch(x.tag){case 0:case 11:case 15:tl(9,x)}}catch(ne){Me(x,x.return,ne)}if(x===d){X=null;break e}var H=x.sibling;if(H!==null){H.return=x.return,X=H;break e}X=x.return}}if(we=l,yn(),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(hs,e)}catch{}s=!0}return s}finally{Ce=n,bt.transition=t}}return!1}function fc(e,t,n){t=mr(n,t),t=_u(e,t,1),e=jn(e,t,1),t=st(),e!==null&&(kr(e,1,t),ut(e,t))}function Me(e,t,n){if(e.tag===3)fc(e,e,n);else for(;t!==null;){if(t.tag===3){fc(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(bn===null||!bn.has(s))){e=mr(n,e),e=Lu(t,e,1),t=jn(t,e,1),e=st(),t!==null&&(kr(t,1,e),ut(t,e));break}}t=t.return}}function Vm(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=st(),e.pingedLanes|=e.suspendedLanes&n,Ye===e&&(Je&n)===n&&(Ve===4||Ve===3&&(Je&130023424)===Je&&500>Te()-ra?$n(e,0):na|=n),ut(e,t)}function hc(e,t){t===0&&((e.mode&1)===0?t=1:(t=gs,gs<<=1,(gs&130023424)===0&&(gs=4194304)));var n=st();e=qt(e,t),e!==null&&(kr(e,t,n),ut(e,n))}function Wm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),hc(e,n)}function Hm(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(o(314))}s!==null&&s.delete(t),hc(e,n)}var pc;pc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||lt.current)at=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return at=!1,Lm(e,t,n);at=(e.flags&131072)!==0}else at=!1,Le&&(t.flags&1048576)!==0&&Ko(t,Os,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Zs(e,t),e=t.pendingProps;var l=sr(t,Xe.current);cr(t,n),l=Ai(null,t,s,e,l,n);var u=Ui();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,it(s)?(u=!0,Us(t)):u=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Pi(t),l.updater=qs,t.stateNode=l,l._reactInternals=t,$i(t,s,e,n),t=Hi(null,t,s,!0,u,n)):(t.tag=0,Le&&u&&xi(t),rt(null,t,l,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Zs(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=Ym(s),e=It(s,e),l){case 0:t=Wi(null,t,s,e,n);break e;case 1:t=$u(null,t,s,e,n);break e;case 11:t=Mu(null,t,s,e,n);break e;case 14:t=Tu(null,t,s,It(s.type,e),n);break e}throw Error(o(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:It(s,l),Wi(e,t,s,l,n);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:It(s,l),$u(e,t,s,l,n);case 3:e:{if(Bu(t),e===null)throw Error(o(387));s=t.pendingProps,u=t.memoizedState,l=u.element,ru(e,t),Ws(t,s,null,n);var d=t.memoizedState;if(s=d.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){l=mr(Error(o(423)),t),t=Vu(e,t,s,n,l);break e}else if(s!==l){l=mr(Error(o(424)),t),t=Vu(e,t,s,n,l);break e}else for(ft=gn(t.stateNode.containerInfo.firstChild),mt=t,Le=!0,Rt=null,n=tu(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ar(),s===l){t=Zt(e,t,n);break e}rt(e,t,s,n)}t=t.child}return t;case 5:return iu(t),e===null&&wi(t),s=t.type,l=t.pendingProps,u=e!==null?e.memoizedProps:null,d=l.children,di(s,l)?d=null:u!==null&&di(s,u)&&(t.flags|=32),Fu(e,t),rt(e,t,d,n),t.child;case 6:return e===null&&wi(t),null;case 13:return Wu(e,t,n);case 4:return Ei(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=or(t,null,s,n):rt(e,t,s,n),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:It(s,l),Mu(e,t,s,l,n);case 7:return rt(e,t,t.pendingProps,n),t.child;case 8:return rt(e,t,t.pendingProps.children,n),t.child;case 12:return rt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,u=t.memoizedProps,d=l.value,Re($s,s._currentValue),s._currentValue=d,u!==null)if(Et(u.value,d)){if(u.children===l.children&&!lt.current){t=Zt(e,t,n);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var x=u.dependencies;if(x!==null){d=u.child;for(var b=x.firstContext;b!==null;){if(b.context===s){if(u.tag===1){b=Xt(-1,n&-n),b.tag=2;var _=u.updateQueue;if(_!==null){_=_.shared;var $=_.pending;$===null?b.next=b:(b.next=$.next,$.next=b),_.pending=b}}u.lanes|=n,b=u.alternate,b!==null&&(b.lanes|=n),Ci(u.return,n,t),x.lanes|=n;break}b=b.next}}else if(u.tag===10)d=u.type===t.type?null:u.child;else if(u.tag===18){if(d=u.return,d===null)throw Error(o(341));d.lanes|=n,x=d.alternate,x!==null&&(x.lanes|=n),Ci(d,n,t),d=u.sibling}else d=u.child;if(d!==null)d.return=u;else for(d=u;d!==null;){if(d===t){d=null;break}if(u=d.sibling,u!==null){u.return=d.return,d=u;break}d=d.return}u=d}rt(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,cr(t,n),l=jt(l),s=s(l),t.flags|=1,rt(e,t,s,n),t.child;case 14:return s=t.type,l=It(s,t.pendingProps),l=It(s.type,l),Tu(e,t,s,l,n);case 15:return Ou(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:It(s,l),Zs(e,t),t.tag=1,it(s)?(e=!0,Us(t)):e=!1,cr(t,n),Ru(t,s,l),$i(t,s,l,n),Hi(null,t,s,!0,e,n);case 19:return Qu(e,t,n);case 22:return zu(e,t,n)}throw Error(o(156,t.tag))};function gc(e,t){return Ka(e,t)}function Qm(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(e,t,n,s){return new Qm(e,t,n,s)}function da(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ym(e){if(typeof e=="function")return da(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Se)return 11;if(e===ae)return 14}return 2}function Pn(e,t){var n=e.alternate;return n===null?(n=St(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function cl(e,t,n,s,l,u){var d=2;if(s=e,typeof e=="function")da(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case me:return Vn(n.children,l,u,t);case xe:d=8,l|=8;break;case ye:return e=St(12,n,t,l|2),e.elementType=ye,e.lanes=u,e;case ke:return e=St(13,n,t,l),e.elementType=ke,e.lanes=u,e;case Pe:return e=St(19,n,t,l),e.elementType=Pe,e.lanes=u,e;case ue:return dl(n,l,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pe:d=10;break e;case ze:d=9;break e;case Se:d=11;break e;case ae:d=14;break e;case ee:d=16,s=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return t=St(d,n,t,l),t.elementType=e,t.type=s,t.lanes=u,t}function Vn(e,t,n,s){return e=St(7,e,s,t),e.lanes=n,e}function dl(e,t,n,s){return e=St(22,e,s,t),e.elementType=ue,e.lanes=n,e.stateNode={isHidden:!1},e}function ma(e,t,n){return e=St(6,e,null,t),e.lanes=n,e}function fa(e,t,n){return t=St(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Km(e,t,n,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fl(0),this.expirationTimes=Fl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fl(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function ha(e,t,n,s,l,u,d,x,b){return e=new Km(e,t,n,x,b),t===1?(t=1,u===!0&&(t|=8)):t=0,u=St(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pi(u),e}function Gm(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oe,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function xc(e){if(!e)return vn;e=e._reactInternals;e:{if(_n(e)!==e||e.tag!==1)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(it(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(o(171))}if(e.tag===1){var n=e.type;if(it(n))return Ho(e,n,t)}return t}function vc(e,t,n,s,l,u,d,x,b){return e=ha(n,s,!0,e,l,u,d,x,b),e.context=xc(null),n=e.current,s=st(),l=Cn(n),u=Xt(s,l),u.callback=t??null,jn(n,u,l),e.current.lanes=l,kr(e,l,s),ut(e,s),e}function ml(e,t,n,s){var l=t.current,u=st(),d=Cn(l);return n=xc(n),t.context===null?t.context=n:t.pendingContext=n,t=Xt(u,d),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=jn(l,t,d),e!==null&&(Dt(e,l,d,u),Vs(e,l,d)),d}function fl(e){return e=e.current,e.child?(e.child.tag===5,e.child.stateNode):null}function yc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function pa(e,t){yc(e,t),(e=e.alternate)&&yc(e,t)}function Jm(){return null}var wc=typeof reportError=="function"?reportError:function(e){console.error(e)};function ga(e){this._internalRoot=e}hl.prototype.render=ga.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));ml(e,t,null,null)},hl.prototype.unmount=ga.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fn(function(){ml(null,e,null,null)}),t[Yt]=null}};function hl(e){this._internalRoot=e}hl.prototype.unstable_scheduleHydration=function(e){if(e){var t=no();e={blockedOn:null,target:e,priority:t};for(var n=0;n<fn.length&&t!==0&&t<fn[n].priority;n++);fn.splice(n,0,e),n===0&&lo(e)}};function xa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jc(){}function qm(e,t,n,s,l){if(l){if(typeof s=="function"){var u=s;s=function(){var _=fl(d);u.call(_)}}var d=vc(t,s,e,0,null,!1,!1,"",jc);return e._reactRootContainer=d,e[Yt]=d.current,Fr(e.nodeType===8?e.parentNode:e),Fn(),d}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var x=s;s=function(){var _=fl(b);x.call(_)}}var b=ha(e,0,!1,null,null,!1,!1,"",jc);return e._reactRootContainer=b,e[Yt]=b.current,Fr(e.nodeType===8?e.parentNode:e),Fn(function(){ml(t,b,n,s)}),b}function gl(e,t,n,s,l){var u=n._reactRootContainer;if(u){var d=u;if(typeof l=="function"){var x=l;l=function(){var b=fl(d);x.call(b)}}ml(t,d,e,l)}else d=qm(n,t,e,l,s);return fl(d)}eo=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Cr(t.pendingLanes);n!==0&&($l(t,n|1),ut(t,Te()),(we&6)===0&&(pr=Te()+500,yn()))}break;case 13:Fn(function(){var s=qt(e,1);if(s!==null){var l=st();Dt(s,e,1,l)}}),pa(e,1)}},Bl=function(e){if(e.tag===13){var t=qt(e,134217728);if(t!==null){var n=st();Dt(t,e,134217728,n)}pa(e,134217728)}},to=function(e){if(e.tag===13){var t=Cn(e),n=qt(e,t);if(n!==null){var s=st();Dt(n,e,t,s)}pa(e,t)}},no=function(){return Ce},ro=function(e,t){var n=Ce;try{return Ce=e,t()}finally{Ce=n}},Al=function(e,t,n){switch(t){case"input":if(Ee(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var l=Ds(s);if(!l)throw Error(o(90));ln(s),Ee(s,l)}}}break;case"textarea":He(e,n);break;case"select":t=n.value,t!=null&&U(e,!!n.multiple,t,!1)}},$a=oa,Ba=Fn;var Xm={usingClientEntryPoint:!1,Events:[Vr,nr,Ds,za,Fa,oa]},rs={findFiberByHostInstance:Ln,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zm={bundleType:rs.bundleType,version:rs.version,rendererPackageName:rs.rendererPackageName,rendererConfig:rs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:se.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Qa(e),e===null?null:e.stateNode},findFiberByHostInstance:rs.findFiberByHostInstance||Jm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xl.isDisabled&&xl.supportsFiber)try{hs=xl.inject(Zm),zt=xl}catch{}}return ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xm,ct.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xa(t))throw Error(o(200));return Gm(e,t,null,n)},ct.createRoot=function(e,t){if(!xa(e))throw Error(o(299));var n=!1,s="",l=wc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=ha(e,1,!1,null,null,n,!1,s,l),e[Yt]=t.current,Fr(e.nodeType===8?e.parentNode:e),new ga(t)},ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=Qa(t),e=e===null?null:e.stateNode,e},ct.flushSync=function(e){return Fn(e)},ct.hydrate=function(e,t,n){if(!pl(t))throw Error(o(200));return gl(null,e,t,!0,n)},ct.hydrateRoot=function(e,t,n){if(!xa(e))throw Error(o(405));var s=n!=null&&n.hydratedSources||null,l=!1,u="",d=wc;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),t=vc(t,null,e,1,n??null,l,!1,u,d),e[Yt]=t.current,Fr(e),s)for(e=0;e<s.length;e++)n=s[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new hl(t)},ct.render=function(e,t,n){if(!pl(t))throw Error(o(200));return gl(null,e,t,!1,n)},ct.unmountComponentAtNode=function(e){if(!pl(e))throw Error(o(40));return e._reactRootContainer?(Fn(function(){gl(null,null,e,!1,function(){e._reactRootContainer=null,e[Yt]=null})}),!0):!1},ct.unstable_batchedUpdates=oa,ct.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!pl(n))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return gl(e,t,n,!1,s)},ct.version="18.3.1-next-f1338f8080-20240426",ct}var Uc;function Fh(){if(Uc)return ba.exports;Uc=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(a){console.error(a)}}return i(),ba.exports=zh(),ba.exports}var yl={},Mc;function $h(){if(Mc)return yl;Mc=1;var i=Fh();return yl.createRoot=i.createRoot,yl.hydrateRoot=i.hydrateRoot,yl}var Bh=$h();class us{constructor(a,o,c,f,m,h={}){if(this.constructor===us)throw new Error("Cannot instantiate abstract class User directly");this.userId=a,this.username=o,this.password=c,this.email=f,this.role=m,this.name=h.name||o,this.schoolName=h.schoolName||"",this.phone=h.phone||"",this.dob=h.dob||null,this.profileImage=h.profileImage||null,this.createdAt=h.createdAt||new Date}login(){throw new Error("login() method must be implemented by subclass")}logout(){return{success:!0,message:`${this.role} logged out successfully`,userId:this.userId}}updateProfile(a){return Object.keys(a).forEach(o=>{o!=="userId"&&o!=="role"&&this.hasOwnProperty(o)&&(this[o]=a[o])}),this.toJSON()}getPermissions(){throw new Error("getPermissions() method must be implemented by subclass")}validate(){const a=[];return(!this.username||this.username.trim()==="")&&a.push("Username is required"),(!this.email||!this.isValidEmail(this.email))&&a.push("Valid email is required"),(!this.password||this.password.length<6)&&a.push("Password must be at least 6 characters"),{isValid:a.length===0,errors:a}}isValidEmail(a){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)}toJSON(){return{userId:this.userId,username:this.username,email:this.email,role:this.role,name:this.name,schoolName:this.schoolName,phone:this.phone,dob:this.dob,profileImage:this.profileImage,createdAt:this.createdAt}}getDisplayName(){return this.name||this.username}}class nd extends us{constructor(a,o,c,f,m={}){super(a,o,c,f,"admin",m),this.managedUsers=[],this.systemConfig={}}login(){return{success:!0,role:this.role,user:this.toJSON(),redirectTo:"/admin",permissions:this.getPermissions(),message:`Administrator ${this.username} logged in successfully`}}getPermissions(){return["manage_users","create_user","update_user","delete_user","manage_data","view_all_data","configure_system","view_reports","manage_schools","manage_classes","manage_assignments","full_access"]}manageUsers(a,o=null){return this.getPermissions().includes("manage_users")?{success:!0,action:a,performedBy:this.userId,userData:o,timestamp:new Date}:{success:!1,message:"Insufficient permissions"}}manageData(a,o,c=null){return this.getPermissions().includes("manage_data")?{success:!0,dataType:a,operation:o,data:c,performedBy:this.userId,timestamp:new Date}:{success:!1,message:"Insufficient permissions"}}configureSystem(a,o){return this.getPermissions().includes("configure_system")?(this.systemConfig[a]=o,{success:!0,configKey:a,configValue:o,performedBy:this.userId,timestamp:new Date}):{success:!1,message:"Insufficient permissions"}}viewReports(a){return this.getPermissions().includes("view_reports")?{success:!0,reportType:a,requestedBy:this.userId,timestamp:new Date}:{success:!1,message:"Insufficient permissions"}}toJSON(){return{...super.toJSON(),managedUsersCount:this.managedUsers.length,hasSystemAccess:!0}}}class rd extends us{constructor(a,o,c,f,m={}){super(a,o,c,f,"teacher",m),this.assignedClasses=[],this.assignments=[],this.subject=m.subject||"",this.department=m.department||""}login(){return{success:!0,role:this.role,user:this.toJSON(),redirectTo:"/teacher",permissions:this.getPermissions(),message:`Teacher ${this.username} logged in successfully`}}getPermissions(){return["view_assigned_classes","manage_assignments","create_assignment","update_assignment","delete_assignment","view_students","submit_grades","update_records","view_reports","manage_class_content"]}viewData(a){return!this.getPermissions().includes("view_assigned_classes")&&!this.getPermissions().includes("view_students")?{success:!1,message:"Insufficient permissions"}:{success:!0,dataType:a,teacherId:this.userId,assignedClasses:this.assignedClasses,timestamp:new Date}}updateData(a,o){return this.getPermissions().includes("update_records")?{success:!0,recordType:a,recordData:o,updatedBy:this.userId,timestamp:new Date}:{success:!1,message:"Insufficient permissions"}}submitData(a,o){return a==="assignment"&&!this.getPermissions().includes("create_assignment")?{success:!1,message:"Insufficient permissions"}:a==="grades"&&!this.getPermissions().includes("submit_grades")?{success:!1,message:"Insufficient permissions"}:{success:!0,submissionType:a,submissionData:o,submittedBy:this.userId,timestamp:new Date}}manageAssignments(a,o){const c=`${a}_assignment`;return!this.getPermissions().includes(c)&&!this.getPermissions().includes("manage_assignments")?{success:!1,message:"Insufficient permissions"}:(a==="create"&&this.assignments.push(o),{success:!0,action:a,assignmentData:o,teacherId:this.userId,timestamp:new Date})}viewReports(a){return this.getPermissions().includes("view_reports")?{success:!0,reportType:a,teacherId:this.userId,timestamp:new Date}:{success:!1,message:"Insufficient permissions"}}assignClass(a){this.assignedClasses.push(a)}toJSON(){return{...super.toJSON(),subject:this.subject,department:this.department,assignedClassesCount:this.assignedClasses.length,assignmentsCount:this.assignments.length}}}class sd extends us{constructor(a,o,c,f,m={}){super(a,o,c,f,"student",m),this.enrolledClasses=[],this.submissions=[],this.grades={},this.studentId=m.studentId||a,this.grade=m.grade||"",this.guardianInfo=m.guardianInfo||{}}login(){return{success:!0,role:this.role,user:this.toJSON(),redirectTo:"/student",permissions:this.getPermissions(),message:`Student ${this.username} logged in successfully`}}getPermissions(){return["view_profile","view_enrolled_classes","submit_assignments","view_grades","view_status","view_announcements","update_profile","view_schedule"]}viewProfile(){return this.getPermissions().includes("view_profile")?{success:!0,profile:this.toJSON(),timestamp:new Date}:{success:!1,message:"Insufficient permissions"}}submitForm(a,o){if(!this.getPermissions().includes("submit_assignments"))return{success:!1,message:"Insufficient permissions"};const c={id:Date.now(),type:a,data:o,studentId:this.userId,submittedAt:new Date,status:"submitted"};return this.submissions.push(c),{success:!0,submission:c,message:"Submission successful",timestamp:new Date}}viewStatus(a){if(!this.getPermissions().includes("view_status")&&!this.getPermissions().includes("view_grades"))return{success:!1,message:"Insufficient permissions"};let o={};switch(a){case"grades":o=this.grades;break;case"submissions":o=this.submissions;break;case"enrollment":o={enrolledClasses:this.enrolledClasses,totalClasses:this.enrolledClasses.length};break;default:o={grades:this.grades,submissions:this.submissions.length,enrolledClasses:this.enrolledClasses.length}}return{success:!0,statusType:a,statusData:o,studentId:this.userId,timestamp:new Date}}viewClasses(){return this.getPermissions().includes("view_enrolled_classes")?{success:!0,classes:this.enrolledClasses,totalClasses:this.enrolledClasses.length,timestamp:new Date}:{success:!1,message:"Insufficient permissions"}}enrollInClass(a){this.enrolledClasses.find(o=>o.id===a.id)||this.enrolledClasses.push(a)}addGrade(a,o){this.grades[a]=o}getAcademicStatus(){const a=Object.values(this.grades),o=a.length>0?a.reduce((c,f)=>c+f,0)/a.length:0;return{averageGrade:o,totalSubjects:Object.keys(this.grades).length,enrolledClasses:this.enrolledClasses.length,totalSubmissions:this.submissions.length,status:o>=70?"Good Standing":"Needs Attention"}}toJSON(){return{...super.toJSON(),studentId:this.studentId,grade:this.grade,enrolledClassesCount:this.enrolledClasses.length,submissionsCount:this.submissions.length,academicStatus:this.getAcademicStatus()}}}class At{static instance=null;constructor(){if(At.instance)return At.instance;At.instance=this}static getInstance(){return At.instance||(At.instance=new At),At.instance}validateEmail(a){const c=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a);return{isValid:c,field:"email",message:c?"Valid email":"Invalid email format"}}validatePassword(a){const o=[];return(!a||a.length<6)&&o.push("Password must be at least 6 characters"),a&&a.length>0&&!/[A-Za-z]/.test(a)&&o.push("Password must contain at least one letter"),{isValid:o.length===0,field:"password",errors:o,message:o.length===0?"Valid password":o.join(", ")}}validatePasswordMatch(a,o){const c=a===o;return{isValid:c,field:"confirmPassword",message:c?"Passwords match":"Passwords do not match"}}validateUsername(a){const o=[];return(!a||a.trim()==="")&&o.push("Username is required"),a&&a.length<3&&o.push("Username must be at least 3 characters"),a&&!/^[a-zA-Z0-9_]+$/.test(a)&&o.push("Username can only contain letters, numbers, and underscores"),{isValid:o.length===0,field:"username",errors:o,message:o.length===0?"Valid username":o.join(", ")}}validatePhone(a){const o=/^[\d\s\-\+\(\)]+$/,c=!a||a.trim()===""||o.test(a);return{isValid:c,field:"phone",message:c?"Valid phone number":"Invalid phone number format"}}validateDOB(a){if(!a)return{isValid:!0,field:"dob",message:"Date of birth is optional"};const o=new Date(a),f=new Date().getFullYear()-o.getFullYear(),m=o instanceof Date&&!isNaN(o)&&f>=0&&f<=150;return{isValid:m,field:"dob",message:m?"Valid date of birth":"Invalid date of birth"}}validateRole(a){const o=["admin","teacher","student"],c=o.includes(a);return{isValid:c,field:"role",message:c?"Valid role":`Role must be one of: ${o.join(", ")}`}}validateRegistrationData(a){const o=[this.validateUsername(a.username||a.name),this.validateEmail(a.email),this.validatePassword(a.password),this.validateRole(a.role),this.validatePhone(a.phone),this.validateDOB(a.dob)];a.confirmPassword&&o.push(this.validatePasswordMatch(a.password,a.confirmPassword));const c=o.filter(f=>!f.isValid).flatMap(f=>f.errors||[f.message]);return{isValid:c.length===0,errors:c,validations:o,message:c.length===0?"All validations passed":`Validation failed: ${c.join("; ")}`}}validateLoginCredentials(a,o,c){const f=[this.validateEmail(a),this.validatePassword(o),this.validateRole(c)],m=f.filter(h=>!h.isValid).flatMap(h=>h.errors||[h.message]);return{isValid:m.length===0,errors:m,validations:f,message:m.length===0?"Credentials are valid":"Invalid credentials format"}}sanitizeInput(a){return typeof a!="string"?a:a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")}validateAndSanitize(a){const o=this.validateRegistrationData(a);if(!o.isValid)return{success:!1,errors:o.errors,message:o.message};const c={};return Object.keys(a).forEach(f=>{typeof a[f]=="string"?c[f]=this.sanitizeInput(a[f]):c[f]=a[f]}),{success:!0,data:c,message:"Data validated and sanitized successfully"}}}class pt{static instance=null;constructor(){if(pt.instance)return pt.instance;this.storagePrefix="ppc_",this.tables={users:"all_users",currentUser:"user",sessions:"sessions",classes:"classes",assignments:"assignments",posts:"posts"},pt.instance=this}static getInstance(){return pt.instance||(pt.instance=new pt),pt.instance}getKey(a){return`${this.storagePrefix}${a}`}save(a,o){try{const c=this.getKey(a),f=JSON.stringify(o);return localStorage.setItem(c,f),{success:!0,table:a,message:"Data saved successfully",timestamp:new Date}}catch(c){return{success:!1,table:a,error:c.message,message:"Failed to save data"}}}load(a,o=null){try{const c=this.getKey(a),f=localStorage.getItem(c);return f?JSON.parse(f):o}catch(c){return console.error(`Failed to load data from ${a}:`,c),o}}delete(a){try{const o=this.getKey(a);return localStorage.removeItem(o),{success:!0,table:a,message:"Data deleted successfully"}}catch(o){return{success:!1,table:a,error:o.message,message:"Failed to delete data"}}}exists(a){const o=this.getKey(a);return localStorage.getItem(o)!==null}getAllUsers(){return this.load(this.tables.users,[])}saveAllUsers(a){return this.save(this.tables.users,a)}findUserById(a){return this.getAllUsers().find(c=>c.userId===a||c.id===a)||null}findUserByEmail(a){return this.getAllUsers().find(c=>c.email===a)||null}findUsersByRole(a){return this.getAllUsers().filter(c=>c.role===a)}addUser(a){try{const o=this.getAllUsers();if(o.find(h=>h.email===a.email))return{success:!1,message:"User with this email already exists",error:"DUPLICATE_USER"};const f={...a,id:a.userId||Date.now(),userId:a.userId||Date.now(),createdAt:new Date().toISOString()};o.push(f);const m=this.saveAllUsers(o);return m.success?{success:!0,user:f,message:"User added successfully"}:m}catch(o){return{success:!1,error:o.message,message:"Failed to add user"}}}updateUser(a,o){try{const c=this.getAllUsers(),f=c.findIndex(h=>h.userId===a||h.id===a);if(f===-1)return{success:!1,message:"User not found",error:"USER_NOT_FOUND"};c[f]={...c[f],...o};const m=this.saveAllUsers(c);return m.success?{success:!0,user:c[f],message:"User updated successfully"}:m}catch(c){return{success:!1,error:c.message,message:"Failed to update user"}}}deleteUser(a){try{const o=this.getAllUsers(),c=o.filter(m=>m.userId!==a&&m.id!==a);if(c.length===o.length)return{success:!1,message:"User not found",error:"USER_NOT_FOUND"};const f=this.saveAllUsers(c);return f.success?{success:!0,message:"User deleted successfully"}:f}catch(o){return{success:!1,error:o.message,message:"Failed to delete user"}}}saveCurrentUser(a){return this.save(this.tables.currentUser,a)}getCurrentUser(){return this.load(this.tables.currentUser,null)}clearCurrentUser(){return this.delete(this.tables.currentUser)}clearAll(){try{return Object.values(this.tables).forEach(a=>{this.delete(a)}),{success:!0,message:"All data cleared successfully"}}catch(a){return{success:!1,error:a.message,message:"Failed to clear all data"}}}}class Wt{static instance=null;constructor(){if(Wt.instance)return Wt.instance;this.validationService=At.getInstance(),this.databaseManager=pt.getInstance(),this.maxLoginAttempts=5,this.loginAttempts={},Wt.instance=this}static getInstance(){return Wt.instance||(Wt.instance=new Wt),Wt.instance}createUserInstance(a){const{userId:o,username:c,password:f,email:m,role:h}=a;switch(h){case"admin":return new nd(o,c,f,m,a);case"teacher":return new rd(o,c,f,m,a);case"student":return new sd(o,c,f,m,a);default:throw new Error(`Invalid user role: ${h}`)}}authenticate(a,o,c){const f=this.validationService.validateLoginCredentials(a,o,c);if(!f.isValid)return{success:!1,message:"Invalid credentials format",errors:f.errors};const m=this.checkLoginAttempts(a);if(!m.allowed)return{success:!1,message:m.message,locked:!0};const h=this.databaseManager.findUserByEmail(a);if(!h)return this.recordFailedAttempt(a),{success:!1,message:"User not found with this email",error:"USER_NOT_FOUND"};if(h.role!==c)return this.recordFailedAttempt(a),{success:!1,message:`Account is not registered as ${c}`,error:"ROLE_MISMATCH"};if(h.password!==o)return this.recordFailedAttempt(a),{success:!1,message:"Incorrect password",error:"INVALID_PASSWORD"};try{const j=this.createUserInstance(h),v=j.login();return this.clearLoginAttempts(a),{...v,userInstance:j,timestamp:new Date}}catch(j){return{success:!1,message:"Authentication failed",error:j.message}}}checkLoginAttempts(a){const o=this.loginAttempts[a]||{count:0,lastAttempt:null};if(o.count>=this.maxLoginAttempts){const f=Date.now()-o.lastAttempt;if(f<9e5)return{allowed:!1,message:`Too many failed attempts. Try again in ${Math.ceil((9e5-f)/6e4)} minutes.`};this.clearLoginAttempts(a)}return{allowed:!0,remainingAttempts:this.maxLoginAttempts-o.count}}recordFailedAttempt(a){this.loginAttempts[a]||(this.loginAttempts[a]={count:0,lastAttempt:null}),this.loginAttempts[a].count++,this.loginAttempts[a].lastAttempt=Date.now()}clearLoginAttempts(a){delete this.loginAttempts[a]}verifySession(a){if(!a||!a.userId)return{valid:!1,message:"No active session"};const o=this.databaseManager.findUserById(a.userId);return o?{valid:!0,user:o,message:"Session is valid"}:{valid:!1,message:"Session user not found"}}logout(a){if(!a)return{success:!1,message:"No user to logout"};try{return this.createUserInstance(a).logout()}catch(o){return{success:!0,message:"Logged out",error:o.message}}}changePassword(a,o,c){const f=this.databaseManager.findUserById(a);if(!f)return{success:!1,message:"User not found",error:"USER_NOT_FOUND"};if(f.password!==o)return{success:!1,message:"Current password is incorrect",error:"INVALID_PASSWORD"};const m=this.validationService.validatePassword(c);return m.isValid?this.databaseManager.updateUser(a,{password:c}):{success:!1,message:"New password does not meet requirements",errors:m.errors}}resetPassword(a,o){const c=this.databaseManager.findUserByEmail(a);if(!c)return{success:!1,message:"User not found",error:"USER_NOT_FOUND"};const f=this.validationService.validatePassword(o);return f.isValid?this.databaseManager.updateUser(c.userId,{password:o}):{success:!1,message:"Password does not meet requirements",errors:f.errors}}}class Ht{static instance=null;constructor(){if(Ht.instance)return Ht.instance;this.validationService=At.getInstance(),this.databaseManager=pt.getInstance(),Ht.instance=this}static getInstance(){return Ht.instance||(Ht.instance=new Ht),Ht.instance}register(a){const o=this.validationService.validateAndSanitize(a);if(!o.success)return{success:!1,message:"Validation failed",errors:o.errors,step:"validation"};const c=o.data;if(this.databaseManager.findUserByEmail(c.email))return{success:!1,message:"An account with this email already exists",error:"DUPLICATE_EMAIL",step:"duplicate_check"};const m=this.generateUserId();try{const h=this.createUserInstance(m,c),j=h.validate();if(!j.isValid)return{success:!1,message:"User validation failed",errors:j.errors,step:"user_validation"};const v={...h.toJSON(),password:c.password,username:c.username||c.name,createdAt:new Date().toISOString()},p=this.databaseManager.addUser(v);return p.success?{success:!0,message:`${c.role} account created successfully`,user:p.user,userId:m,role:c.role,redirectTo:this.getRedirectPath(c.role),timestamp:new Date}:{success:!1,message:p.message,error:p.error,step:"database_insert"}}catch(h){return{success:!1,message:"Registration failed",error:h.message,step:"user_creation"}}}createUserInstance(a,o){const{username:c,name:f,email:m,password:h,role:j}=o,v=c||f;switch(j){case"admin":return new nd(a,v,h,m,o);case"teacher":return new rd(a,v,h,m,o);case"student":return new sd(a,v,h,m,o);default:throw new Error(`Invalid role: ${j}`)}}generateUserId(){return`user_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}getRedirectPath(a){switch(a){case"admin":return"/admin";case"teacher":return"/teacher";case"student":return"/student";default:return"/"}}validateStep(a,o){switch(a){case 0:return this.validationService.validateRole(o.role);case 1:return{isValid:o.name&&o.name.trim()!=="",message:o.name?"Valid name":"Name is required"};case 2:return{isValid:o.schoolName&&o.schoolName.trim()!=="",message:o.schoolName?"Valid school name":"School name is required"};case 3:return this.validationService.validateEmail(o.email);case 4:const c=this.validationService.validatePassword(o.password);return c.isValid&&o.confirmPassword?this.validationService.validatePasswordMatch(o.password,o.confirmPassword):c;default:return{isValid:!0,message:"Step validation passed"}}}checkEmailAvailability(a){const o=this.validationService.validateEmail(a);if(!o.isValid)return{available:!1,message:o.message,reason:"INVALID_FORMAT"};const c=this.databaseManager.findUserByEmail(a);return{available:!c,message:c?"Email is already registered":"Email is available",reason:c?"DUPLICATE":null}}getProgress(a,o){return Math.round(a/o*100)}getRequirements(){return{username:{minLength:3,pattern:"Letters, numbers, and underscores only",required:!0},email:{pattern:"Valid email format (user@example.com)",required:!0},password:{minLength:6,requirements:["At least 6 characters","At least one letter"],required:!0},role:{options:["admin","teacher","student"],required:!0},phone:{pattern:"Numbers, spaces, dashes, and parentheses",required:!1},schoolName:{required:!0}}}}class nn{static instance=null;constructor(){if(nn.instance)return nn.instance;this.databaseManager=pt.getInstance(),this.authenticationService=null,this.currentSession=null,this.sessionTimeout=3600*1e3,nn.instance=this}static getInstance(){return nn.instance||(nn.instance=new nn),nn.instance}getAuthService(){return this.authenticationService||(this.authenticationService=Wt.getInstance()),this.authenticationService}createSession(a){try{const o={userId:a.userId||a.id,username:a.username,email:a.email,role:a.role,name:a.name,profileImage:a.profileImage,schoolName:a.schoolName,sessionId:this.generateSessionId(),createdAt:new Date().toISOString(),lastActivity:new Date().toISOString(),expiresAt:new Date(Date.now()+this.sessionTimeout).toISOString()},c=this.databaseManager.saveCurrentUser(o);if(c.success){this.currentSession=o;try{localStorage.setItem("ppc_role",o.role)}catch(f){console.error("Failed to save role:",f)}return{success:!0,session:o,message:"Session created successfully"}}return{success:!1,message:"Failed to save session",error:c.error}}catch(o){return{success:!1,message:"Session creation failed",error:o.message}}}getCurrentSession(){if(this.currentSession)return this.isSessionValid(this.currentSession)?this.currentSession:(this.destroySession(),null);const a=this.databaseManager.getCurrentUser();return a&&this.isSessionValid(a)?(this.currentSession=a,a):null}isSessionValid(a){if(!a||!a.expiresAt)return!1;const o=new Date,c=new Date(a.expiresAt);return o<c}updateActivity(){const a=this.getCurrentSession();return a?(a.lastActivity=new Date().toISOString(),a.expiresAt=new Date(Date.now()+this.sessionTimeout).toISOString(),this.databaseManager.saveCurrentUser(a),this.currentSession=a,{success:!0,session:a}):{success:!1,message:"No active session"}}updateSession(a){const o=this.getCurrentSession();if(!o)return{success:!1,message:"No active session"};const c={...o,...a,lastActivity:new Date().toISOString()},f=this.databaseManager.saveCurrentUser(c);return f.success?(this.currentSession=c,this.databaseManager.updateUser(o.userId,a),{success:!0,session:c,message:"Session updated successfully"}):f}destroySession(){try{this.databaseManager.clearCurrentUser();try{localStorage.removeItem("ppc_role")}catch(a){console.error("Failed to remove role:",a)}return this.currentSession=null,{success:!0,message:"Session destroyed successfully"}}catch(a){return{success:!1,message:"Failed to destroy session",error:a.message}}}validateSession(){const a=this.getCurrentSession();if(!a)return{valid:!1,message:"No active session",reason:"NO_SESSION"};if(!this.isSessionValid(a))return this.destroySession(),{valid:!1,message:"Session has expired",reason:"EXPIRED"};const c=this.getAuthService().verifySession(a);return c.valid?(this.updateActivity(),{valid:!0,session:a,message:"Session is valid"}):(this.destroySession(),{valid:!1,message:c.message,reason:"VERIFICATION_FAILED"})}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}getSessionDuration(){return this.sessionTimeout/(60*1e3)}extendSession(a){const o=this.getCurrentSession();if(!o)return{success:!1,message:"No active session"};const c=a*60*1e3,f=new Date(Date.now()+this.sessionTimeout+c);return o.expiresAt=f.toISOString(),this.databaseManager.saveCurrentUser(o),this.currentSession=o,{success:!0,session:o,message:`Session extended by ${a} minutes`,newExpiresAt:f.toISOString()}}getTimeUntilExpiry(){const a=this.getCurrentSession();if(!a)return{expired:!0,minutes:0,message:"No active session"};const o=new Date,f=new Date(a.expiresAt)-o;return f<=0?{expired:!0,minutes:0,message:"Session has expired"}:{expired:!1,minutes:Math.floor(f/(60*1e3)),seconds:Math.floor(f%(60*1e3)/1e3),message:"Session is active"}}}const nt=g.createContext();function Vh({children:i}){const a=Wt.getInstance(),o=nn.getInstance(),c=pt.getInstance(),f=Ht.getInstance(),[m,h]=g.useState(()=>o.getCurrentSession());g.useEffect(()=>{const w=()=>{!o.validateSession().valid&&m&&h(null)};w();const C=setInterval(w,300*1e3);return()=>clearInterval(C)},[m]);const j=(w,C,D)=>{const L=a.authenticate(w,C,D);if(L.success){const T=o.createSession(L.user);if(T.success)return h(T.session),{success:!0,user:T.session,redirectTo:L.redirectTo,permissions:L.permissions,message:L.message}}return L},v=w=>{const C=f.register(w);if(C.success){const D=o.createSession(C.user);if(D.success)return h(D.session),{success:!0,user:D.session,redirectTo:C.redirectTo,message:C.message}}return C},p=w=>{if(!m)return{success:!1,message:"No user logged in"};const C=o.updateSession(w);return C.success?(h(C.session),{success:!0,user:C.session,message:"Profile updated successfully"}):C},S=()=>(m&&a.logout(m),o.destroySession(),h(null),{success:!0,message:"Logged out successfully"}),y=()=>{if(!m||!m.role)return[];try{return a.createUserInstance(m).getPermissions()}catch(w){return console.error("Error getting permissions:",w),[]}},W={user:m,signIn:j,signOut:S,updateUser:p,register:v,getUserPermissions:y,hasPermission:w=>y().includes(w),getUserInstance:()=>{if(!m)return null;try{return a.createUserInstance(m)}catch(w){return console.error("Error creating user instance:",w),null}},getSession:()=>o.getCurrentSession(),extendSession:w=>o.extendSession(w),getSessionTime:()=>o.getTimeUntilExpiry(),services:{auth:a,session:o,database:c,registration:f}};return r.jsx(nt.Provider,{value:W,children:i})}const wr=g.createContext();function Wh({children:i}){const a=pt.getInstance(),o=Ht.getInstance(),c=At.getInstance(),[f,m]=g.useState(()=>a.getAllUsers());g.useEffect(()=>{a.saveAllUsers(f)},[f]);const h=D=>{const L=o.register(D);if(L.success){const T=a.getAllUsers();return m(T),L.user}throw new Error(L.message||"Failed to add user")},j=D=>{const L=a.deleteUser(D);if(L.success){const T=a.getAllUsers();return m(T),L}throw new Error(L.message||"Failed to remove user")},v=(D,L)=>{const T=a.updateUser(D,L);if(T.success){const se=a.getAllUsers();return m(se),T.user}throw new Error(T.message||"Failed to update user")},p=D=>a.findUsersByRole(D),C={allUsers:f,addUser:h,removeUser:j,updateUser:v,refreshUsers:()=>{const D=a.getAllUsers();return m(D),D},getUsersByRole:p,getUserByEmail:D=>a.findUserByEmail(D),getUserById:D=>a.findUserById(D),isEmailAvailable:D=>o.checkEmailAvailability(D),validateUser:D=>c.validateRegistrationData(D),getUserStats:()=>({total:f.length,admins:p("admin").length,teachers:p("teacher").length,students:p("student").length}),services:{database:a,registration:o,validation:c}};return r.jsx(wr.Provider,{value:C,children:i})}function Hh(i,a){a(typeof i=="number"?i+1:1)}function Qh({onNext:i,label:a="Next",disabled:o=!1,className:c=""}){return bl.createElement("button",{type:"button",onClick:i,disabled:o,className:"w-full bg-gray-200 text-gray-800 py-2 rounded hover:bg-gray-300 "+c},a)}function Yh(){const i=In(),{signIn:a,register:o}=g.useContext(nt)||{},{getUserByEmail:c}=g.useContext(wr)||{},[f,m]=g.useState(0),[h,j]=g.useState(""),[v,p]=g.useState(""),[S,y]=g.useState(""),[k,A]=g.useState(""),[W,w]=g.useState(""),[C,D]=g.useState(""),[L,T]=g.useState(""),[se,de]=g.useState(""),[oe,me]=g.useState(""),[xe,ye]=g.useState(""),[pe,ze]=g.useState(!1),[Se,ke]=g.useState(""),[Pe,ae]=g.useState(""),[ee,ue]=g.useState(""),[B,q]=g.useState(!1),I=G=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(G),N=C.length>=6&&C===L,M=h.trim()!==""&&I(k)&&S.trim()!==""&&W.trim()!==""&&N,O=se!==""&&oe!==""&&xe!=="",Q=I(Se)&&Pe.trim()!==""&&ee.trim()!=="";function Y(G){G.preventDefault();const he=`${xe}-${oe.padStart(2,"0")}-${String(se).padStart(2,"0")}`,$e={name:h,username:h,schoolName:v,phone:S,email:k,password:C,confirmPassword:L,dob:he,role:W};if(o){const We=o($e);if(We&&We.success)setTimeout(()=>{i(We.redirectTo)},100);else{const ln=We.errors&&We.errors.length>0?`Registration failed:

${We.errors.join(`
`)}`:We.message||"Registration failed";alert(ln)}}}function re(G){if(G.preventDefault(),a){const he=a(Se,Pe,ee);he&&he.success?setTimeout(()=>{i(he.redirectTo)},100):alert(he.message||"Login failed")}}function ve(){f>0&&m(f-1)}return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-4",children:r.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-2xl w-full max-w-md transform transition-all hover:shadow-3xl",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"inline-block p-4 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full mb-4 shadow-lg",children:r.jsx("span",{className:"text-5xl",children:"ðŸŽ“"})}),r.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent mb-2",children:"Welcome to PPC"}),r.jsx("p",{className:"text-gray-600 text-lg",children:pe?"Sign in to your account":"Create your account"})]}),r.jsx("div",{className:"mb-6 text-center",children:r.jsx("button",{type:"button",className:"text-blue-600 hover:text-blue-700 font-medium transition-colors duration-200 flex items-center justify-center mx-auto gap-2",onClick:()=>{ze(!pe),m(0),q(!1)},children:r.jsx("span",{className:"text-lg",children:pe?"âœ¨ New here? Create an account":"ðŸ‘‹ Already have an account? Sign in"})})}),pe?r.jsxs("form",{onSubmit:re,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Your Role"}),r.jsxs("select",{value:ee,onChange:G=>ue(G.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all outline-none",children:[r.jsx("option",{value:"",children:"Choose your role..."}),r.jsx("option",{value:"admin",children:"ðŸ‘¨â€ðŸ’¼ Admin School"}),r.jsx("option",{value:"teacher",children:"ðŸ‘¨â€ðŸ« Teacher"}),r.jsx("option",{value:"student",children:"ðŸ‘¨â€ðŸŽ“ Student"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),r.jsx("input",{className:`w-full px-4 py-3 border-2 rounded-xl transition-all outline-none ${Se&&!I(Se)?"border-red-400 focus:border-red-500 focus:ring-2 focus:ring-red-200":"border-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200"}`,placeholder:"your.email@example.com",type:"email",value:Se,onChange:G=>ke(G.target.value)}),Se&&!I(Se)&&r.jsx("p",{className:"text-red-500 text-xs mt-1 ml-1",children:"Please enter a valid email"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{className:"w-full px-4 py-3 pr-20 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all outline-none",placeholder:"Enter your password",type:B?"text":"password",value:Pe,onChange:G=>ae(G.target.value)}),r.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 px-3 py-1 text-xs font-bold text-blue-600 hover:text-blue-700 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors",onClick:()=>q(!B),children:B?"ðŸ™ˆ HIDE":"ðŸ‘ï¸ SHOW"})]})]}),r.jsx("button",{type:"submit",disabled:!Q,className:`w-full py-4 rounded-xl font-bold text-lg transition-all transform ${Q?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:from-blue-700 hover:to-indigo-700 hover:scale-[1.02] shadow-lg hover:shadow-xl":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:Q?"ðŸš€ Sign In":"â³ Please fill all fields"})]}):r.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[f===0&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),r.jsx("input",{value:h,onChange:G=>j(G.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all outline-none",placeholder:"e.g., John Doe"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"School Name"}),r.jsx("input",{value:v,onChange:G=>p(G.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all outline-none",placeholder:"e.g., Royal University"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number (Optional)"}),r.jsx("input",{value:S,onChange:G=>y(G.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all outline-none",placeholder:"e.g., +1234567890"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),r.jsx("input",{value:k,onChange:G=>A(G.target.value),className:`w-full px-4 py-3 border-2 rounded-xl transition-all outline-none ${k&&!I(k)?"border-red-400 focus:border-red-500 focus:ring-2 focus:ring-red-200":"border-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200"}`,placeholder:"your.email@example.com",type:"email"}),k&&!I(k)&&r.jsx("p",{className:"text-red-500 text-xs mt-1 ml-1",children:"Please enter a valid email"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Your Role"}),r.jsxs("select",{value:W,onChange:G=>w(G.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all outline-none",children:[r.jsx("option",{value:"",children:"Choose your role..."}),r.jsx("option",{value:"admin",children:"ðŸ‘¨â€ðŸ’¼ Admin School"}),r.jsx("option",{value:"teacher",children:"ðŸ‘¨â€ðŸ« Teacher"}),r.jsx("option",{value:"student",children:"ðŸ‘¨â€ðŸŽ“ Student"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Create Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{className:"w-full px-4 py-3 pr-20 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all outline-none",placeholder:"Min 8 chars, 1 uppercase, 1 number, 1 special",type:B?"text":"password",value:C,onChange:G=>D(G.target.value)}),r.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 px-3 py-1 text-xs font-bold text-blue-600 hover:text-blue-700 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors",onClick:()=>q(!B),children:B?"ðŸ™ˆ HIDE":"ðŸ‘ï¸ SHOW"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm Password"}),r.jsx("input",{className:`w-full px-4 py-3 border-2 rounded-xl transition-all outline-none ${L&&C!==L?"border-red-400 focus:border-red-500 focus:ring-2 focus:ring-red-200":"border-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200"}`,placeholder:"Re-enter your password",type:B?"text":"password",value:L,onChange:G=>T(G.target.value)}),L&&C!==L&&r.jsx("p",{className:"text-red-500 text-sm mt-1 ml-1 flex items-center gap-1",children:"âŒ Passwords do not match"}),L&&C===L&&r.jsx("p",{className:"text-green-500 text-sm mt-1 ml-1 flex items-center gap-1",children:"âœ… Passwords match"})]}),r.jsx(Qh,{onNext:()=>Hh(f,m),disabled:!M})]}),f===1&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"ðŸŽ‚ When were you born?"}),r.jsx("p",{className:"text-gray-600",children:"This helps us personalize your experience"})]}),r.jsxs("div",{className:"flex gap-3 mb-6",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:"Day"}),r.jsxs("select",{value:se,onChange:G=>de(G.target.value),className:"w-full px-3 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all outline-none",children:[r.jsx("option",{value:"",children:"DD"}),[...Array(31)].map((G,he)=>r.jsx("option",{value:he+1,children:String(he+1).padStart(2,"0")},he))]})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:"Month"}),r.jsxs("select",{value:oe,onChange:G=>me(G.target.value),className:"w-full px-3 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all outline-none",children:[r.jsx("option",{value:"",children:"MM"}),["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((G,he)=>r.jsx("option",{value:String(he+1),children:G},he))]})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:"Year"}),r.jsxs("select",{value:xe,onChange:G=>ye(G.target.value),className:"w-full px-3 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all outline-none",children:[r.jsx("option",{value:"",children:"YYYY"}),Array.from({length:60},(G,he)=>2025-he).map(G=>r.jsx("option",{value:G,children:G},G))]})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"button",onClick:ve,className:"w-1/3 py-3 rounded-xl font-semibold bg-gray-100 text-gray-700 hover:bg-gray-200 transition-all",children:"â† Back"}),r.jsx("button",{type:"submit",disabled:!O,className:`flex-1 py-3 rounded-xl font-bold transition-all transform ${O?"bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:from-green-600 hover:to-emerald-700 hover:scale-[1.02] shadow-lg":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:O?"ðŸŽ‰ Complete Registration":"â³ Select birth date"})]})]})]})]})})}const Mt=g.createContext();function Kh({children:i}){const[a,o]=g.useState([]);g.useEffect(()=>{const p=JSON.parse(localStorage.getItem("posts"));p&&o(p)},[]),g.useEffect(()=>{localStorage.setItem("posts",JSON.stringify(a))},[a]);const c=p=>{let S=null,y=null;p.video instanceof File?S=URL.createObjectURL(p.video):S=p.video,p.image instanceof File?y=URL.createObjectURL(p.image):y=p.image;const k={id:Date.now(),timestamp:new Date,poster:p.poster||{id:"anon",name:"Anonymous",avatar:null},likes:0,likedBy:[],favorites:0,favoritedBy:[],comments:[],...p,video:S,image:y};o(A=>[k,...A])},f=p=>{o(S=>S.filter(y=>y.id!==p))},m=(p,S)=>{o(y=>y.map(k=>{if(k.id===p){const A=k.likedBy.includes(S);return{...k,likes:A?k.likes-1:k.likes+1,likedBy:A?k.likedBy.filter(W=>W!==S):[...k.likedBy,S]}}return k}))},h=(p,S)=>{o(y=>y.map(k=>{if(k.id===p){const A=k.favoritedBy.includes(S);return{...k,favorites:A?k.favorites-1:k.favorites+1,favoritedBy:A?k.favoritedBy.filter(W=>W!==S):[...k.favoritedBy,S]}}return k}))},j=(p,S)=>{o(y=>y.map(k=>k.id===p?{...k,comments:[...k.comments,S]}:k))},v=p=>a.filter(S=>(S.poster?.id||S.poster?.email||S.poster)===p);return r.jsx(Mt.Provider,{value:{posts:a,addPost:c,deletePost:f,toggleLike:m,toggleFavorite:h,addComment:j,getPostsByUser:v},children:i})}function Gh(){const i=In(),{user:a,signOut:o}=g.useContext(nt)||{},{posts:c,toggleLike:f,toggleFavorite:m,addComment:h}=g.useContext(Mt)||{posts:[]},[j,v]=g.useState(!1),[p,S]=g.useState(""),y={id:a?.email||a?.id||"current-user",name:a?.name||a?.email||"You"},k=a?.id||a?.email||y.id,A=()=>{const w=a?.role||localStorage.getItem("ppc_role");if(!w){i("/");return}const C={admin:"/admin",adminschool:"/admin",teacher:"/teacher",student:"/student",students:"/student"}[w.toLowerCase()]||"/userHome";i(C)},W=c.filter(w=>{if(!p.trim())return!0;const C=p.toLowerCase(),D=w.title?.toLowerCase().includes(C),L=w.description?.toLowerCase().includes(C),T=w.poster?.name?.toLowerCase().includes(C),se=(w.comments||[]).some(de=>de.text?.toLowerCase().includes(C)||de.author?.name?.toLowerCase().includes(C));return D||L||T||se});return r.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50",children:[r.jsxs("nav",{className:"bg-white/80 backdrop-blur-md border-b border-gray-200/50 px-8 py-4 flex items-center justify-between shadow-sm sticky top-0 z-50",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-purple-600 rounded-xl flex items-center justify-center shadow-lg transform hover:scale-105 transition-transform",children:r.jsx("span",{className:"text-2xl text-white font-bold",children:"P"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"PPC"}),r.jsx("div",{className:"text-xs text-gray-500 font-medium",children:"Community Hub"})]})]}),r.jsxs("div",{className:"relative flex-1 max-w-md mx-8",children:[r.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),r.jsx("input",{type:"text",placeholder:"Search posts...",value:p,onChange:w=>S(w.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl bg-gray-50 text-gray-800 border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:A,className:"px-4 py-2.5 rounded-lg bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-medium transition-all hover:shadow-lg transform hover:scale-105",children:"ðŸ  My Dashboard"}),r.jsx("button",{onClick:()=>i("/profile"),className:"w-11 h-11 rounded-xl overflow-hidden border-2 border-gray-200 hover:border-blue-500 flex items-center justify-center bg-gradient-to-br from-blue-100 to-purple-100 shadow-md hover:shadow-lg transition-all transform hover:scale-105",children:a?.avatar?r.jsx("img",{src:a.avatar,alt:"profile",className:"w-full h-full object-cover"}):r.jsx("span",{className:"text-sm font-bold text-blue-700",children:(a&&(a.name||a.email)||"U")[0]})}),r.jsxs("div",{className:"relative",children:[r.jsx("button",{onClick:()=>v(!j),className:"w-11 h-11 rounded-xl bg-gray-100 hover:bg-gray-200 flex items-center justify-center transition-all hover:shadow-md",children:r.jsx("svg",{className:"w-5 h-5 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),j&&r.jsxs("div",{className:"absolute right-0 mt-2 w-52 bg-white rounded-xl shadow-2xl border border-gray-100 overflow-hidden z-50",children:[r.jsx("button",{className:"block w-full text-left px-5 py-3 hover:bg-gray-50 transition-colors font-medium text-gray-700",children:"âš™ï¸ Settings"}),r.jsx("button",{onClick:()=>{v(!1),o&&o(),i("/")},className:"block w-full text-left px-5 py-3 hover:bg-red-50 text-red-600 border-t border-gray-100 transition-colors font-medium",children:"ðŸšª Logout"})]})]})]})]}),r.jsxs("div",{className:"flex-1 p-8 max-w-4xl mx-auto w-full",children:[r.jsx("div",{className:"mb-8",children:r.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"Welcome Back"})}),r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Recent Posts"}),p&&r.jsxs("span",{className:"text-sm text-gray-500 bg-blue-50 px-4 py-2 rounded-lg",children:[W.length,' result(s) for "',r.jsx("span",{className:"font-semibold",children:p}),'"']})]}),W.length>0?r.jsx("div",{className:"space-y-6",children:W.map(w=>r.jsxs("div",{className:"bg-white/70 backdrop-blur-sm border border-gray-200/50 rounded-2xl shadow-lg hover:shadow-xl p-6 transition-all transform hover:scale-[1.01]",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-100 to-purple-100 flex items-center justify-center overflow-hidden shadow-md",children:w.poster?.avatar?r.jsx("img",{src:w.poster.avatar,alt:"avatar",className:"w-full h-full object-cover"}):r.jsx("span",{className:"font-bold text-blue-600",children:(w.poster?.name||"A")[0]})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("button",{onClick:()=>i(`/profile/${w.poster?.email||w.poster?.id}`),className:"font-semibold text-gray-800 hover:text-blue-600 text-left cursor-pointer transition-colors",children:w.poster?.name||"Anonymous"}),r.jsx("div",{className:"text-sm text-gray-500",children:new Date(w.timestamp).toLocaleString()})]})]}),r.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-900",children:w.title}),r.jsx("p",{className:"mb-4 text-gray-700 leading-relaxed",children:w.description}),w.image&&r.jsx("img",{src:w.image,alt:"post",className:"w-full max-h-96 object-cover rounded-xl mb-4 shadow-md"}),w.video&&r.jsxs("video",{controls:!0,className:"w-full rounded-xl mb-4 shadow-md",children:[r.jsx("source",{src:w.video,type:"video/mp4"}),"Your browser does not support the video tag."]}),r.jsxs("div",{className:"flex gap-6 mt-4 pt-4 border-t border-gray-200",children:[r.jsxs("button",{onClick:()=>f(w.id,y.id),className:"flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-red-50 text-gray-700 hover:text-red-600 transition-colors font-medium",children:["â¤ï¸ ",r.jsx("span",{children:w.likes||0})]}),r.jsxs("button",{onClick:()=>{const C=prompt("Add a comment");C&&h(w.id,{text:C,author:y})},className:"flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-green-50 text-gray-700 hover:text-green-600 transition-colors font-medium",children:["ðŸ’¬ ",r.jsx("span",{children:(w.comments||[]).length})]}),r.jsxs("button",{onClick:()=>m(w.id,k),className:"flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-yellow-50 text-gray-700 hover:text-yellow-600 transition-colors font-medium",children:[(w.favoritedBy||[]).includes(k)?"â˜…":"â˜†"," ",r.jsx("span",{children:w.favorites||0})]})]}),w.comments?.length>0&&r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 space-y-3",children:w.comments.map(C=>r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[r.jsx("span",{className:"font-semibold text-gray-800",children:C.author?.name||"Anon"}),r.jsx("span",{className:"text-gray-600 ml-2",children:C.text})]},C.id))})]},w.id))}):r.jsxs("div",{className:"text-center py-16",children:[r.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-10 h-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsx("p",{className:"text-gray-500 text-lg",children:"No posts found"}),r.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Check back later for new content"})]})]})]})}const jr=g.createContext(),Jh=({children:i})=>{const a=[{id:"c201",className:"Advanced React Development",subject:"Computer Science",section:"A",schedule:"Mon/Wed/Fri 9:00 AM",teacherId:"teacher1@school.edu",studentList:["student@example.com","alice@school.edu","bob@school.edu"]},{id:"c202",className:"World History",subject:"History",section:"B",schedule:"Tue/Thu 1:00 PM",teacherId:"teacher2@school.edu",studentList:["student@example.com","charlie@school.edu"]},{id:"c203",className:"Introduction to Python",subject:"Programming",section:"C",schedule:"Mon/Wed 3:00 PM",teacherId:"teacher1@school.edu",studentList:["diana@school.edu","eve@school.edu"]}],[o,c]=g.useState(a),j={classes:o,addClass:v=>{const p={id:`c${Date.now()}`,...v,createdAt:new Date().toISOString()};c(S=>[p,...S])},updateClass:(v,p)=>{console.log(`Updating class ${v} with fields:`,p),c(S=>S.map(y=>y.id===v?{...y,...p,updatedAt:new Date().toISOString()}:y))},deleteClass:v=>{c(p=>p.filter(S=>S.id!==v))}};return r.jsx(jr.Provider,{value:j,children:i})};function qh(){const{posts:i=[]}=g.useContext(Mt),{user:a}=g.useContext(nt),{classes:o=[]}=g.useContext(jr),{allUsers:c=[]}=g.useContext(wr),[f,m]=g.useState("all"),h=()=>{const y=new Date;switch(f){case"today":const k=new Date;return k.setHours(0,0,0,0),{start:k,end:y};case"week":const A=new Date;return A.setDate(A.getDate()-A.getDay()),A.setHours(0,0,0,0),{start:A,end:y};case"month":const W=new Date;return W.setDate(1),W.setHours(0,0,0,0),{start:W,end:y};default:return{start:new Date(0),end:y}}},j=g.useMemo(()=>{const y=h();return i.filter(k=>{const A=new Date(k.timestamp||0);return A>=y.start&&A<=y.end})},[i,f]),v=g.useMemo(()=>{const y={admin:c.filter(L=>L.role==="admin").length,teacher:c.filter(L=>L.role==="teacher").length,student:c.filter(L=>L.role==="student").length},k=j.reduce((L,T)=>L+(T.likes?.length||0),0),A=j.reduce((L,T)=>L+(T.comments?.length||0),0),W=o.reduce((L,T)=>L+(T.studentList?.length||0),0),w=o.length>0?(W/o.length).toFixed(1):0,C=j.length>0?(k/j.length).toFixed(1):0,D=j.length>0?(A/j.length).toFixed(1):0;return{totalUsers:c.length,totalPosts:j.length,totalClasses:o.length,totalStudents:W,usersByRole:y,totalLikes:k,totalComments:A,avgStudentsPerClass:w,avgLikesPerPost:C,avgCommentsPerPost:D}},[c,j,o]),p=g.useMemo(()=>o.map(y=>({...y,studentCount:y.studentList?.length||0})).sort((y,k)=>k.studentCount-y.studentCount).slice(0,5),[o]),S=({label:y,value:k,color:A="blue"})=>{const W={blue:"bg-blue-50 border-blue-200",green:"bg-green-50 border-green-200",purple:"bg-purple-50 border-purple-200",orange:"bg-orange-50 border-orange-200"};return r.jsxs("div",{className:`${W[A]} border rounded-lg p-6`,children:[r.jsx("p",{className:"text-gray-600 text-sm font-medium",children:y}),r.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-2",children:k})]})};return r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"System Reports"}),r.jsx("div",{className:"flex gap-2",children:[{value:"today",label:"Today"},{value:"week",label:"This Week"},{value:"month",label:"This Month"},{value:"all",label:"All Time"}].map(y=>r.jsx("button",{onClick:()=>m(y.value),className:`px-4 py-2 rounded-lg font-medium transition-all ${f===y.value?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:y.label},y.value))})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"System Overview"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(S,{label:"Total Users",value:v.totalUsers,color:"blue"}),r.jsx(S,{label:"Total Posts",value:v.totalPosts,color:"green"}),r.jsx(S,{label:"Total Classes",value:v.totalClasses,color:"purple"}),r.jsx(S,{label:"Total Students",value:v.totalStudents,color:"orange"})]})]}),r.jsxs("div",{className:"mb-8 bg-white border border-gray-200 rounded-lg p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"User Distribution by Role"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[r.jsx("p",{className:"text-gray-600 text-sm",children:"Admins"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:v.usersByRole.admin}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[(v.usersByRole.admin/v.totalUsers*100).toFixed(1),"%"]})]}),r.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[r.jsx("p",{className:"text-gray-600 text-sm",children:"Teachers"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:v.usersByRole.teacher}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[(v.usersByRole.teacher/v.totalUsers*100).toFixed(1),"%"]})]}),r.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[r.jsx("p",{className:"text-gray-600 text-sm",children:"Students"}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:v.usersByRole.student}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[(v.usersByRole.student/v.totalUsers*100).toFixed(1),"%"]})]})]})]}),r.jsxs("div",{className:"mb-8 bg-white border border-gray-200 rounded-lg p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Engagement Analytics"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[r.jsx("p",{className:"text-gray-600 text-sm",children:"Total Likes"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-2",children:v.totalLikes}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Avg: ",v.avgLikesPerPost," per post"]})]}),r.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[r.jsx("p",{className:"text-gray-600 text-sm",children:"Total Comments"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-2",children:v.totalComments}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Avg: ",v.avgCommentsPerPost," per post"]})]}),r.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[r.jsx("p",{className:"text-gray-600 text-sm",children:"Engagement Rate"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-2",children:v.totalPosts>0?((v.totalLikes+v.totalComments)/v.totalPosts).toFixed(1):0}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Per post average"})]})]})]}),r.jsxs("div",{className:"mb-8 bg-white border border-gray-200 rounded-lg p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Class Statistics"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg text-center",children:[r.jsx("p",{className:"text-gray-600 text-sm",children:"Average Students per Class"}),r.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:v.avgStudentsPerClass})]}),r.jsxs("div",{className:"p-4 bg-green-50 rounded-lg text-center",children:[r.jsx("p",{className:"text-gray-600 text-sm",children:"Total Classes"}),r.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:v.totalClasses})]})]}),p.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"Top Classes by Enrollment"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Class Name"}),r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Subject"}),r.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-700",children:"Students"})]})}),r.jsx("tbody",{children:p.map(y=>r.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 px-4 text-gray-800",children:y.className||"N/A"}),r.jsx("td",{className:"py-3 px-4 text-gray-600",children:y.subject||"N/A"}),r.jsx("td",{className:"py-3 px-4 text-center text-gray-800 font-semibold",children:y.studentCount})]},y.id))})]})})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Recent Posts Activity"}),j.length>0?r.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:j.slice(-10).reverse().map(y=>r.jsx("div",{className:"border border-gray-100 rounded-lg p-4 hover:bg-gray-50",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-800",children:y.title}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["By: ",y.poster?.name||"Unknown"]})]}),r.jsxs("div",{className:"text-right text-sm text-gray-500",children:[r.jsxs("p",{children:["ðŸ‘ ",y.likes?.length||0]}),r.jsxs("p",{children:["ðŸ’¬ ",y.comments?.length||0]})]})]})},y.id))}):r.jsx("p",{className:"text-gray-500 text-center py-8",children:"No posts in selected period"})]})]})}function Xh({currentStep:i,totalSteps:a,steps:o}){const c=(i+1)/a*100;return r.jsxs("div",{className:"mb-8",children:[r.jsx("div",{className:"relative w-full h-3 bg-gray-200 rounded-full overflow-hidden mb-6 shadow-inner",children:r.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500 transition-all duration-500 ease-out rounded-full",style:{width:`${c}%`},children:r.jsx("div",{className:"absolute inset-0 bg-white opacity-20 animate-pulse"})})}),r.jsx("div",{className:"flex justify-between items-center",children:o.map((f,m)=>{const h=m<i,j=m===i,v=m>i;return r.jsxs("div",{className:"flex flex-col items-center flex-1",children:[r.jsx("div",{className:`
                  w-12 h-12 rounded-full flex items-center justify-center font-bold text-sm
                  transition-all duration-300 transform
                  ${h?"bg-gradient-to-br from-green-400 to-green-600 text-white shadow-lg scale-110":""}
                  ${j?"bg-gradient-to-br from-blue-500 to-indigo-600 text-white ring-4 ring-blue-200 shadow-xl scale-110 animate-pulse":""}
                  ${v?"bg-gray-200 text-gray-500 hover:bg-gray-300":""}
                `,children:h?"âœ“":m+1}),r.jsx("div",{className:`
                  mt-2 text-xs font-medium text-center
                  ${j?"text-blue-600":""}
                  ${h?"text-green-600":""}
                  ${v?"text-gray-400":""}
                `,children:f}),m<a-1&&r.jsx("div",{className:"hidden sm:block absolute h-0.5 bg-gray-300",style:{width:"calc(100% / ${totalSteps})"}})]},m)})}),r.jsxs("div",{className:"text-center mt-4 text-sm text-gray-600",children:["Step ",i+1," of ",a]})]})}function Zh({currentStep:i,totalSteps:a,onNext:o,onPrevious:c,onSubmit:f,canProceed:m=!0,nextLabel:h="Next",previousLabel:j="Back",submitLabel:v="Submit"}){const p=i===0,S=i===a-1;return r.jsxs("div",{className:"flex gap-3 pt-6 border-t",children:[!p&&r.jsxs("button",{type:"button",onClick:c,className:"flex-1 bg-gray-100 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-200 transition-all transform hover:scale-105 border-2 border-gray-300 hover:border-gray-400",children:["â† ",j]}),S?r.jsx("button",{type:"button",onClick:f,disabled:!m,className:`
            flex-1 py-3 rounded-lg font-semibold transition-all transform
            ${m?"bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:from-green-600 hover:to-emerald-700 hover:scale-105 shadow-lg hover:shadow-xl":"bg-gray-300 text-gray-500 cursor-not-allowed"}
          `,children:m?`${v} âœ“`:"â³ Complete required fields"}):r.jsx("button",{type:"button",onClick:o,disabled:!m,className:`
            flex-1 py-3 rounded-lg font-semibold transition-all transform
            ${m?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:from-blue-700 hover:to-indigo-700 hover:scale-105 shadow-lg hover:shadow-xl":"bg-gray-300 text-gray-500 cursor-not-allowed"}
          `,children:m?`${h} â†’`:"â³ Fill required fields"})]})}function ep({title:i,children:a,onCancel:o}){return r.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:c=>c.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between mb-6 border-b pb-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:i}),o&&r.jsx("button",{onClick:o,className:"w-8 h-8 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center text-gray-600",children:"âœ•"})]}),a]})})}function Wn({label:i,type:a="text",name:o,value:c,onChange:f,placeholder:m,required:h=!1,error:j=null,options:v=null,disabled:p=!1}){return r.jsxs("div",{className:"mb-4",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[i," ",h&&r.jsx("span",{className:"text-red-500",children:"*"})]}),a==="select"?r.jsxs("select",{name:o,value:c,onChange:f,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${j?"border-red-500":"border-gray-300"} ${p?"bg-gray-100 cursor-not-allowed":""}`,required:h,disabled:p,children:[r.jsxs("option",{value:"",children:["Select ",i]}),v?.map(S=>r.jsx("option",{value:S.value,children:S.label},S.value))]}):a==="textarea"?r.jsx("textarea",{name:o,value:c,onChange:f,placeholder:m,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${j?"border-red-500":"border-gray-300"} ${p?"bg-gray-100 cursor-not-allowed":""}`,rows:4,required:h,disabled:p}):r.jsx("input",{type:a,name:o,value:c,onChange:f,placeholder:m,className:`w-full px-4 py-3 border-2 rounded-lg transition-all focus:ring-4 focus:ring-blue-200 focus:border-blue-500 ${j?"border-red-500 bg-red-50":"border-gray-300 focus:border-blue-500"} ${p?"bg-gray-100 cursor-not-allowed":"hover:border-gray-400"}`,required:h,disabled:p}),j&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:j})]})}const tp="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-full shadow-md font-bold",np=["Mathematics","Science","English","Social Studies","Computer Science","Arts","History","Physics","Chemistry","Biology"],wl=["Basic Info","Teacher","Students","Review"];function ld(){const{classes:i=[],addClass:a,updateClass:o,deleteClass:c}=g.useContext(jr)||{},{allUsers:f=[],getUsersByRole:m}=g.useContext(wr)||{},{user:h}=g.useContext(nt)||{},[j,v]=g.useState(i),[p,S]=g.useState(!1),[y,k]=g.useState(!1),[A,W]=g.useState(null),[w,C]=g.useState(null),[D,L]=g.useState(0),[T,se]=g.useState({className:"",subject:"",section:"",schedule:"",teacherId:"",studentList:[],description:"",capacity:30}),de=m?m("teacher"):f.filter(O=>O.role==="teacher"),oe=m?m("student"):f.filter(O=>O.role==="student"),[me,xe]=g.useState([]);g.useEffect(()=>{v(i)},[i]);const ye=()=>{switch(D){case 0:return T.className.trim()&&T.subject&&T.section.trim()&&T.schedule.trim();case 1:return T.teacherId!=="";case 2:return!0;case 3:return!0;default:return!1}},pe=O=>{const{name:Q,value:Y}=O.target;se(re=>({...re,[Q]:Y}))},ze=O=>{xe(Q=>Q.includes(O)?Q.filter(Y=>Y!==O):Q.length>=T.capacity?(alert(`Class capacity is ${T.capacity} students`),Q):[...Q,O])},Se=()=>{D<wl.length-1&&ye()&&L(O=>O+1)},ke=()=>{D>0&&L(O=>O-1)},Pe=(O=null)=>{O?(C(O.id),se({className:O.className||"",subject:O.subject||"",section:O.section||"",schedule:O.schedule||"",teacherId:O.teacherId||"",studentList:O.studentList||[],description:O.description||"",capacity:O.capacity||30}),xe(O.studentList||[])):ee(),S(!0)},ae=()=>{S(!1),L(0),ee()},ee=()=>{C(null),se({className:"",subject:"",section:"",schedule:"",teacherId:"",studentList:[],description:"",capacity:30}),xe([])},ue=()=>{const O={...T,studentList:me,totalStudents:me.length,createdBy:h?.email||h?.id,createdAt:w?void 0:new Date().toISOString(),updatedAt:new Date().toISOString()};if(w)o(w,O),v(Q=>Q.map(Y=>Y.id===w?{...Y,...O}:Y)),alert(`âœ… Class "${O.className}" updated successfully!`);else{const Q={...O,id:`c${Date.now()}`};a(Q),v(Y=>[Q,...Y]),alert(`âœ… Class "${O.className}" created successfully!`)}ae()},B=(O,Q)=>{window.confirm(`âš ï¸ Are you sure you want to delete "${Q}"? This action cannot be undone.`)&&(c(O),v(Y=>Y.filter(re=>re.id!==O)))},q=O=>{W(O),k(!0)},I=()=>{k(!1),W(null)},N=O=>{const Q=de.find(Y=>Y.id===O||Y.email===O);return Q?Q.name:"Unassigned"},M=()=>{switch(D){case 0:return r.jsxs("div",{className:"space-y-4",children:[r.jsx(Wn,{label:"Class Name",name:"className",value:T.className,onChange:pe,placeholder:"e.g., Advanced Calculus",required:!0}),r.jsx(Wn,{label:"Subject",type:"select",name:"subject",value:T.subject,onChange:pe,options:np.map(Y=>({value:Y,label:Y})),required:!0}),r.jsx(Wn,{label:"Section/Code",name:"section",value:T.section,onChange:pe,placeholder:"e.g., A, B, CS-101",required:!0}),r.jsx(Wn,{label:"Schedule",name:"schedule",value:T.schedule,onChange:pe,placeholder:"e.g., MWF 9:00-10:30 AM",required:!0}),r.jsx(Wn,{label:"Description (Optional)",type:"textarea",name:"description",value:T.description,onChange:pe,placeholder:"Brief description of the class..."}),r.jsx(Wn,{label:"Class Capacity",type:"number",name:"capacity",value:T.capacity,onChange:pe,required:!0})]});case 1:return r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 rounded mb-4",children:r.jsx("p",{className:"text-blue-800 font-medium",children:"ðŸ‘¨â€ðŸ« Assign a teacher to this class"})}),r.jsx(Wn,{label:"Assigned Teacher",type:"select",name:"teacherId",value:T.teacherId,onChange:pe,options:de.map(Y=>({value:Y.id||Y.email,label:`${Y.name} (${Y.email})`})),required:!0}),T.teacherId&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mt-4",children:r.jsxs("p",{className:"text-green-800",children:["âœ“ Teacher selected:"," ",r.jsx("strong",{children:N(T.teacherId)})]})}),de.length===0&&r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-center",children:r.jsx("p",{className:"text-yellow-800",children:"âš ï¸ No teachers available. Please create teacher accounts first."})})]});case 2:return r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 rounded mb-4",children:r.jsxs("p",{className:"text-blue-800 font-medium",children:["ðŸ‘¥ Select students to enroll (",me.length,"/",T.capacity,")"]})}),oe.length>0?r.jsx("div",{className:"max-h-96 overflow-y-auto border rounded-lg divide-y",children:oe.map(Y=>{const re=me.includes(Y.email||Y.id),ve=!re&&me.length>=T.capacity;return r.jsxs("label",{className:`
                        flex items-center p-4 cursor-pointer transition-colors
                        ${re?"bg-blue-50":"hover:bg-gray-50"}
                        ${ve?"opacity-50 cursor-not-allowed":""}
                      `,children:[r.jsx("input",{type:"checkbox",checked:re,onChange:()=>ze(Y.email||Y.id),disabled:ve,className:"w-5 h-5 rounded"}),r.jsxs("div",{className:"ml-3 flex-1",children:[r.jsx("div",{className:"font-medium text-gray-900",children:Y.name}),r.jsx("div",{className:"text-sm text-gray-500",children:Y.email})]}),re&&r.jsx("span",{className:"text-blue-600 font-medium",children:"âœ“ Enrolled"})]},Y.id||Y.email)})}):r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-center",children:r.jsx("p",{className:"text-yellow-800",children:"âš ï¸ No students available. Proceed to create the class."})})]});case 3:const O=de.find(Y=>(Y.id||Y.email)===T.teacherId),Q=oe.filter(Y=>me.includes(Y.email||Y.id));return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 rounded",children:r.jsxs("p",{className:"text-blue-800 font-medium",children:["ðŸ“‹ Review class details before"," ",w?"updating":"creating"]})}),r.jsxs("div",{className:"bg-white border rounded-lg divide-y",children:[r.jsxs("div",{className:"p-4",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Class Name:"}),r.jsx("span",{className:"ml-2 text-gray-900",children:T.className})]}),r.jsxs("div",{className:"p-4",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Subject:"}),r.jsx("span",{className:"ml-2 text-gray-900",children:T.subject})]}),r.jsxs("div",{className:"p-4",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Section:"}),r.jsx("span",{className:"ml-2 text-gray-900",children:T.section})]}),r.jsxs("div",{className:"p-4",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Schedule:"}),r.jsx("span",{className:"ml-2 text-gray-900",children:T.schedule})]}),r.jsxs("div",{className:"p-4",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Teacher:"}),r.jsx("span",{className:"ml-2 text-gray-900",children:O?.name||"N/A"})]}),r.jsxs("div",{className:"p-4",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Capacity:"}),r.jsxs("span",{className:"ml-2 text-gray-900",children:[T.capacity," students"]})]}),r.jsxs("div",{className:"p-4",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Enrolled Students:"}),r.jsx("span",{className:"ml-2 text-gray-900",children:me.length})]})]}),me.length>0&&r.jsxs("div",{className:"bg-gray-50 border rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Enrolled Students:"}),r.jsx("ul",{className:"space-y-1 text-sm",children:Q.map((Y,re)=>r.jsxs("li",{className:"text-gray-600",children:["â€¢ ",Y.name]},re))})]})]});default:return null}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b-2 border-gradient-to-r from-blue-500 to-purple-500",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[r.jsx("span",{className:"text-3xl",children:"ðŸ“š"}),"Class Management"]}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Create and manage classes with ease"})]}),r.jsxs("button",{onClick:()=>Pe(),className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all transform hover:scale-105 shadow-lg hover:shadow-xl flex items-center gap-2",children:[r.jsx("span",{className:"text-xl",children:"âž•"}),"Create New Class"]})]}),r.jsx("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"ðŸŽ¯ Class Name"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"ðŸ“š Subject/Section"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"ðŸ‘¨â€ðŸ« Teacher"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"ðŸ‘¥ Students"}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-gray-700 uppercase tracking-wider",children:"âš™ï¸ Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.length>0?j.map(O=>r.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 transition-all duration-200",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm font-bold text-gray-900",children:O.className})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:O.subject}),r.jsxs("span",{className:"text-sm text-gray-500",children:["/ ",O.section]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-blue-600 font-medium",children:N(O.teacherId)}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[O.totalStudents||(O.studentList||[]).length," ","/ ",O.capacity||30]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[r.jsx("button",{onClick:()=>q(O),className:"text-blue-600 hover:text-blue-900 mr-4 font-medium hover:underline transition-all",children:"ðŸ‘ï¸ View"}),r.jsx("button",{onClick:()=>Pe(O),className:"text-indigo-600 hover:text-indigo-900 mr-4 font-medium hover:underline transition-all",children:"âœï¸ Edit"}),r.jsx("button",{onClick:()=>B(O.id,O.className),className:"text-red-600 hover:text-red-900 font-medium hover:underline transition-all",children:"ðŸ—‘ï¸ Delete"})]})]},O.id)):r.jsx("tr",{children:r.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-100 to-indigo-100 rounded-full flex items-center justify-center mb-4",children:r.jsx("span",{className:"text-5xl",children:"ðŸ“š"})}),r.jsx("p",{className:"text-gray-600 font-medium text-lg mb-2",children:"No classes yet"}),r.jsx("p",{className:"text-gray-400 text-sm",children:'Click "Create New Class" to get started'})]})})})})]})}),p&&r.jsxs(ep,{title:w?"âœï¸ Edit Class":"âž• Create New Class",onCancel:ae,children:[r.jsx(Xh,{currentStep:D,totalSteps:wl.length,steps:wl}),r.jsx("div",{className:"my-6",children:M()}),r.jsx(Zh,{currentStep:D,totalSteps:wl.length,onNext:Se,onPrevious:ke,onSubmit:ue,canProceed:ye(),submitLabel:w?"Update Class":"Create Class"})]}),y&&A&&r.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",onClick:I,children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-lg max-h-[90vh] overflow-y-auto",onClick:O=>O.stopPropagation(),children:[r.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:["ðŸ“– ",A.className]}),r.jsx("button",{onClick:I,className:"w-8 h-8 rounded-full bg-gray-100 hover:bg-gray-200",children:"âœ•"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Subject"}),r.jsx("p",{className:"font-medium",children:A.subject})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Section"}),r.jsx("p",{className:"font-medium",children:A.section})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Schedule"}),r.jsx("p",{className:"font-medium",children:A.schedule})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Teacher"}),r.jsx("p",{className:"font-medium text-blue-600",children:N(A.teacherId)})]})]}),A.description&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Description"}),r.jsx("p",{className:"text-gray-700 mt-1",children:A.description})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("h3",{className:"text-lg font-bold",children:"ðŸ‘¥ Enrolled Students"}),r.jsxs("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:[(A.studentList||[]).length," /"," ",A.capacity||30]})]}),r.jsx("div",{className:"max-h-60 overflow-y-auto border rounded-lg",children:(A.studentList||[]).length>0?r.jsx("ul",{className:"divide-y",children:(A.studentList||[]).map((O,Q)=>{const Y=oe.find(re=>(re.email||re.id)===O);return r.jsx("li",{className:"p-3 hover:bg-gray-50 flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:Y?.name||O}),Y&&r.jsx("p",{className:"text-sm text-gray-500",children:Y.email})]})},Q)})}):r.jsx("div",{className:"p-8 text-center text-gray-500",children:r.jsx("p",{children:"No students enrolled yet"})})})]})]})]})})]})}function rp(){const{users:i=[],addUser:a,updateUser:o,deleteUser:c}=g.useContext(wr)||{},{user:f}=g.useContext(nt)||{},[m,h]=g.useState(null),[j,v]=g.useState({name:"",email:"",role:"",schoolName:"",phone:""}),p=k=>{h(k),v({name:k.name||"",email:k.email||"",role:k.role||"",schoolName:k.schoolName||"",phone:k.phone||""})},S=()=>{m?o&&o(m.email,j):a&&a(j),h(null),v({name:"",email:"",role:"",schoolName:"",phone:""})},y=k=>{window.confirm("Are you sure you want to delete this user?")&&c&&c(k)};return r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-2xl font-bold mb-6",children:"User Management"}),r.jsx("div",{className:"mb-6",children:r.jsx("button",{onClick:()=>h({}),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Add New User"})}),m&&r.jsxs("div",{className:"bg-white p-6 rounded shadow mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:m.email?"Edit User":"Add New User"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx("input",{type:"text",placeholder:"Name",value:j.name,onChange:k=>v({...j,name:k.target.value}),className:"border p-2 rounded"}),r.jsx("input",{type:"email",placeholder:"Email",value:j.email,onChange:k=>v({...j,email:k.target.value}),className:"border p-2 rounded",disabled:!!m.email}),r.jsxs("select",{value:j.role,onChange:k=>v({...j,role:k.target.value}),className:"border p-2 rounded",children:[r.jsx("option",{value:"",children:"Select Role"}),r.jsx("option",{value:"admin",children:"Admin"}),r.jsx("option",{value:"teacher",children:"Teacher"}),r.jsx("option",{value:"student",children:"Student"})]}),r.jsx("input",{type:"text",placeholder:"School Name",value:j.schoolName,onChange:k=>v({...j,schoolName:k.target.value}),className:"border p-2 rounded"}),r.jsx("input",{type:"text",placeholder:"Phone",value:j.phone,onChange:k=>v({...j,phone:k.target.value}),className:"border p-2 rounded"})]}),r.jsxs("div",{className:"mt-4 flex gap-2",children:[r.jsx("button",{onClick:S,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Save"}),r.jsx("button",{onClick:()=>h(null),className:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700",children:"Cancel"})]})]}),r.jsx("div",{className:"bg-white rounded shadow overflow-hidden",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"School"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(k=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:k.name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:k.email}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap capitalize",children:k.role}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:k.schoolName}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("button",{onClick:()=>p(k),className:"text-blue-600 hover:text-blue-900 mr-2",children:"Edit"}),r.jsx("button",{onClick:()=>y(k.email),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},k.email))})]})})]})}function sp(){const[i,a]=g.useState([{id:1,name:"Royal University of Phnom Penh",address:"Phnom Penh, Cambodia",type:"University"},{id:2,name:"Institute of Technology of Cambodia",address:"Phnom Penh, Cambodia",type:"Institute"}]),[o,c]=g.useState(null),[f,m]=g.useState({name:"",address:"",type:""}),h=p=>{c(p),m({name:p.name||"",address:p.address||"",type:p.type||""})},j=()=>{if(o)a(i.map(p=>p.id===o.id?{...p,...f}:p));else{const p={id:Date.now(),...f};a([...i,p])}c(null),m({name:"",address:"",type:""})},v=p=>{window.confirm("Are you sure you want to delete this school?")&&a(i.filter(S=>S.id!==p))};return r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-2xl font-bold mb-6",children:"School Management"}),r.jsx("div",{className:"mb-6",children:r.jsx("button",{onClick:()=>c({}),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Add New School"})}),o&&r.jsxs("div",{className:"bg-white p-6 rounded shadow mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:o.id?"Edit School":"Add New School"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx("input",{type:"text",placeholder:"School Name",value:f.name,onChange:p=>m({...f,name:p.target.value}),className:"border p-2 rounded"}),r.jsx("input",{type:"text",placeholder:"Address",value:f.address,onChange:p=>m({...f,address:p.target.value}),className:"border p-2 rounded"}),r.jsxs("select",{value:f.type,onChange:p=>m({...f,type:p.target.value}),className:"border p-2 rounded",children:[r.jsx("option",{value:"",children:"Select Type"}),r.jsx("option",{value:"University",children:"University"}),r.jsx("option",{value:"Institute",children:"Institute"}),r.jsx("option",{value:"High School",children:"High School"}),r.jsx("option",{value:"Elementary",children:"Elementary"})]})]}),r.jsxs("div",{className:"mt-4 flex gap-2",children:[r.jsx("button",{onClick:j,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Save"}),r.jsx("button",{onClick:()=>c(null),className:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700",children:"Cancel"})]})]}),r.jsx("div",{className:"bg-white rounded shadow overflow-hidden",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Address"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(p=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.address}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.type}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("button",{onClick:()=>h(p),className:"text-blue-600 hover:text-blue-900 mr-2",children:"Edit"}),r.jsx("button",{onClick:()=>v(p.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},p.id))})]})})]})}function lp(){const{addPost:i,posts:a=[],deletePost:o,toggleFavorite:c,toggleLike:f}=g.useContext(Mt)||{},{user:m,signOut:h}=g.useContext(nt)||{},{classes:j=[],addClass:v,updateClass:p,deleteClass:S}=g.useContext(jr)||{},y=In(),[k,A]=g.useState(!1),[W,w]=g.useState(!1),[C,D]=g.useState("dashboard"),[L,T]=g.useState(""),[se,de]=g.useState([]),[oe,me]=g.useState(""),[xe,ye]=g.useState(null),[pe,ze]=g.useState(null),[Se,ke]=g.useState([]),[Pe,ae]=g.useState(null),[ee,ue]=g.useState({title:"",description:"",image:"",imagePreview:"",video:"",videoPreview:"",visibility:"public",isPinned:!1}),B=g.useRef(null),q=g.useRef(null);g.useEffect(()=>{Array.isArray(a)&&a.length&&ke(a.map(z=>({...z})))},[a]);const I=z=>{me(z),setTimeout(()=>me(""),3e3)},N=()=>{w(!1),ze(null),ue({title:"",description:"",image:"",imagePreview:"",video:"",videoPreview:"",visibility:"public",isPinned:!1}),B.current&&(B.current.value=""),q.current&&(q.current.value="")},M=z=>{const fe=z.target.files?.[0];if(!fe)return;if(!fe.type.startsWith("image/")){alert("Please select a valid image file");return}if(fe.size>5*1024*1024){alert("Image size must be less than 5MB");return}const Ee=new FileReader;Ee.onload=vt=>{ue(Ct=>({...Ct,image:fe.name,imagePreview:vt.target.result}))},Ee.readAsDataURL(fe)},O=z=>{const fe=z.target.files?.[0];if(!fe)return;if(!fe.type.startsWith("video/")){alert("Please select a valid video file");return}if(fe.size>50*1024*1024){alert("Video size must be less than 50MB");return}const Ee=new FileReader;Ee.onload=vt=>{ue(Ct=>({...Ct,video:fe.name,videoPreview:vt.target.result}))},Ee.readAsDataURL(fe)},Q=()=>{ue(z=>({...z,image:"",imagePreview:""})),B.current&&(B.current.value="")},Y=()=>{ue(z=>({...z,video:"",videoPreview:""})),q.current&&(q.current.value="")},re=(z=null)=>{z?(ze(z.id),ue({title:z.title||"",description:z.description||"",image:z.image||"",imagePreview:z.image||"",video:z.video||"",videoPreview:z.video||"",visibility:z.visibility||"public",isPinned:!!z.isPinned})):(ze(null),ue({title:"",description:"",image:"",imagePreview:"",video:"",videoPreview:"",visibility:"public",isPinned:!1})),w(!0)},ve=z=>{if(z.preventDefault(),!ee.title.trim()||!ee.description.trim()){alert("Please enter both title and description.");return}if(pe)ke(fe=>fe.map(Ee=>Ee.id===pe?{...Ee,title:ee.title,description:ee.description,image:ee.imagePreview||ee.image||null,video:ee.videoPreview||ee.video||null,visibility:ee.visibility,isPinned:ee.isPinned,updatedAt:new Date().toISOString()}:Ee)),I("Post updated successfully!");else{const fe={id:Date.now(),title:ee.title,description:ee.description,timestamp:new Date().toISOString(),updatedAt:new Date().toISOString(),poster:{id:m?.email||m?.id||"admin",name:m?.name||"Admin",avatar:m?.profileImage},image:ee.imagePreview||null,video:ee.videoPreview||null,visibility:ee.visibility,isPinned:ee.isPinned,likes:0,favorites:0,comments:[]};ke(Ee=>[fe,...Ee]),i&&i(fe),I("Post created successfully!")}N()},G=(z,fe)=>{window.confirm(`Delete post "${fe}"?`)&&(ke(Ee=>Ee.filter(vt=>vt.id!==z)),o&&o(z),I("Post deleted."))},he=z=>{ke(fe=>fe.map(Ee=>Ee.id===z?{...Ee,isPinned:!Ee.isPinned}:Ee))},$e=z=>re(z),We=[...Se].sort((z,fe)=>(z.isPinned?1:0)!=(fe.isPinned?1:0)?(fe.isPinned?1:0)-(z.isPinned?1:0):new Date(fe.timestamp||fe.updatedAt||0)-new Date(z.timestamp||z.updatedAt||0)),ln=z=>{const fe=(z.target.value||"").toLowerCase();if(T(fe),!fe){de([]);return}const Ee=[{name:"Dashboard Overview",section:"dashboard",type:"menu"},{name:"Manage Users",section:"users",type:"menu"},{name:"Manage Schools",section:"schools",type:"menu"},{name:"Manage Classes",section:"classes",type:"menu"},{name:"View Reports",section:"reports",type:"menu"}],vt=We.map(K=>({name:K.title,description:K.description,section:"dashboard",type:"post",postId:K.id})),Ct=(j||[]).map(K=>({name:K.className,description:`Subject: ${K.subject} | Section: ${K.section}`,section:"classes",type:"class",classId:K.id})),U=[...Ee,...vt,...Ct].filter(K=>{const Ne=(K.name||"").toLowerCase(),He=(K.description||"").toLowerCase();return Ne.includes(fe)||He.includes(fe)});de(U)},an=z=>{D(z),T(""),de([])},Qt=()=>{switch(C){case"dashboard":return r.jsx("h2",{className:"text-xl font-bold mb-4 border-b pb-2 text-gray-800",children:"Admin Dashboard - Full System Activity"});case"users":return r.jsx(rp,{});case"schools":return r.jsx(sp,{});case"classes":return r.jsx(ClassManagement,{});case"reports":return r.jsx(qh,{});default:return r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Dashboard"})}};return r.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[r.jsxs("nav",{className:"bg-white/80 backdrop-blur-md border-b border-gray-200/50 px-8 py-4 flex items-center justify-between shadow-sm sticky top-0 z-50",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-indigo-700 rounded-xl flex items-center justify-center shadow-lg transform hover:scale-105 transition-transform",children:r.jsx("span",{className:"text-2xl",children:"ðŸ›¡ï¸"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"PPC Admin"}),r.jsx("div",{className:"text-xs text-gray-500 font-medium",children:"System Management"})]})]}),r.jsxs("div",{className:"relative w-96 hidden md:block",children:[r.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),r.jsx("input",{type:"text",placeholder:"Search database...",value:L,onChange:ln,className:"w-full pl-10 pr-4 py-3 rounded-xl bg-gray-50 text-gray-800 border border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"}),se.length>0&&r.jsx("div",{className:"absolute top-full left-0 w-full bg-white text-gray-800 rounded-lg shadow-xl mt-2 z-50 max-h-96 overflow-y-auto",children:se.map((z,fe)=>r.jsxs("button",{onClick:()=>an(z.section,z.type,z.classId),className:"w-full text-left px-4 py-3 hover:bg-blue-50 border-b transition",children:[r.jsx("div",{className:"font-semibold text-sm",children:z.name}),z.type==="post"&&r.jsx("div",{className:"text-xs text-gray-500",children:z.description}),z.type==="class"&&r.jsx("div",{className:"text-xs text-blue-500",children:z.description})]},fe))})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:()=>y("/userHome"),className:"px-4 py-2.5 rounded-lg bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium transition-all hover:shadow-md",children:"ðŸ  User View"}),r.jsx("button",{onClick:()=>re(),className:"px-4 py-2.5 rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-medium transition-all hover:shadow-lg transform hover:scale-105",children:"âž• New Post"}),r.jsx("button",{onClick:()=>D("classes"),className:"px-4 py-2.5 rounded-lg bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-medium transition-all hover:shadow-lg transform hover:scale-105",children:"ðŸ“š Classes"}),r.jsx("button",{onClick:()=>y("/profile"),className:"w-11 h-11 rounded-xl overflow-hidden border-2 border-gray-200 hover:border-blue-500 flex items-center justify-center text-sm font-bold bg-gradient-to-br from-blue-600 to-indigo-600 text-white shadow-md hover:shadow-lg transition-all transform hover:scale-105",children:m&&m.profileImage?r.jsx("img",{src:m.profileImage,alt:"profile",className:"w-full h-full object-cover"}):m&&(m.name||m.email)?(m.name||m.email)[0]:"A"}),r.jsxs("div",{className:"relative",children:[r.jsx("button",{onClick:()=>A(!k),className:"w-11 h-11 rounded-xl bg-gray-100 hover:bg-gray-200 flex items-center justify-center transition-all hover:shadow-md",children:r.jsx("svg",{className:"w-5 h-5 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),k&&r.jsxs("div",{className:"absolute right-0 mt-2 w-52 bg-white rounded-xl shadow-2xl z-50 border border-gray-100 overflow-hidden",children:[r.jsx("button",{className:"block w-full text-left px-5 py-3 hover:bg-gray-50 transition-colors font-medium text-gray-700",children:"âš™ï¸ Settings"}),r.jsx("button",{className:"block w-full text-left px-5 py-3 hover:bg-red-50 text-red-600 border-t border-gray-100 transition-colors font-medium",onClick:()=>{A(!1),h&&h(),y("/")},children:"ðŸšª Logout"})]})]})]})]}),r.jsxs("div",{className:"flex flex-1",children:[r.jsxs("aside",{className:"w-72 bg-white/50 backdrop-blur-sm border-r border-gray-200/50 p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-xs uppercase font-bold text-gray-400 tracking-wider mb-1",children:"Navigation"}),r.jsx("div",{className:"h-1 w-12 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-full"})]}),r.jsx("ul",{className:"space-y-2",children:[{id:"dashboard",label:"Dashboard",icon:"ðŸ“Š"},{id:"users",label:"Manage Users",icon:"ðŸ‘¥"},{id:"schools",label:"Manage Schools",icon:"ðŸ«"},{id:"classes",label:"Manage Classes",icon:"ðŸ“š"},{id:"reports",label:"System Reports",icon:"ðŸ“ˆ"}].map(z=>r.jsx("li",{children:r.jsxs("button",{onClick:()=>D(z.id),className:`w-full text-left px-5 py-3.5 rounded-xl transition-all font-medium group ${C===z.id?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-blue-500/30":"hover:bg-white/80 text-gray-700 hover:shadow-md"}`,children:[r.jsx("span",{className:"text-xl mr-3",children:z.icon}),r.jsx("span",{className:"group-hover:translate-x-1 inline-block transition-transform",children:z.label})]})},z.id))})]}),r.jsxs("main",{className:"flex-1 p-8 overflow-y-auto",children:[Qt(),C==="dashboard"&&r.jsxs("div",{className:"mt-8",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h3",{className:"text-2xl font-bold",children:"ðŸ“Œ Admin Posts"}),r.jsx("button",{onClick:()=>re(),className:"bg-indigo-500 text-white py-2 px-4 rounded-md hover:bg-indigo-600",children:"âž• Create Post"})]}),r.jsx("div",{className:"space-y-4",children:We.length>0?We.map(z=>r.jsxs("div",{className:`bg-white p-6 rounded-lg shadow border ${z.isPinned?"border-yellow-400 bg-yellow-50":"border-gray-200"}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[z.poster?.avatar?r.jsx("img",{src:z.poster.avatar,alt:z.poster.name,className:"w-10 h-10 rounded-full object-cover"}):r.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-200 flex items-center justify-center text-sm font-bold",children:z.poster?.name?.[0]||"A"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-800",children:z.poster?.name||"Admin"}),r.jsx("p",{className:"text-xs text-gray-500",children:z.timestamp?new Date(z.timestamp).toLocaleDateString():"Recently"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[z.isPinned&&r.jsx("span",{className:"text-yellow-600 text-sm font-bold",children:"ðŸ“Œ Pinned"}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${z.visibility==="public"?"bg-green-100 text-green-800":z.visibility==="students"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:z.visibility==="public"?"ðŸŒ Public":z.visibility==="students"?"ðŸ‘¥ Students":"ðŸ”’ Private"}),r.jsxs("div",{className:"relative",children:[r.jsx("button",{onClick:()=>ae(Pe===z.id?null:z.id),className:"text-gray-600 hover:text-gray-800 p-1",children:"â‹®"}),Pe===z.id&&r.jsxs("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded shadow-lg z-10 border",children:[r.jsx("button",{onClick:()=>{$e(z),ae(null)},className:"block w-full text-left px-4 py-2 hover:bg-blue-50 border-b",children:"âœï¸ Edit"}),r.jsx("button",{onClick:()=>{he(z.id),ae(null)},className:"block w-full text-left px-4 py-2 hover:bg-yellow-50 border-b",children:z.isPinned?"ðŸ“ Unpin":"ðŸ“Œ Pin"}),r.jsx("button",{onClick:()=>{G(z.id,z.title),ae(null)},className:"block w-full text-left px-4 py-2 hover:bg-red-50 text-red-600",children:"ðŸ—‘ï¸ Delete"})]})]})]})]}),r.jsx("h4",{className:"font-bold text-gray-900 mb-2 text-lg",children:z.title}),r.jsx("p",{className:"text-gray-700 mb-3",children:z.description}),z.image&&r.jsx("img",{src:z.image,alt:"post",className:"w-full h-48 object-cover rounded mb-3"}),z.video&&r.jsx("video",{src:z.video,controls:!0,className:"w-full h-48 rounded mb-3"}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 border-t pt-4",children:[r.jsxs("button",{onClick:()=>f&&f(z.id,m?.email||m?.id),className:"hover:text-green-600 flex items-center gap-1",children:["ðŸ‘ ",r.jsx("span",{children:z.likes||0})]}),r.jsxs("button",{onClick:()=>c&&c(z.id,m?.email||m?.id),className:"hover:text-yellow-500 flex items-center gap-1",children:[(z.favoritedBy||[]).includes(m?.email||m?.id)?"â˜…":"â˜†"," ",r.jsx("span",{children:z.favorites||0})]}),r.jsxs("button",{className:"hover:text-gray-800 flex items-center gap-1",children:["ðŸ’¬ ",r.jsx("span",{children:(z.comments||[]).length})]})]})]},z.id)):r.jsx("div",{className:"bg-white p-6 rounded-lg shadow border text-gray-600 text-center",children:r.jsx("p",{children:'No posts yet. Click "Create Post" to get started.'})})})]})]})]}),W&&r.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",onClick:N,children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-lg max-h-[90vh] overflow-y-auto",onClick:z=>z.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between mb-6 border-b pb-4",children:[r.jsx("h2",{className:"text-2xl font-bold",children:pe?"âœï¸ Edit Post":"ðŸ“¢ Create Post"}),r.jsx("button",{onClick:N,className:"w-8 h-8 rounded-full bg-gray-100 hover:bg-gray-200",children:"âœ•"})]}),r.jsxs("form",{className:"space-y-4",onSubmit:ve,children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),r.jsx("input",{type:"text",value:ee.title,onChange:z=>ue(fe=>({...fe,title:z.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md p-2",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Message"}),r.jsx("textarea",{rows:"4",value:ee.description,onChange:z=>ue(fe=>({...fe,description:z.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md p-2",required:!0})]}),r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ðŸ“· Image"}),r.jsx("input",{ref:B,type:"file",accept:"image/*",onChange:M,className:"hidden"}),ee.imagePreview?r.jsxs("div",{className:"space-y-2",children:[r.jsx("img",{src:ee.imagePreview,alt:"preview",className:"w-full h-48 object-cover rounded"}),r.jsx("button",{type:"button",onClick:Q,className:"w-full bg-red-500 text-white py-2 rounded hover:bg-red-600",children:"ðŸ—‘ï¸ Remove Image"})]}):r.jsxs("button",{type:"button",onClick:()=>B.current?.click(),className:"w-full border-2 border-dashed border-indigo-300 rounded-lg p-4 text-center hover:bg-indigo-50",children:[r.jsx("div",{className:"text-indigo-600 font-medium",children:"Click to browse or drag image"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Max 5MB"})]})]}),r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ðŸŽ¬ Video"}),r.jsx("input",{ref:q,type:"file",accept:"video/*",onChange:O,className:"hidden"}),ee.videoPreview?r.jsxs("div",{className:"space-y-2",children:[r.jsx("video",{src:ee.videoPreview,controls:!0,className:"w-full h-48 rounded"}),r.jsx("button",{type:"button",onClick:Y,className:"w-full bg-red-500 text-white py-2 rounded hover:bg-red-600",children:"ðŸ—‘ï¸ Remove Video"})]}):r.jsxs("button",{type:"button",onClick:()=>q.current?.click(),className:"w-full border-2 border-dashed border-indigo-300 rounded-lg p-4 text-center hover:bg-indigo-50",children:[r.jsx("div",{className:"text-indigo-600 font-medium",children:"Click to browse or drag video"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Max 50MB"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Visibility"}),r.jsxs("select",{value:ee.visibility,onChange:z=>ue(fe=>({...fe,visibility:z.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md p-2",children:[r.jsx("option",{value:"public",children:"Public"}),r.jsx("option",{value:"students",children:"Students Only"}),r.jsx("option",{value:"private",children:"Private"})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs("label",{className:"flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:ee.isPinned,onChange:z=>ue(fe=>({...fe,isPinned:z.target.checked})),className:"w-4 h-4 rounded"}),r.jsx("span",{className:"ml-2 text-sm font-medium",children:"ðŸ“Œ Pin"})]})})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:N,className:"flex-1 bg-gray-500 text-white py-2 rounded hover:bg-gray-600",children:"Cancel"}),r.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 rounded hover:bg-blue-700",children:pe?"Update":"Publish"})]})]})]})}),oe&&r.jsx("div",{className:"fixed bottom-6 right-6 bg-gradient-to-r from-gray-800 to-gray-900 text-white px-6 py-4 rounded-xl shadow-2xl z-50 transform transition-all animate-slide-in-bottom border-l-4 border-green-400",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:"âœ…"}),r.jsx("span",{className:"font-medium",children:oe})]})})]})}const Ma=g.createContext(null),Tc="ppc_assignments_v1",ip=[{id:1001,classId:"c201",title:"Build a React Counter Component",description:"Create a functional React component that increments and decrements a counter. Include state management and event handlers.",dueDate:"2026-01-15",points:100,submissions:[]},{id:1002,classId:"c201",title:"React Hooks Deep Dive",description:"Explain useState, useEffect, and useContext hooks with code examples. Write a 500-word response.",dueDate:"2026-01-20",points:50,submissions:[]},{id:1003,classId:"c202",title:"Essay: Industrial Revolution Impact",description:"Write a 1500-word essay discussing the social, economic, and political impacts of the Industrial Revolution.",dueDate:"2026-01-18",points:100,submissions:[]}];function ap({children:i,initial:a=[]}){const[o,c]=g.useState(()=>{try{const S=localStorage.getItem(Tc);if(S)return JSON.parse(S)}catch(S){console.warn("Assignments load failed",S)}return a.length>0?a:ip});g.useEffect(()=>{try{localStorage.setItem(Tc,JSON.stringify(o))}catch(S){console.warn("Assignments save failed",S)}},[o]);const p={assignments:o,setAssignments:c,addAssignment:S=>{const y=Date.now(),k={...S,id:y,submissions:[]};return c(A=>[k,...A]),k},updateAssignment:(S,y)=>{c(k=>k.map(A=>A.id===S?{...A,...y}:A))},deleteAssignment:S=>{c(y=>y.filter(k=>k.id!==S))},submitAssignment:(S,y)=>(c(k=>k.map(A=>{if(A.id!==S)return A;const W={id:Date.now(),timestamp:new Date().toISOString(),...y};return{...A,submissions:[...A.submissions||[],W]}})),!0),getStudentSubmission:(S,y)=>{const k=o.find(A=>A.id===S);return k?(k.submissions||[]).find(A=>A.studentEmail===y):null}};return r.jsx(Ma.Provider,{value:p,children:i})}function op(){const[i,a]=g.useState(!1),{signOut:o,user:c}=g.useContext(nt)||{},{posts:f=[],addPost:m,toggleLike:h,toggleFavorite:j}=g.useContext(Mt)||{},{assignments:v=[],addAssignment:p,updateAssignment:S,deleteAssignment:y}=g.useContext(Ma)||{},{classes:k=[]}=g.useContext(jr)||{},A=In(),[W,w]=g.useState("dashboard"),[C,D]=g.useState(""),[L,T]=g.useState([]),se=k.filter(U=>U.teacherId===c?.email),[de,oe]=g.useState(null),[me,xe]=g.useState(!1),[ye,pe]=g.useState(null),[ze,Se]=g.useState([]),[ke,Pe]=g.useState(null),[ae,ee]=g.useState({title:"",description:"",image:"",imagePreview:"",video:"",videoPreview:"",visibility:"public",isPinned:!1}),ue=bl.useRef(null),B=bl.useRef(null),[q,I]=g.useState(""),N=U=>{I(U),setTimeout(()=>I(""),3e3)},M=U=>{U.id?(S(U.id,U),N(`Assignment '${U.title}' updated successfully!`)):(p(U),N(`New Assignment '${U.title}' posted!`)),oe(null),w("assignments")},O=(U,K)=>{window.confirm(`Are you sure you want to delete the assignment: '${K}'?`)&&(y(U),N(`Assignment '${K}' deleted.`))},Q=()=>{xe(!1),pe(null),ee({title:"",description:"",image:"",imagePreview:"",video:"",videoPreview:"",visibility:"public",isPinned:!1}),ue.current&&(ue.current.value=""),B.current&&(B.current.value="")},Y=(U=null)=>{U?(pe(U.id),ee({title:U.title,description:U.description,image:U.image||"",imagePreview:U.image||"",video:U.video||"",videoPreview:U.video||"",visibility:U.visibility||"public",isPinned:U.isPinned||!1})):(pe(null),ee({title:"",description:"",image:"",imagePreview:"",video:"",videoPreview:"",visibility:"public",isPinned:!1})),xe(!0)},re=U=>{const K=U.target.files?.[0];if(K){if(K.size>5*1024*1024){alert("Image size must be less than 5MB");return}if(!K.type.startsWith("image/")){alert("Please select a valid image file");return}const Ne=new FileReader;Ne.onload=He=>{ee(qe=>({...qe,image:K.name,imagePreview:He.target?.result}))},Ne.readAsDataURL(K)}},ve=U=>{const K=U.target.files?.[0];if(K){if(K.size>50*1024*1024){alert("Video size must be less than 50MB");return}if(!K.type.startsWith("video/")){alert("Please select a valid video file");return}const Ne=new FileReader;Ne.onload=He=>{ee(qe=>({...qe,video:K.name,videoPreview:He.target?.result}))},Ne.readAsDataURL(K)}},G=()=>{ee(U=>({...U,image:"",imagePreview:""})),ue.current&&(ue.current.value="")},he=()=>{ee(U=>({...U,video:"",videoPreview:""})),B.current&&(B.current.value="")},$e=U=>{if(U.preventDefault(),!ae.title||!ae.description){alert("Please enter both title and description.");return}if(ye)Se(K=>K.map(Ne=>Ne.id===ye?{...Ne,title:ae.title,description:ae.description,image:ae.imagePreview||ae.image,video:ae.videoPreview||ae.video,visibility:ae.visibility,isPinned:ae.isPinned,updatedAt:new Date().toISOString()}:Ne)),N(`Post "${ae.title}" updated successfully!`);else{const K={id:Date.now(),title:ae.title,description:ae.description,timestamp:new Date().toISOString(),updatedAt:new Date().toISOString(),poster:{id:c?.email||c?.id,name:c?.name||"Teacher",avatar:c?.profileImage},image:ae.imagePreview||null,video:ae.videoPreview||null,visibility:ae.visibility,isPinned:ae.isPinned,likes:0,favorites:0,comments:[]};Se(Ne=>[K,...Ne]),m&&m(K),N(`Post "${ae.title}" created successfully!`)}Q()},We=(U,K)=>{window.confirm(`Delete post "${K}"?`)&&(Se(Ne=>Ne.filter(He=>He.id!==U)),N(`Post "${K}" deleted successfully!`))},ln=U=>{Se(K=>K.map(Ne=>Ne.id===U?{...Ne,isPinned:!Ne.isPinned}:Ne))},an=U=>{Y(U)},Qt=[...ze].sort((U,K)=>U.isPinned!==K.isPinned?K.isPinned-U.isPinned:new Date(K.timestamp)-new Date(U.timestamp)),z=()=>r.jsx(ld,{userRole:"teacher"}),fe=()=>{const U=v.filter(K=>se.some(Ne=>Ne.id===K.classId));return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"ðŸ“‹ Assignment Management"}),r.jsx("button",{onClick:()=>{w("postAssignment"),oe(null)},className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition font-semibold",children:"âž• Create New Assignment"})]}),U.length>0?r.jsx("div",{className:"grid grid-cols-1 gap-4",children:U.map(K=>r.jsx("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:K.title}),r.jsx("p",{className:"text-gray-700 mb-3",children:K.description}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold text-gray-600",children:"Class:"}),r.jsx("div",{className:"text-gray-700",children:getClassName(K.classId)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold text-gray-600",children:"Due Date:"}),r.jsx("div",{className:"text-gray-700",children:new Date(K.dueDate).toLocaleDateString()})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold text-gray-600",children:"Points:"}),r.jsx("div",{className:"text-gray-700",children:K.points})]})]})]}),r.jsxs("div",{className:"flex gap-2 ml-4",children:[r.jsx("button",{onClick:()=>{oe(K),w("postAssignment")},className:"bg-blue-500 text-white px-3 py-2 rounded hover:bg-blue-600 transition text-sm",title:"Edit assignment",children:"âœï¸ Edit"}),r.jsx("button",{onClick:()=>O(K.id,K.title),className:"bg-red-500 text-white px-3 py-2 rounded hover:bg-red-600 transition text-sm",title:"Delete assignment",children:"ðŸ—‘ï¸ Delete"})]})]})},K.id))}):r.jsxs("div",{className:"bg-white p-8 rounded-lg shadow border text-center text-gray-600",children:[r.jsx("p",{className:"text-lg mb-4",children:"ðŸ“­ No assignments yet"}),r.jsx("p",{children:"Create an assignment to get started."})]})]})},Ee=({onSubmit:U,initialData:K})=>{const Ne=!!K,He=se.filter(be=>be.teacherId===c?.id),[qe,Qn]=g.useState({title:K?.title||"",description:K?.description||"",classId:K?.classId||(He.length>0?He[0].id:""),dueDate:K?.dueDate||"",points:K?.points||100,id:K?.id||null}),Tt=be=>{const{name:kt,value:Ot,type:Rl}=be.target;Qn(cs=>({...cs,[kt]:Rl==="number"?Number(Ot):Ot}))},un=be=>{if(be.preventDefault(),!He.find(kt=>kt.id===qe.classId)){alert("Please select a valid class");return}U(qe)};return r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[r.jsx("h2",{className:"text-2xl font-bold mb-6 text-green-700",children:Ne?"âœï¸ Edit Assignment":"âž• Post New Assignment"}),r.jsxs("form",{onSubmit:un,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),r.jsx("input",{type:"text",name:"title",value:qe.title,onChange:Tt,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Assign to Class"}),He.length>0?r.jsx("select",{name:"classId",value:qe.classId,onChange:Tt,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",children:He.map(be=>r.jsxs("option",{value:be.id,children:[be.className," (",be.subject,")"]},be.id))}):r.jsx("div",{className:"mt-1 p-3 bg-yellow-50 border border-yellow-300 rounded text-sm text-yellow-800",children:'ðŸ“š No classes found. Create a class first in "My Classes" section.'})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),r.jsx("textarea",{name:"description",value:qe.description,onChange:Tt,rows:"3",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Due Date"}),r.jsx("input",{type:"date",name:"dueDate",value:qe.dueDate,onChange:Tt,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total Points"}),r.jsx("input",{type:"number",name:"points",value:qe.points,onChange:Tt,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"})]})]}),r.jsxs("div",{className:"flex justify-between pt-4",children:[r.jsx("button",{type:"button",onClick:()=>{w("assignments"),oe(null)},className:"bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600 transition",children:"Cancel"}),r.jsx("button",{type:"submit",className:"bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition",children:Ne?"Save Changes":"Post Assignment"})]})]})]})},vt=()=>{switch(W){case"dashboard":return r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Dashboard Overview"});case"classes":return r.jsx(z,{});case"assignments":return r.jsx(fe,{});case"postAssignment":return r.jsx(Ee,{onSubmit:M,initialData:de});case"grades":return r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Grade Management"});default:return r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Dashboard"})}},Ct=U=>{const K=U.target.value.toLowerCase();if(D(K),!K.trim()){T([]);return}const Ne=[{name:"Dashboard Overview",section:"dashboard",type:"menu"},{name:"My Classes",section:"classes",type:"menu"},{name:"Assignments",section:"assignments",type:"menu"},{name:"Grade Management",section:"grades",type:"menu"}],He=se.map(be=>({name:be.name,description:`Course Code: ${be.courseCode} | Schedule: ${be.schedule}`,section:"classes",type:"class",classId:be.id})),qe=v.map(be=>({name:`Assignment: ${be.title}`,description:`For: ${getClassName(be.classId)} | Due: ${be.dueDate}`,section:"assignments",type:"assignment",assignmentId:be.id})),Qn=Qt.map(be=>({name:be.title,description:be.description,section:"dashboard",type:"post",postId:be.id})),un=[...Ne,...Qn,...He,...qe].filter(be=>{const kt=be.name.toLowerCase(),Ot=(be.description||"").toLowerCase();return kt.includes(K)||Ot.includes(K)});T(un)},on=(U,K,Ne)=>{w(K==="class"?"classes":K==="assignment"?"assignments":U),D(""),T([])};return r.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-emerald-50 via-teal-50 to-cyan-50",children:[r.jsxs("nav",{className:"bg-white/80 backdrop-blur-md border-b border-gray-200/50 px-8 py-4 flex items-center justify-between shadow-sm sticky top-0 z-50",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-600 to-teal-700 rounded-xl flex items-center justify-center shadow-lg transform hover:scale-105 transition-transform",children:r.jsx("span",{className:"text-2xl",children:"ðŸŽ“"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent",children:"PPC Teacher"}),r.jsx("div",{className:"text-xs text-gray-500 font-medium",children:"Teaching Portal"})]})]}),r.jsxs("div",{className:"relative w-64",children:[r.jsx("input",{type:"text",placeholder:"Search classes, posts...",value:C,onChange:Ct,className:"w-full px-4 py-2 rounded text-gray-800"}),L.length>0&&r.jsx("div",{className:"absolute top-full left-0 w-full bg-white text-gray-800 rounded shadow-lg mt-1 z-50 max-h-96 overflow-y-auto",children:L.map((U,K)=>r.jsxs("button",{onClick:()=>on(U.section,U.type,U.classId||U.assignmentId),className:"w-full text-left px-4 py-2 hover:bg-green-100 border-b last:border-b-0",children:[r.jsx("div",{className:"font-semibold text-sm",children:U.name}),U.type==="post"&&r.jsx("div",{className:"text-xs text-gray-600 truncate",children:U.description}),U.type==="class"&&r.jsxs("div",{className:"text-xs text-green-500",children:["Class: ",U.description.split("|")[0].trim()]}),U.type==="assignment"&&r.jsx("div",{className:"text-xs text-indigo-500",children:U.description}),U.type==="menu"&&r.jsx("div",{className:"text-xs text-gray-500",children:"Menu"})]},K))})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>Y(),className:tp,title:"Create a new post",children:"âž• Create Post"}),r.jsx(El,{to:"/userHome",className:"bg-indigo-500 hover:bg-indigo-600 text-white px-4 py-2 rounded transition font-semibold",title:"Go to Home Dashboard",children:"ðŸ  Home"}),r.jsx("button",{onClick:()=>A("/profile"),title:"My Profile",className:"w-10 h-10 rounded-full overflow-hidden bg-gray-200 flex items-center justify-center",children:c&&c.profileImage?r.jsx("img",{src:c.profileImage,alt:"profile",className:"w-full h-full object-cover"}):r.jsx("span",{className:"text-sm",children:c&&(c.name||c.email)?(c.name||c.email)[0]:"T"})}),r.jsxs("div",{className:"relative",children:[r.jsx("button",{onClick:()=>a(!i),className:"px-4 py-2 rounded hover:bg-green-700 transition",children:"Menu â–¼"}),i&&r.jsxs("div",{className:"absolute right-0 mt-2 w-40 bg-white text-gray-800 rounded shadow-lg z-10",children:[r.jsx("button",{className:"block w-full text-left px-4 py-2 hover:bg-gray-100",children:"âš™ï¸ Settings"}),r.jsx("button",{className:"block w-full text-left px-4 py-2 hover:bg-gray-100 border-t",onClick:()=>{a(!1),o&&o(),A("/")},children:"ðŸšª Logout"})]})]})]})]}),r.jsxs("div",{className:"flex flex-1",children:[r.jsxs("aside",{className:"w-72 bg-white/50 backdrop-blur-sm border-r border-gray-200/50 p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-xs uppercase font-bold text-gray-400 tracking-wider mb-1",children:"Navigation"}),r.jsx("div",{className:"h-1 w-12 bg-gradient-to-r from-emerald-600 to-teal-600 rounded-full"})]}),r.jsxs("ul",{className:"space-y-2",children:[r.jsx("li",{children:r.jsxs("button",{onClick:()=>{w("dashboard"),oe(null)},className:`w-full text-left px-5 py-3.5 rounded-xl transition-all font-medium group ${W==="dashboard"?"bg-gradient-to-r from-emerald-600 to-teal-600 text-white shadow-lg shadow-emerald-500/30":"hover:bg-white/80 text-gray-700 hover:shadow-md"}`,children:[r.jsx("span",{className:"text-xl mr-3",children:"ðŸ“Š"}),r.jsx("span",{className:"group-hover:translate-x-1 inline-block transition-transform",children:"Dashboard"})]})}),r.jsx("li",{children:r.jsxs("button",{onClick:()=>{w("classes"),oe(null)},className:`w-full text-left px-5 py-3.5 rounded-xl transition-all font-medium group ${W==="classes"?"bg-gradient-to-r from-emerald-600 to-teal-600 text-white shadow-lg shadow-emerald-500/30":"hover:bg-white/80 text-gray-700 hover:shadow-md"}`,children:[r.jsx("span",{className:"text-xl mr-3",children:"ðŸ“š"}),r.jsx("span",{className:"group-hover:translate-x-1 inline-block transition-transform",children:"My Classes"})]})}),r.jsx("li",{children:r.jsxs("button",{onClick:()=>{w("assignments"),oe(null)},className:`w-full text-left px-5 py-3.5 rounded-xl transition-all font-medium group ${W==="assignments"||W==="postAssignment"?"bg-gradient-to-r from-emerald-600 to-teal-600 text-white shadow-lg shadow-emerald-500/30":"hover:bg-white/80 text-gray-700 hover:shadow-md"}`,children:[r.jsx("span",{className:"text-xl mr-3",children:"âœï¸"}),r.jsx("span",{className:"group-hover:translate-x-1 inline-block transition-transform",children:"Assignments"})]})}),r.jsx("li",{children:r.jsxs("button",{onClick:()=>{w("grades"),oe(null)},className:`w-full text-left px-5 py-3.5 rounded-xl transition-all font-medium group ${W==="grades"?"bg-gradient-to-r from-emerald-600 to-teal-600 text-white shadow-lg shadow-emerald-500/30":"hover:bg-white/80 text-gray-700 hover:shadow-md"}`,children:[r.jsx("span",{className:"text-xl mr-3",children:"ðŸ“"}),r.jsx("span",{className:"group-hover:translate-x-1 inline-block transition-transform",children:"Grades"})]})})]})]}),r.jsxs("main",{className:"flex-1 p-8",children:[vt(),W==="dashboard"&&r.jsxs("div",{className:"mt-8",children:[r.jsx("div",{className:"flex items-center mb-6",children:r.jsx("h3",{className:"text-2xl font-bold",children:"ðŸ“Œ My Posts"})}),r.jsx("div",{className:"space-y-4",children:Qt.length>0?Qt.map(U=>r.jsxs("div",{className:`bg-white p-6 rounded-lg shadow border transition ${U.isPinned?"border-yellow-400 bg-yellow-50":"border-gray-200"}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("button",{onClick:()=>A(`/profile/${U.poster?.email||U.poster?.id}`),className:"flex items-center gap-3 hover:opacity-80 cursor-pointer text-left",children:[U.poster?.avatar?r.jsx("img",{src:U.poster.avatar,alt:U.poster.name,className:"w-10 h-10 rounded-full object-cover"}):r.jsx("div",{className:"w-10 h-10 rounded-full bg-green-200 flex items-center justify-center text-sm font-bold",children:U.poster?.name?.[0]||"T"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-blue-600 hover:text-blue-800",children:U.poster?.name||"Teacher"}),r.jsx("p",{className:"text-xs text-gray-500",children:U.timestamp?new Date(U.timestamp).toLocaleDateString():"Recently"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[U.isPinned&&r.jsx("span",{className:"text-yellow-600 text-sm font-bold",children:"ðŸ“Œ Pinned"}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${U.visibility==="public"?"bg-green-100 text-green-800":U.visibility==="students"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:U.visibility==="public"?"ðŸŒ Public":U.visibility==="students"?"ðŸ‘¥ Students":"ðŸ”’ Private"}),r.jsxs("div",{className:"relative",children:[r.jsx("button",{onClick:()=>Pe(ke===U.id?null:U.id),className:"text-gray-600 hover:text-gray-800 p-1",children:"â‹®"}),ke===U.id&&r.jsxs("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded shadow-lg z-10 border",children:[r.jsx("button",{onClick:()=>{an(U),Pe(null)},className:"block w-full text-left px-4 py-2 hover:bg-blue-50 border-b",children:"âœï¸ Edit"}),r.jsx("button",{onClick:()=>{ln(U.id),Pe(null)},className:"block w-full text-left px-4 py-2 hover:bg-yellow-50 border-b",children:U.isPinned?"ðŸ“ Unpin":"ðŸ“Œ Pin"}),r.jsx("button",{onClick:()=>{We(U.id,U.title),Pe(null)},className:"block w-full text-left px-4 py-2 hover:bg-red-50 text-red-600",children:"ðŸ—‘ï¸ Delete"})]})]})]})]}),r.jsx("h4",{className:"font-bold text-gray-900 mb-2 text-lg",children:U.title}),r.jsx("p",{className:"text-gray-700 mb-3",children:U.description}),U.image&&r.jsx("img",{src:U.image,alt:"post",className:"w-full h-48 object-cover rounded mb-3"}),U.video&&r.jsx("video",{src:U.video,controls:!0,className:"w-full h-48 rounded mb-3"}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 border-t pt-4",children:[r.jsxs("button",{onClick:()=>h&&h(U.id,c?.id||c?.email),className:"hover:text-green-600 flex items-center gap-1",children:["ðŸ‘ ",r.jsx("span",{children:U.likes||0})]}),r.jsxs("button",{onClick:()=>j&&j(U.id,c?.id||c?.email),className:"hover:text-yellow-500 flex items-center gap-1",children:[(U.favoritedBy||[]).includes(c?.id||c?.email)?"â˜…":"â˜†"," ",r.jsx("span",{children:U.favorites||0})]}),r.jsxs("button",{className:"hover:text-gray-800 flex items-center gap-1",children:["ðŸ’¬ ",r.jsx("span",{children:(U.comments||[]).length})]})]})]},U.id)):r.jsx("div",{className:"bg-white p-6 rounded-lg shadow border text-gray-600 text-center",children:r.jsx("p",{children:'No posts yet. Click "Create Post" button in the navbar to share an announcement.'})})})]})]})]}),me&&r.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",onClick:Q,children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-lg max-h-[90vh] overflow-y-auto",onClick:U=>U.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between mb-6 border-b pb-4",children:[r.jsx("h2",{className:"text-2xl font-bold",children:ye?"âœï¸ Edit Post":"ðŸ“¢ Create Post"}),r.jsx("button",{onClick:Q,className:"w-8 h-8 rounded-full bg-gray-100 hover:bg-gray-200",children:"âœ•"})]}),r.jsxs("form",{className:"space-y-4",onSubmit:$e,children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),r.jsx("input",{type:"text",value:ae.title,onChange:U=>ee(K=>({...K,title:U.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md p-2",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Message"}),r.jsx("textarea",{rows:"4",value:ae.description,onChange:U=>ee(K=>({...K,description:U.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md p-2",required:!0})]}),r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ðŸ“· Image"}),r.jsx("input",{ref:ue,type:"file",accept:"image/*",onChange:re,className:"hidden"}),ae.imagePreview?r.jsxs("div",{className:"space-y-2",children:[r.jsx("img",{src:ae.imagePreview,alt:"preview",className:"w-full h-48 object-cover rounded"}),r.jsx("button",{type:"button",onClick:G,className:"w-full bg-red-500 text-white py-2 rounded hover:bg-red-600",children:"ðŸ—‘ï¸ Remove Image"})]}):r.jsxs("button",{type:"button",onClick:()=>ue.current?.click(),className:"w-full border-2 border-dashed border-indigo-300 rounded-lg p-4 text-center hover:bg-indigo-50",children:[r.jsx("div",{className:"text-indigo-600 font-medium",children:"Click to browse or drag image"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Max 5MB"})]})]}),r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ðŸŽ¬ Video"}),r.jsx("input",{ref:B,type:"file",accept:"video/*",onChange:ve,className:"hidden"}),ae.videoPreview?r.jsxs("div",{className:"space-y-2",children:[r.jsx("video",{src:ae.videoPreview,controls:!0,className:"w-full h-48 rounded"}),r.jsx("button",{type:"button",onClick:he,className:"w-full bg-red-500 text-white py-2 rounded hover:bg-red-600",children:"ðŸ—‘ï¸ Remove Video"})]}):r.jsxs("button",{type:"button",onClick:()=>B.current?.click(),className:"w-full border-2 border-dashed border-indigo-300 rounded-lg p-4 text-center hover:bg-indigo-50",children:[r.jsx("div",{className:"text-indigo-600 font-medium",children:"Click to browse or drag video"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Max 50MB"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Visibility"}),r.jsxs("select",{value:ae.visibility,onChange:U=>ee(K=>({...K,visibility:U.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md p-2",children:[r.jsx("option",{value:"public",children:"Public"}),r.jsx("option",{value:"students",children:"Students Only"}),r.jsx("option",{value:"private",children:"Private"})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs("label",{className:"flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:ae.isPinned,onChange:U=>ee(K=>({...K,isPinned:U.target.checked})),className:"w-4 h-4 rounded"}),r.jsx("span",{className:"ml-2 text-sm font-medium",children:"ðŸ“Œ Pin"})]})})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:Q,className:"flex-1 bg-gray-500 text-white py-2 rounded hover:bg-gray-600",children:"Cancel"}),r.jsx("button",{type:"submit",className:"flex-1 bg-indigo-600 text-white py-2 rounded hover:bg-indigo-700",children:ye?"Update Post":"Publish Post"})]})]})]})}),q&&r.jsxs("div",{className:"fixed bottom-6 right-6 bg-gray-800 text-white px-6 py-4 rounded-lg shadow-2xl z-50 flex items-center gap-3",children:[r.jsx("span",{className:"text-green-400",children:"âœ“"}),r.jsx("span",{className:"font-medium",children:q})]})]})}function up(){const[i,a]=g.useState(!1),{signOut:o}=g.useContext(nt)||{},c=In(),[f,m]=g.useState("dashboard"),[h,j]=g.useState(""),[v,p]=g.useState([]),{user:S}=g.useContext(nt)||{},{classes:y}=g.useContext(jr)||{classes:[]},{posts:k=[],toggleFavorite:A}=g.useContext(Mt)||{},{assignments:W=[],submitAssignment:w,getStudentSubmission:C}=g.useContext(Ma)||{},[D,L]=g.useState(null),[T,se]=g.useState({answer:"",file:null,filePreview:""}),[de,oe]=g.useState(""),me=bl.useRef(null),xe=I=>{oe(I),setTimeout(()=>oe(""),3e3)},ye=(y||[]).filter(I=>{if(!S?.email)return!1;const N=(I.studentList||[]).includes(S.email),M=!!I.teacherId;return N||M}),pe=S?.id||S?.email,ze=k.filter(I=>I.poster?.id===pe||I.poster?.email===pe||I.poster===pe),Se=()=>{switch(f){case"dashboard":return r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Dashboard Overview"});case"courses":return r.jsx(ld,{userRole:"student"});case"assignments":return r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold mb-6",children:"ðŸ“š My Assignments"}),ye.length>0?(()=>{const I=W.filter(N=>ye.some(M=>M.id===N.classId));return I.length>0?r.jsx("div",{className:"space-y-4",children:I.map(N=>{const M=ye.find(Y=>Y.id===N.classId),O=new Date(N.dueDate),Q=O<new Date;return r.jsx("div",{className:`bg-white p-6 rounded-lg shadow border ${Q?"border-red-300 bg-red-50":"border-gray-200"}`,children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:N.title}),r.jsx("p",{className:"text-gray-700 mb-4",children:N.description}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mb-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold text-gray-600",children:"Class:"}),r.jsx("div",{className:"text-gray-700",children:M?.className||"Unknown"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold text-gray-600",children:"Due Date:"}),r.jsx("div",{className:`${Q?"text-red-600 font-bold":"text-gray-700"}`,children:O.toLocaleDateString()})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold text-gray-600",children:"Points:"}),r.jsx("div",{className:"text-gray-700",children:N.points})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold text-gray-600",children:"Status:"}),r.jsx("div",{className:`${Q?"text-red-600":"text-green-600"} font-semibold`,children:Q?"â° Overdue":"âœ“ Open"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>ae(N),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-semibold transition",children:["ðŸ“¤ ",C?.(N.id,S?.email)?"Update Submission":"Submit"]}),C?.(N.id,S?.email)&&r.jsx("span",{className:"bg-green-100 text-green-700 px-4 py-2 rounded-lg font-semibold",children:"âœ… Submitted"})]})]})})},N.id)})}):r.jsx("div",{className:"bg-white p-8 rounded-lg shadow border text-center text-gray-600",children:r.jsx("p",{className:"text-lg",children:"ðŸ“­ No assignments for your classes yet"})})})():r.jsxs("div",{className:"bg-white p-8 rounded-lg shadow border text-center text-gray-600",children:[r.jsx("p",{className:"text-lg",children:"No assigned classes"}),r.jsx("p",{className:"text-sm mt-2",children:"Enroll in courses to see assignments"})]})]});case"grades":return r.jsx("h2",{className:"text-xl font-bold mb-4",children:"My Grades"});default:return r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Dashboard"})}},ke=I=>{const N=I.target.value.toLowerCase();if(j(N),!N.trim()){p([]);return}const O=[{name:"Dashboard Overview",section:"dashboard",type:"menu"},{name:"My Courses",section:"courses",type:"menu"},{name:"Assignments",section:"assignments",type:"menu"},{name:"My Grades",section:"grades",type:"menu"},...ye.map(Q=>({name:`${Q.className} (${Q.subject})`,section:"courses",type:"course",details:Q})),...k.map(Q=>({name:Q.title,description:Q.description,section:"dashboard",type:"post",postId:Q.id}))].filter(Q=>{const Y=Q.name.toLowerCase(),re=(Q.description||"").toLowerCase();return Y.includes(N)||re.includes(N)});p(O)},Pe=(I,N)=>{m(I),j(""),p([])},ae=I=>{const N=C(I.id,S?.email);L(I),se({answer:N?.answer||"",file:null,filePreview:N?.file||""})},ee=()=>{L(null),se({answer:"",file:null,filePreview:""}),me.current&&(me.current.value="")},ue=I=>{const N=I.target.files?.[0];if(N){if(N.size>10*1024*1024){xe("âš ï¸ File size must be less than 10MB");return}const M=new FileReader;M.onload=O=>{se(Q=>({...Q,file:N.name,filePreview:O.target?.result}))},M.readAsDataURL(N)}},B=()=>{se(I=>({...I,file:null,filePreview:""})),me.current&&(me.current.value="")},q=I=>{if(I.preventDefault(),!T.answer.trim()&&!T.file){xe("âš ï¸ Please provide an answer or upload a file");return}w&&(w(D.id,{studentEmail:S?.email,studentName:S?.name||S?.email,answer:T.answer.trim(),file:T.filePreview||null,fileName:T.file||null}),xe("âœ… Assignment submitted successfully!"),ee())};return r.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-purple-50 via-pink-50 to-rose-50",children:[r.jsxs("nav",{className:"bg-white/80 backdrop-blur-md border-b border-gray-200/50 px-8 py-4 flex items-center justify-between shadow-sm sticky top-0 z-50",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-600 to-pink-600 rounded-xl flex items-center justify-center shadow-lg transform hover:scale-105 transition-transform",children:r.jsx("span",{className:"text-2xl",children:"ðŸŽ“"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"PPC Student"}),r.jsx("div",{className:"text-xs text-gray-500 font-medium",children:"Learning Portal"})]})]}),r.jsxs("div",{className:"relative w-64",children:[r.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),r.jsx("input",{type:"text",placeholder:"Search courses, assignments...",value:h,onChange:ke,className:"w-full pl-10 pr-4 py-3 rounded-xl bg-gray-50 text-gray-800 border border-gray-200 focus:border-purple-500 focus:ring-4 focus:ring-purple-100 outline-none transition-all"}),v.length>0&&r.jsx("div",{className:"absolute top-full left-0 w-full bg-white text-gray-800 rounded shadow-lg mt-1 z-50 max-h-64 overflow-y-auto",children:v.map((I,N)=>r.jsxs("button",{onClick:()=>Pe(I.section,I.type),className:"w-full text-left px-4 py-2 hover:bg-purple-100 border-b last:border-b-0 text-sm",children:[r.jsx("div",{className:"font-semibold",children:I.name}),I.type==="post"&&r.jsx("div",{className:"text-xs text-gray-600 truncate",children:I.description}),I.type!=="post"&&r.jsx("div",{className:"text-xs text-gray-500",children:I.type==="course"?"Course":"Menu"})]},N))})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(El,{to:"/userHome",className:"bg-indigo-500 hover:bg-indigo-600 text-white px-4 py-2 rounded transition font-semibold",title:"Go to Home Dashboard",children:"ðŸ  Home"}),r.jsx("button",{onClick:()=>c("/profile"),title:"My Profile",className:"w-10 h-10 rounded-full overflow-hidden bg-gray-200 flex items-center justify-center",children:S&&S.profileImage?r.jsx("img",{src:S.profileImage,alt:"profile",className:"w-full h-full object-cover"}):r.jsx("span",{className:"text-sm",children:S&&(S.name||S.email)?(S.name||S.email)[0]:"S"})}),r.jsxs("div",{className:"relative",children:[r.jsx("button",{onClick:()=>a(!i),className:"px-4 py-2 rounded hover:bg-purple-700 transition",children:"Menu â–¼"}),i&&r.jsxs("div",{className:"absolute right-0 mt-2 w-40 bg-white text-gray-800 rounded shadow-lg z-10",children:[r.jsx("button",{className:"block w-full text-left px-4 py-2 hover:bg-gray-100",children:"âš™ï¸ Settings"}),r.jsx("button",{className:"block w-full text-left px-4 py-2 hover:bg-gray-100 border-t",onClick:()=>{a(!1),o&&o(),c("/")},children:"ðŸšª Logout"})]})]})]})]}),r.jsxs("div",{className:"flex flex-1",children:[r.jsxs("aside",{className:"w-72 bg-white/50 backdrop-blur-sm border-r border-gray-200/50 p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-xs uppercase font-bold text-gray-400 tracking-wider mb-1",children:"Navigation"}),r.jsx("div",{className:"h-1 w-12 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full"})]}),r.jsxs("ul",{className:"space-y-2",children:[r.jsx("li",{children:r.jsxs("button",{onClick:()=>m("dashboard"),className:`w-full text-left px-5 py-3.5 rounded-xl transition-all font-medium group ${f==="dashboard"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg shadow-purple-500/30":"hover:bg-white/80 text-gray-700 hover:shadow-md"}`,children:[r.jsx("span",{className:"text-xl mr-3",children:"ðŸ“Š"}),r.jsx("span",{className:"group-hover:translate-x-1 inline-block transition-transform",children:"Dashboard"})]})}),r.jsx("li",{children:r.jsxs("button",{onClick:()=>m("courses"),className:`w-full text-left px-5 py-3.5 rounded-xl transition-all font-medium group ${f==="courses"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg shadow-purple-500/30":"hover:bg-white/80 text-gray-700 hover:shadow-md"}`,children:[r.jsx("span",{className:"text-xl mr-3",children:"ðŸ“š"}),r.jsx("span",{className:"group-hover:translate-x-1 inline-block transition-transform",children:"My Courses"})]})}),r.jsx("li",{children:r.jsx("button",{onClick:()=>m("assignments"),className:`w-full text-left px-4 py-2 rounded transition ${f==="assignments"?"bg-purple-600":"hover:bg-gray-700"}`,children:"âœï¸ Assignments"})}),r.jsx("li",{children:r.jsx("button",{onClick:()=>m("grades"),className:`w-full text-left px-4 py-2 rounded transition ${f==="grades"?"bg-purple-600":"hover:bg-gray-700"}`,children:"ðŸ“ Grades"})})]})]}),r.jsxs("main",{className:"flex-1 p-8",children:[Se(),f==="dashboard"?r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Your Posts"}),ze.length>0?r.jsx("div",{className:"space-y-4",children:ze.map(I=>r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border",children:[r.jsx("div",{className:"flex items-center gap-3 mb-3",children:r.jsxs("button",{onClick:()=>c(`/profile/${I.poster?.email||I.poster?.id}`),className:"flex items-center gap-3 hover:opacity-80 cursor-pointer",children:[I.poster?.avatar?r.jsx("img",{src:I.poster.avatar,alt:I.poster.name,className:"w-10 h-10 rounded-full object-cover"}):r.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-200 flex items-center justify-center text-sm font-bold",children:I.poster?.name?.[0]||"S"}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"font-semibold text-blue-600 hover:text-blue-800",children:I.poster?.name||"Student"}),r.jsx("p",{className:"text-xs text-gray-500",children:I.timestamp?new Date(I.timestamp).toLocaleDateString():"Recently"})]})]})}),r.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:I.title}),r.jsx("p",{className:"text-gray-700 mb-3",children:I.description}),I.image&&r.jsx("img",{src:I.image,alt:"post",className:"w-full h-48 object-cover rounded mb-3"}),I.video&&r.jsx("video",{src:I.video,controls:!0,className:"w-full h-48 rounded mb-3"}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[r.jsxs("button",{className:"hover:text-purple-600",children:["ðŸ‘ ",I.likes||0]}),r.jsxs("button",{onClick:()=>A(I.id,pe),className:"hover:text-yellow-500 text-xl",children:[(I.favoritedBy||[]).includes(pe)?"â˜…":"â˜†"," ",I.favorites||0]}),r.jsxs("button",{className:"hover:text-gray-800",children:["ðŸ’¬ ",(I.comments||[]).length]})]})]},I.id))}):r.jsx("div",{className:"bg-white p-6 rounded-lg shadow border text-gray-600 text-center",children:r.jsx("p",{children:"No posts yet. Create a post to share with everyone!"})})]}):f==="courses"?r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Assigned Classes"}),ye.length>0?r.jsx("ul",{className:"space-y-3",children:ye.map(I=>r.jsxs("li",{className:"p-4 border rounded bg-white",children:[r.jsxs("div",{className:"font-bold",children:[I.className," ",r.jsxs("span",{className:"text-sm text-gray-500",children:["(",I.subject,")"]})]}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Section: ",I.section," â€¢ Schedule: ",I.schedule]})]},I.id))}):r.jsx("div",{className:"text-gray-600",children:"No classes assigned."})]}):r.jsx("p",{className:"text-gray-600",children:"Content for this section goes here."})]})]}),D&&r.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",onClick:ee,children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-lg max-h-[90vh] overflow-y-auto",onClick:I=>I.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between mb-6 border-b pb-4",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"ðŸ“¤ Submit Assignment"}),r.jsx("button",{onClick:ee,className:"w-8 h-8 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center",children:"âœ•"})]}),r.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:D.title}),r.jsx("p",{className:"text-sm text-gray-700 mb-3",children:D.description}),r.jsxs("div",{className:"text-xs text-gray-600",children:[r.jsxs("div",{children:["ðŸ“… Due: ",new Date(D.dueDate).toLocaleDateString()]}),r.jsxs("div",{children:["â­ Points: ",D.points]})]})]}),r.jsxs("form",{onSubmit:q,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Your Answer"}),r.jsx("textarea",{value:T.answer,onChange:I=>se(N=>({...N,answer:I.target.value})),placeholder:"Write your answer or response here...",rows:"5",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"border-2 border-dashed border-blue-300 rounded-lg p-4",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"ðŸ“Ž Upload File or Image (optional)"}),r.jsx("input",{ref:me,type:"file",accept:"image/*,.pdf,.doc,.docx,.txt,.xlsx",onChange:ue,className:"hidden"}),T.filePreview?r.jsxs("div",{className:"space-y-2",children:[T.file?.match(/\.(jpg|jpeg|png|gif)$/i)?r.jsx("img",{src:T.filePreview,alt:"preview",className:"w-full h-48 object-cover rounded"}):r.jsxs("div",{className:"bg-gray-100 p-4 rounded text-center",children:[r.jsx("div",{className:"text-3xl mb-2",children:"ðŸ“„"}),r.jsx("p",{className:"font-semibold text-gray-700",children:T.file})]}),r.jsx("button",{type:"button",onClick:B,className:"w-full bg-red-500 text-white py-2 rounded hover:bg-red-600 transition",children:"ðŸ—‘ï¸ Remove File"})]}):r.jsxs("button",{type:"button",onClick:()=>me.current?.click(),className:"w-full border-2 border-dashed border-blue-300 rounded-lg p-6 text-center hover:bg-blue-50 transition",children:[r.jsx("div",{className:"text-blue-600 font-medium",children:"ðŸ“ Click to upload or drag file"}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Max 10MB â€¢ Images, PDF, Word, Excel"})]})]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:r.jsxs("p",{className:"text-xs text-yellow-800",children:[r.jsx("span",{className:"font-semibold",children:"ðŸ’¡ Note:"})," You can provide either text answer or file upload or both"]})}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:ee,className:"flex-1 bg-gray-500 text-white py-2 rounded-lg hover:bg-gray-600 transition font-semibold",children:"Cancel"}),r.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition font-semibold",children:"âœ… Submit Assignment"})]})]})]})}),de&&r.jsx("div",{className:"fixed bottom-6 right-6 bg-gray-800 text-white px-6 py-4 rounded-lg shadow-2xl z-50 flex items-center gap-3",children:r.jsx("span",{className:"font-medium",children:de})})]})}function cp(){const{user:i,updateUser:a}=g.useContext(nt)||{},{getPostsByUser:o,toggleLike:c,toggleFavorite:f,addComment:m}=g.useContext(Mt)||{},[h,j]=g.useState(!1),v=()=>{const C={name:i?.name||"",phone:i?.phone||"",dob:i?.dob||"",schoolName:i?.schoolName||"",profileImage:i?.profileImage||""};return i?.role==="student"?{...C,grade:i?.grade||"",classSection:i?.classSection||""}:i?.role==="teacher"?{...C,subject:i?.subject||"",department:i?.department||""}:i?.role==="admin"?{...C,department:i?.department||""}:C},[p,S]=g.useState(v()),y=i&&o?o(i.email||i.id):[];if(!i)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"bg-white p-6 rounded shadow",children:"No user signed in."})});const k=C=>{const{name:D,value:L}=C.target;S(T=>({...T,[D]:L}))},A=C=>{const D=C.target.files[0];if(D){const L=new FileReader;L.onloadend=()=>{S(T=>({...T,profileImage:L.result}))},L.readAsDataURL(D)}},W=()=>{a(p),j(!1)},w=()=>{S(v()),j(!1)};return r.jsx("div",{className:"min-h-screen p-8 bg-gray-50",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[i.profileImage?r.jsx("img",{src:i.profileImage,alt:"Profile",className:"w-20 h-20 rounded-full object-cover"}):r.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-200 flex items-center justify-center text-2xl font-semibold",children:(i.name||i.email||"U")[0]}),r.jsxs("div",{children:[h?r.jsx("input",{type:"text",name:"name",value:p.name,onChange:k,className:"text-2xl font-bold border rounded px-2 py-1",placeholder:"Name"}):r.jsx("div",{className:"text-2xl font-bold",children:i.name||i.email}),r.jsx("div",{className:"text-sm text-gray-600",children:i.role})]})]}),h?r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:W,className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",children:"Save"}),r.jsx("button",{onClick:w,className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"Cancel"})]}):r.jsx("button",{onClick:()=>j(!0),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Edit Profile"})]}),r.jsxs("div",{className:"space-y-2",children:[h&&r.jsxs("div",{children:[r.jsx("strong",{children:"Profile Image:"}),r.jsx("input",{type:"file",accept:"image/*",onChange:A,className:"ml-2"})]}),r.jsxs("div",{children:[r.jsx("strong",{children:"School:"}),h?r.jsx("input",{type:"text",name:"schoolName",value:p.schoolName,onChange:k,className:"ml-2 border rounded px-2 py-1 w-full",placeholder:"School Name"}):r.jsx("span",{className:"ml-2",children:i.schoolName||"Not specified"})]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Phone:"}),h?r.jsx("input",{type:"text",name:"phone",value:p.phone,onChange:k,className:"ml-2 border rounded px-2 py-1 w-full",placeholder:"Phone Number"}):r.jsx("span",{className:"ml-2",children:i.phone||"Not specified"})]}),r.jsxs("div",{children:[r.jsx("strong",{children:"DOB:"}),h?r.jsx("input",{type:"date",name:"dob",value:p.dob,onChange:k,className:"ml-2 border rounded px-2 py-1"}):r.jsx("span",{className:"ml-2",children:i.dob||"Not specified"})]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Email:"})," ",r.jsx("span",{className:"ml-2",children:i.email})]}),i.role==="student"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Grade:"}),h?r.jsx("input",{type:"text",name:"grade",value:p.grade,onChange:k,className:"ml-2 border rounded px-2 py-1 w-full",placeholder:"Grade Level"}):r.jsx("span",{className:"ml-2",children:i.grade||"Not specified"})]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Class Section:"}),h?r.jsx("input",{type:"text",name:"classSection",value:p.classSection,onChange:k,className:"ml-2 border rounded px-2 py-1 w-full",placeholder:"Class Section"}):r.jsx("span",{className:"ml-2",children:i.classSection||"Not specified"})]})]}),i.role==="teacher"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Subject:"}),h?r.jsx("input",{type:"text",name:"subject",value:p.subject,onChange:k,className:"ml-2 border rounded px-2 py-1 w-full",placeholder:"Teaching Subject"}):r.jsx("span",{className:"ml-2",children:i.subject||"Not specified"})]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Department:"}),h?r.jsx("input",{type:"text",name:"department",value:p.department,onChange:k,className:"ml-2 border rounded px-2 py-1 w-full",placeholder:"Department"}):r.jsx("span",{className:"ml-2",children:i.department||"Not specified"})]})]}),i.role==="admin"&&r.jsxs("div",{children:[r.jsx("strong",{children:"Department:"}),h?r.jsx("input",{type:"text",name:"department",value:p.department,onChange:k,className:"ml-2 border rounded px-2 py-1 w-full",placeholder:"Administrative Department"}):r.jsx("span",{className:"ml-2",children:i.department||"Not specified"})]})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h2",{className:"text-2xl font-bold mb-6",children:"My Posts"}),y.length>0?r.jsx("div",{className:"space-y-6",children:y.map(C=>r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:C.poster?.avatar?r.jsx("img",{src:C.poster.avatar,alt:"avatar",className:"w-full h-full object-cover"}):r.jsx("span",{children:(C.poster?.name||"A")[0]})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold",children:C.poster?.name||"Anonymous"}),r.jsx("div",{className:"text-xs text-gray-500",children:new Date(C.timestamp).toLocaleString()})]})]}),r.jsx("h3",{className:"text-lg font-bold mb-2",children:C.title}),r.jsx("p",{className:"mb-4 text-gray-700",children:C.description}),C.image&&r.jsx("img",{src:C.image,alt:"post",className:"w-full max-h-64 object-cover rounded mb-4"}),C.video&&r.jsxs("video",{controls:!0,className:"w-full rounded mb-4",children:[r.jsx("source",{src:C.video,type:"video/mp4"}),"Your browser does not support the video tag."]}),r.jsxs("div",{className:"flex gap-6 mt-4",children:[r.jsxs("button",{onClick:()=>c(C.id,i.email||i.id),className:"hover:text-red-600",children:["â¤ï¸ ",C.likes||0]}),r.jsxs("button",{onClick:()=>{const D=prompt("Add a comment");D&&m(C.id,{text:D,author:{name:i.name||i.email,id:i.email||i.id}})},className:"hover:text-green-600",children:["ðŸ’¬ ",(C.comments||[]).length]}),r.jsxs("button",{onClick:()=>f(C.id,i.email||i.id),className:"hover:text-yellow-500 flex items-center gap-1",children:[(C.favoritedBy||[]).includes(i.email||i.id)?"â˜…":"â˜†"," ",r.jsx("span",{children:C.favorites||0})]})]}),C.comments?.length>0&&r.jsx("div",{className:"mt-4 border-t pt-3 space-y-2",children:C.comments.map(D=>r.jsxs("div",{className:"text-sm",children:[r.jsxs("span",{className:"font-semibold",children:[D.author?.name||"Anon",":"]})," ",D.text]},D.id))})]},C.id))}):r.jsx("div",{className:"text-center text-gray-500",children:"No posts yet. Share your first post!"})]})]})})}function dp(){const{user:i,updateUser:a}=g.useContext(nt)||{},{getPostsByUser:o,toggleLike:c,toggleFavorite:f,addComment:m}=g.useContext(Mt)||{},[h,j]=g.useState(!1),[v,p]=g.useState({name:i?.name||"",phone:i?.phone||"",dob:i?.dob||"",schoolName:i?.schoolName||"",profileImage:i?.profileImage||"",grade:i?.grade||"",classSection:i?.classSection||""}),S=i&&o?o(i.email||i.id):[];if(!i)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"bg-white p-6 rounded shadow",children:"No user signed in."})});const y=w=>{const{name:C,value:D}=w.target;p(L=>({...L,[C]:D}))},k=w=>{const C=w.target.files[0];if(C){const D=new FileReader;D.onloadend=()=>{p(L=>({...L,profileImage:D.result}))},D.readAsDataURL(C)}},A=()=>{a(v),j(!1)},W=()=>{p({name:i.name||"",phone:i.phone||"",dob:i.dob||"",schoolName:i.schoolName||"",profileImage:i.profileImage||"",grade:i.grade||"",classSection:i.classSection||""}),j(!1)};return r.jsx("div",{className:"min-h-screen p-8 bg-gray-50",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[i.profileImage?r.jsx("img",{src:i.profileImage,alt:"Profile",className:"w-20 h-20 rounded-full object-cover"}):r.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-200 flex items-center justify-center text-2xl font-semibold",children:(i.name||i.email||"S")[0]}),r.jsxs("div",{children:[h?r.jsx("input",{type:"text",name:"name",value:v.name,onChange:y,className:"text-2xl font-bold border rounded px-2 py-1",placeholder:"Name"}):r.jsx("div",{className:"text-2xl font-bold",children:i.name||i.email}),r.jsx("div",{className:"text-sm text-gray-600",children:i.role})]})]}),h?r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:A,className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",children:"Save"}),r.jsx("button",{onClick:W,className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"Cancel"})]}):r.jsx("button",{onClick:()=>j(!0),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Edit Profile"})]}),r.jsxs("div",{className:"space-y-2",children:[h&&r.jsxs("div",{children:[r.jsx("strong",{children:"Profile Image:"}),r.jsx("input",{type:"file",accept:"image/*",onChange:k,className:"ml-2"})]}),r.jsxs("div",{children:[r.jsx("strong",{children:"School:"}),h?r.jsx("input",{type:"text",name:"schoolName",value:v.schoolName,onChange:y,className:"ml-2 border rounded px-2 py-1 w-full",placeholder:"School Name"}):r.jsx("span",{className:"ml-2",children:i.schoolName||"Not specified"})]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Phone:"}),h?r.jsx("input",{type:"text",name:"phone",value:v.phone,onChange:y,className:"ml-2 border rounded px-2 py-1 w-full",placeholder:"Phone Number"}):r.jsx("span",{className:"ml-2",children:i.phone||"Not specified"})]}),r.jsxs("div",{children:[r.jsx("strong",{children:"DOB:"}),h?r.jsx("input",{type:"date",name:"dob",value:v.dob,onChange:y,className:"ml-2 border rounded px-2 py-1"}):r.jsx("span",{className:"ml-2",children:i.dob||"Not specified"})]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Email:"})," ",r.jsx("span",{className:"ml-2",children:i.email})]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Grade:"}),h?r.jsx("input",{type:"text",name:"grade",value:v.grade,onChange:y,className:"ml-2 border rounded px-2 py-1 w-full",placeholder:"Grade Level"}):r.jsx("span",{className:"ml-2",children:i.grade||"Not specified"})]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Class Section:"}),h?r.jsx("input",{type:"text",name:"classSection",value:v.classSection,onChange:y,className:"ml-2 border rounded px-2 py-1 w-full",placeholder:"Class Section"}):r.jsx("span",{className:"ml-2",children:i.classSection||"Not specified"})]})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h2",{className:"text-2xl font-bold mb-6",children:"My Posts"}),S.length>0?r.jsx("div",{className:"space-y-6",children:S.map(w=>r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:w.poster?.avatar?r.jsx("img",{src:w.poster.avatar,alt:"avatar",className:"w-full h-full object-cover"}):r.jsx("span",{children:(w.poster?.name||"A")[0]})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold",children:w.poster?.name||"Anonymous"}),r.jsx("div",{className:"text-xs text-gray-500",children:new Date(w.timestamp).toLocaleString()})]})]}),r.jsx("h3",{className:"text-lg font-bold mb-2",children:w.title}),r.jsx("p",{className:"mb-4 text-gray-700",children:w.description}),w.image&&r.jsx("img",{src:w.image,alt:"post",className:"w-full max-h-64 object-cover rounded mb-4"}),w.video&&r.jsxs("video",{controls:!0,className:"w-full rounded mb-4",children:[r.jsx("source",{src:w.video,type:"video/mp4"}),"Your browser does not support the video tag."]}),r.jsxs("div",{className:"flex gap-6 mt-4",children:[r.jsxs("button",{onClick:()=>c(w.id,i.email||i.id),className:"hover:text-red-600",children:["â¤ï¸ ",w.likes||0]}),r.jsxs("button",{onClick:()=>{const C=prompt("Add a comment");C&&m(w.id,{text:C,author:{name:i.name||i.email,id:i.email||i.id}})},className:"hover:text-green-600",children:["ðŸ’¬ ",(w.comments||[]).length]}),r.jsxs("button",{onClick:()=>f(w.id,i.email||i.id),className:"hover:text-yellow-500 flex items-center gap-1",children:[(w.favoritedBy||[]).includes(i.email||i.id)?"â˜…":"â˜†"," ",r.jsx("span",{children:w.favorites||0})]})]}),w.comments?.length>0&&r.jsx("div",{className:"mt-4 border-t pt-3 space-y-2",children:w.comments.map(C=>r.jsxs("div",{className:"text-sm",children:[r.jsxs("span",{className:"font-semibold",children:[C.author?.name||"Anon",":"]})," ",C.text]},C.id))})]},w.id))}):r.jsx("div",{className:"text-center text-gray-500",children:"No posts yet. Share your first post!"})]})]})})}function mp(){const{user:i,updateUser:a}=g.useContext(nt)||{},{getPostsByUser:o,toggleLike:c,toggleFavorite:f,addComment:m}=g.useContext(Mt)||{},[h,j]=g.useState(!1),[v,p]=g.useState({name:i?.name||"",phone:i?.phone||"",dob:i?.dob||"",schoolName:i?.schoolName||"",profileImage:i?.profileImage||"",subject:i?.subject||"",department:i?.department||""}),S=i&&o?o(i.email||i.id):[];if(!i)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"bg-white p-6 rounded shadow",children:"No user signed in."})});const y=w=>{const{name:C,value:D}=w.target;p(L=>({...L,[C]:D}))},k=w=>{const C=w.target.files[0];if(C){const D=new FileReader;D.onloadend=()=>{p(L=>({...L,profileImage:D.result}))},D.readAsDataURL(C)}},A=()=>{a(v),j(!1)},W=()=>{p({name:i.name||"",phone:i.phone||"",dob:i.dob||"",schoolName:i.schoolName||"",profileImage:i.profileImage||"",subject:i.subject||"",department:i.department||""}),j(!1)};return r.jsx("div",{className:"min-h-screen p-8 bg-gray-50",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[i.profileImage?r.jsx("img",{src:i.profileImage,alt:"Profile",className:"w-20 h-20 rounded-full object-cover"}):r.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-200 flex items-center justify-center text-2xl font-semibold",children:(i.name||i.email||"T")[0]}),r.jsxs("div",{children:[h?r.jsx("input",{type:"text",name:"name",value:v.name,onChange:y,className:"text-2xl font-bold border rounded px-2 py-1",placeholder:"Name"}):r.jsx("div",{className:"text-2xl font-bold",children:i.name||i.email}),r.jsx("div",{className:"text-sm text-gray-600",children:i.role})]})]}),h?r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:A,className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",children:"Save"}),r.jsx("button",{onClick:W,className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"Cancel"})]}):r.jsx("button",{onClick:()=>j(!0),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Edit Profile"})]}),r.jsxs("div",{className:"space-y-2",children:[h&&r.jsxs("div",{children:[r.jsx("strong",{children:"Profile Image:"}),r.jsx("input",{type:"file",accept:"image/*",onChange:k,className:"ml-2"})]}),r.jsxs("div",{children:[r.jsx("strong",{children:"School:"}),h?r.jsx("input",{type:"text",name:"schoolName",value:v.schoolName,onChange:y,className:"ml-2 border rounded px-2 py-1 w-full",placeholder:"School Name"}):r.jsx("span",{className:"ml-2",children:i.schoolName||"Not specified"})]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Phone:"}),h?r.jsx("input",{type:"text",name:"phone",value:v.phone,onChange:y,className:"ml-2 border rounded px-2 py-1 w-full",placeholder:"Phone Number"}):r.jsx("span",{className:"ml-2",children:i.phone||"Not specified"})]}),r.jsxs("div",{children:[r.jsx("strong",{children:"DOB:"}),h?r.jsx("input",{type:"date",name:"dob",value:v.dob,onChange:y,className:"ml-2 border rounded px-2 py-1"}):r.jsx("span",{className:"ml-2",children:i.dob||"Not specified"})]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Email:"})," ",r.jsx("span",{className:"ml-2",children:i.email})]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Subject:"}),h?r.jsx("input",{type:"text",name:"subject",value:v.subject,onChange:y,className:"ml-2 border rounded px-2 py-1 w-full",placeholder:"Teaching Subject"}):r.jsx("span",{className:"ml-2",children:i.subject||"Not specified"})]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Department:"}),h?r.jsx("input",{type:"text",name:"department",value:v.department,onChange:y,className:"ml-2 border rounded px-2 py-1 w-full",placeholder:"Department"}):r.jsx("span",{className:"ml-2",children:i.department||"Not specified"})]})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h2",{className:"text-2xl font-bold mb-6",children:"My Posts"}),S.length>0?r.jsx("div",{className:"space-y-6",children:S.map(w=>r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:w.poster?.avatar?r.jsx("img",{src:w.poster.avatar,alt:"avatar",className:"w-full h-full object-cover"}):r.jsx("span",{children:(w.poster?.name||"A")[0]})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold",children:w.poster?.name||"Anonymous"}),r.jsx("div",{className:"text-xs text-gray-500",children:new Date(w.timestamp).toLocaleString()})]})]}),r.jsx("h3",{className:"text-lg font-bold mb-2",children:w.title}),r.jsx("p",{className:"mb-4 text-gray-700",children:w.description}),w.image&&r.jsx("img",{src:w.image,alt:"post",className:"w-full max-h-64 object-cover rounded mb-4"}),w.video&&r.jsxs("video",{controls:!0,className:"w-full rounded mb-4",children:[r.jsx("source",{src:w.video,type:"video/mp4"}),"Your browser does not support the video tag."]}),r.jsxs("div",{className:"flex gap-6 mt-4",children:[r.jsxs("button",{onClick:()=>c(w.id,i.email||i.id),className:"hover:text-red-600",children:["â¤ï¸ ",w.likes||0]}),r.jsxs("button",{onClick:()=>{const C=prompt("Add a comment");C&&m(w.id,{text:C,author:{name:i.name||i.email,id:i.email||i.id}})},className:"hover:text-green-600",children:["ðŸ’¬ ",(w.comments||[]).length]}),r.jsxs("button",{onClick:()=>f(w.id,i.email||i.id),className:"hover:text-yellow-500 flex items-center gap-1",children:[(w.favoritedBy||[]).includes(i.email||i.id)?"â˜…":"â˜†"," ",r.jsx("span",{children:w.favorites||0})]})]}),w.comments?.length>0&&r.jsx("div",{className:"mt-4 border-t pt-3 space-y-2",children:w.comments.map(C=>r.jsxs("div",{className:"text-sm",children:[r.jsxs("span",{className:"font-semibold",children:[C.author?.name||"Anon",":"]})," ",C.text]},C.id))})]},w.id))}):r.jsx("div",{className:"text-center text-gray-500",children:"No posts yet. Share your first post!"})]})]})})}function fp(){const{user:i,updateUser:a}=g.useContext(nt)||{},{getPostsByUser:o,toggleLike:c,toggleFavorite:f,addComment:m}=g.useContext(Mt)||{},[h,j]=g.useState(!1),[v,p]=g.useState({name:i?.name||"",phone:i?.phone||"",dob:i?.dob||"",schoolName:i?.schoolName||"",profileImage:i?.profileImage||""}),S=i&&o?o(i.email||i.id):[];if(!i)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"bg-white p-6 rounded shadow",children:"No user signed in."})});const y=w=>{const{name:C,value:D}=w.target;p(L=>({...L,[C]:D}))},k=w=>{const C=w.target.files[0];if(C){const D=new FileReader;D.onloadend=()=>{p(L=>({...L,profileImage:D.result}))},D.readAsDataURL(C)}},A=()=>{a(v),j(!1)},W=()=>{p({name:i.name||"",phone:i.phone||"",dob:i.dob||"",schoolName:i.schoolName||"",profileImage:i.profileImage||""}),j(!1)};return r.jsx("div",{className:"min-h-screen p-8 bg-gray-50",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[i.profileImage?r.jsx("img",{src:i.profileImage,alt:"Profile",className:"w-20 h-20 rounded-full object-cover"}):r.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-200 flex items-center justify-center text-2xl font-semibold",children:(i.name||i.email||"A")[0]}),r.jsxs("div",{children:[h?r.jsx("input",{type:"text",name:"name",value:v.name,onChange:y,className:"text-2xl font-bold border rounded px-2 py-1",placeholder:"Name"}):r.jsx("div",{className:"text-2xl font-bold",children:i.name||i.email}),r.jsx("div",{className:"text-sm text-gray-600",children:i.role})]})]}),h?r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:A,className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",children:"Save"}),r.jsx("button",{onClick:W,className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"Cancel"})]}):r.jsx("button",{onClick:()=>j(!0),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Edit Profile"})]}),r.jsxs("div",{className:"space-y-2",children:[h&&r.jsxs("div",{children:[r.jsx("strong",{children:"Profile Image:"}),r.jsx("input",{type:"file",accept:"image/*",onChange:k,className:"ml-2"})]}),r.jsxs("div",{children:[r.jsx("strong",{children:"School:"}),h?r.jsx("input",{type:"text",name:"schoolName",value:v.schoolName,onChange:y,className:"ml-2 border rounded px-2 py-1 w-full",placeholder:"School Name"}):r.jsx("span",{className:"ml-2",children:i.schoolName||"Not specified"})]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Phone:"}),h?r.jsx("input",{type:"text",name:"phone",value:v.phone,onChange:y,className:"ml-2 border rounded px-2 py-1 w-full",placeholder:"Phone Number"}):r.jsx("span",{className:"ml-2",children:i.phone||"Not specified"})]}),r.jsxs("div",{children:[r.jsx("strong",{children:"DOB:"}),h?r.jsx("input",{type:"date",name:"dob",value:v.dob,onChange:y,className:"ml-2 border rounded px-2 py-1"}):r.jsx("span",{className:"ml-2",children:i.dob||"Not specified"})]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Email:"})," ",r.jsx("span",{className:"ml-2",children:i.email})]})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h2",{className:"text-2xl font-bold mb-6",children:"My Posts"}),S.length>0?r.jsx("div",{className:"space-y-6",children:S.map(w=>r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:w.poster?.avatar?r.jsx("img",{src:w.poster.avatar,alt:"avatar",className:"w-full h-full object-cover"}):r.jsx("span",{children:(w.poster?.name||"A")[0]})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold",children:w.poster?.name||"Anonymous"}),r.jsx("div",{className:"text-xs text-gray-500",children:new Date(w.timestamp).toLocaleString()})]})]}),r.jsx("h3",{className:"text-lg font-bold mb-2",children:w.title}),r.jsx("p",{className:"mb-4 text-gray-700",children:w.description}),w.image&&r.jsx("img",{src:w.image,alt:"post",className:"w-full max-h-64 object-cover rounded mb-4"}),w.video&&r.jsxs("video",{controls:!0,className:"w-full rounded mb-4",children:[r.jsx("source",{src:w.video,type:"video/mp4"}),"Your browser does not support the video tag."]}),r.jsxs("div",{className:"flex gap-6 mt-4",children:[r.jsxs("button",{onClick:()=>c(w.id,i.email||i.id),className:"hover:text-red-600",children:["â¤ï¸ ",w.likes||0]}),r.jsxs("button",{onClick:()=>{const C=prompt("Add a comment");C&&m(w.id,{text:C,author:{name:i.name||i.email,id:i.email||i.id}})},className:"hover:text-green-600",children:["ðŸ’¬ ",(w.comments||[]).length]}),r.jsxs("button",{onClick:()=>f(w.id,i.email||i.id),className:"hover:text-yellow-500 flex items-center gap-1",children:[(w.favoritedBy||[]).includes(i.email||i.id)?"â˜…":"â˜†"," ",r.jsx("span",{children:w.favorites||0})]})]}),w.comments?.length>0&&r.jsx("div",{className:"mt-4 border-t pt-3 space-y-2",children:w.comments.map(C=>r.jsxs("div",{className:"text-sm",children:[r.jsxs("span",{className:"font-semibold",children:[C.author?.name||"Anon",":"]})," ",C.text]},C.id))})]},w.id))}):r.jsx("div",{className:"text-center text-gray-500",children:"No posts yet. Share your first post!"})]})]})})}function hp(){const{userId:i}=Bf(),a=In(),{allUsers:o=[]}=g.useContext(wr)||{allUsers:[]},{getPostsByUser:c,toggleLike:f,toggleFavorite:m,addComment:h}=g.useContext(Mt)||{},[j,v]=g.useState(null);g.useEffect(()=>{const y=localStorage.getItem("ppc_userId")||localStorage.getItem("ppc_email");v(y)},[]);const p=o.find(y=>y.id===i||y.email===i),S=p&&c?c(p.email||p.id):[];return p?r.jsx("div",{className:"min-h-screen p-8 bg-gray-50",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("button",{onClick:()=>a(-1),className:"mb-6 bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"â† Back"}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-8",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[p.profileImage?r.jsx("img",{src:p.profileImage,alt:"Profile",className:"w-20 h-20 rounded-full object-cover"}):r.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-200 flex items-center justify-center text-2xl font-semibold",children:(p.name||p.email||"U")[0]}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:p.name||p.email}),r.jsx("p",{className:"text-sm text-gray-600 capitalize",children:p.role||"User"})]})]}),r.jsxs("div",{className:"space-y-2 border-t pt-4",children:[p.schoolName&&r.jsxs("div",{children:[r.jsx("strong",{children:"School:"}),r.jsx("span",{className:"ml-2",children:p.schoolName})]}),p.phone&&r.jsxs("div",{children:[r.jsx("strong",{children:"Phone:"}),r.jsx("span",{className:"ml-2",children:p.phone})]}),p.dob&&r.jsxs("div",{children:[r.jsx("strong",{children:"DOB:"}),r.jsx("span",{className:"ml-2",children:p.dob})]}),p.role==="student"&&p.grade&&r.jsxs("div",{children:[r.jsx("strong",{children:"Grade:"}),r.jsx("span",{className:"ml-2",children:p.grade})]}),p.role==="student"&&p.classSection&&r.jsxs("div",{children:[r.jsx("strong",{children:"Class Section:"}),r.jsx("span",{className:"ml-2",children:p.classSection})]}),p.role==="teacher"&&p.subject&&r.jsxs("div",{children:[r.jsx("strong",{children:"Subject:"}),r.jsx("span",{className:"ml-2",children:p.subject})]}),p.role==="teacher"&&p.department&&r.jsxs("div",{children:[r.jsx("strong",{children:"Department:"}),r.jsx("span",{className:"ml-2",children:p.department})]}),p.role==="admin"&&p.department&&r.jsxs("div",{children:[r.jsx("strong",{children:"Department:"}),r.jsx("span",{className:"ml-2",children:p.department})]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Email:"}),r.jsx("span",{className:"ml-2",children:p.email})]})]})]}),r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsxs("h2",{className:"text-2xl font-bold mb-6",children:[p.name||p.email,"'s Posts"]}),S.length>0?r.jsx("div",{className:"space-y-6",children:S.map(y=>r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:y.poster?.avatar?r.jsx("img",{src:y.poster.avatar,alt:"avatar",className:"w-full h-full object-cover"}):r.jsx("span",{children:(y.poster?.name||"A")[0]})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold",children:y.poster?.name||"Anonymous"}),r.jsx("div",{className:"text-xs text-gray-500",children:new Date(y.timestamp).toLocaleString()})]})]}),r.jsx("h3",{className:"text-lg font-bold mb-2",children:y.title}),r.jsx("p",{className:"mb-4 text-gray-700",children:y.description}),y.image&&r.jsx("img",{src:y.image,alt:"post",className:"w-full max-h-64 object-cover rounded mb-4"}),y.video&&r.jsxs("video",{controls:!0,className:"w-full rounded mb-4",children:[r.jsx("source",{src:y.video,type:"video/mp4"}),"Your browser does not support the video tag."]}),r.jsxs("div",{className:"flex gap-6 mt-4",children:[r.jsxs("button",{onClick:()=>j&&f(y.id,j),className:"hover:text-red-600 cursor-pointer",children:["â¤ï¸ ",y.likes||0]}),r.jsxs("button",{onClick:()=>{if(!j){alert("Please sign in to comment");return}const k=prompt("Add a comment");k&&h(y.id,{text:k,author:{name:"Viewer",id:j}})},className:"hover:text-green-600 cursor-pointer",children:["ðŸ’¬ ",(y.comments||[]).length]}),r.jsxs("button",{onClick:()=>j&&m(y.id,j),className:"hover:text-yellow-600 cursor-pointer flex items-center gap-1",children:[(y.favoritedBy||[]).includes(j)?"â˜…":"â˜†"," ",r.jsx("span",{children:y.favorites||0})]})]}),y.comments?.length>0&&r.jsx("div",{className:"mt-4 border-t pt-3 space-y-2",children:y.comments.map(k=>r.jsxs("div",{className:"text-sm",children:[r.jsxs("span",{className:"font-semibold",children:[k.author?.name||"Anon",":"]})," ",k.text]},k.id))})]},y.id))}):r.jsx("div",{className:"text-center text-gray-500",children:"No posts yet."})]})]})}):r.jsx("div",{className:"min-h-screen p-8 bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"bg-white p-8 rounded-lg shadow max-w-md text-center",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"User Not Found"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"The profile you're looking for doesn't exist."}),r.jsx("button",{onClick:()=>a(-1),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Go Back"})]})})}function pp(i){switch((i||"").toLowerCase().trim()){case"admin":case"adminschool":return"/admin";case"teacher":return"/teacher";case"student":case"students":return"/student";default:return"/userHome"}}function gp(){const{user:i}=g.useContext(nt)||{};return i?i.role==="admin"?r.jsx(fp,{}):i.role==="teacher"?r.jsx(mp,{}):i.role==="student"?r.jsx(dp,{}):r.jsx(cp,{}):r.jsx(Cl,{to:"/",replace:!0})}function xr({children:i,requiredRole:a=null}){const{user:o}=g.useContext(nt)||{};if(!o)return r.jsx(Cl,{to:"/",replace:!0});if(a&&o.role!==a){const c=pp(o.role);return r.jsx(Cl,{to:c,replace:!0})}return i}function xp(){return r.jsx(Vh,{children:r.jsx(Wh,{children:r.jsx(Kh,{children:r.jsx(ap,{children:r.jsx(Jh,{children:r.jsxs(rh,{children:[r.jsx(tn,{path:"/",element:r.jsx(Yh,{})}),r.jsx(tn,{path:"/userHome",element:r.jsx(xr,{children:r.jsx(Gh,{})})}),r.jsx(tn,{path:"/admin",element:r.jsx(xr,{requiredRole:"admin",children:r.jsx(lp,{})})}),r.jsx(tn,{path:"/teacher",element:r.jsx(xr,{requiredRole:"teacher",children:r.jsx(op,{})})}),r.jsx(tn,{path:"/student",element:r.jsx(xr,{requiredRole:"student",children:r.jsx(up,{})})}),r.jsx(tn,{path:"/profile",element:r.jsx(xr,{children:r.jsx(gp,{})})}),r.jsx(tn,{path:"/profile/:userId",element:r.jsx(xr,{children:r.jsx(hp,{})})}),r.jsx(tn,{path:"*",element:r.jsx(Cl,{to:"/",replace:!0})})]})})})})})})}Bh.createRoot(document.getElementById("root")).render(r.jsx(Ph,{children:r.jsx(xp,{})}));
